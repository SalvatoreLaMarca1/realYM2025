(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var gc={exports:{}},Vo={},yc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function qg(){if(Rd)return we;Rd=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function z(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function q(V,B,oe){this.props=V,this.context=B,this.refs=J,this.updater=oe||Q}q.prototype.isReactComponent={},q.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function me(){}me.prototype=q.prototype;function ge(V,B,oe){this.props=V,this.context=B,this.refs=J,this.updater=oe||Q}var _e=ge.prototype=new me;_e.constructor=ge,Z(_e,q.prototype),_e.isPureReactComponent=!0;var ye=Array.isArray,Xe=Object.prototype.hasOwnProperty,ke={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(V,B,oe){var ve,Ee={},Se=null,Ne=null;if(B!=null)for(ve in B.ref!==void 0&&(Ne=B.ref),B.key!==void 0&&(Se=""+B.key),B)Xe.call(B,ve)&&!k.hasOwnProperty(ve)&&(Ee[ve]=B[ve]);var Le=arguments.length-2;if(Le===1)Ee.children=oe;else if(1<Le){for(var Ue=Array(Le),ft=0;ft<Le;ft++)Ue[ft]=arguments[ft+2];Ee.children=Ue}if(V&&V.defaultProps)for(ve in Le=V.defaultProps,Le)Ee[ve]===void 0&&(Ee[ve]=Le[ve]);return{$$typeof:s,type:V,key:Se,ref:Ne,props:Ee,_owner:ke.current}}function I(V,B){return{$$typeof:s,type:V.type,key:B,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function D(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return B[oe]})}var x=/\/+/g;function S(V,B){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):B.toString(36)}function Ye(V,B,oe,ve,Ee){var Se=typeof V;(Se==="undefined"||Se==="boolean")&&(V=null);var Ne=!1;if(V===null)Ne=!0;else switch(Se){case"string":case"number":Ne=!0;break;case"object":switch(V.$$typeof){case s:case t:Ne=!0}}if(Ne)return Ne=V,Ee=Ee(Ne),V=ve===""?"."+S(Ne,0):ve,ye(Ee)?(oe="",V!=null&&(oe=V.replace(x,"$&/")+"/"),Ye(Ee,B,oe,"",function(ft){return ft})):Ee!=null&&(P(Ee)&&(Ee=I(Ee,oe+(!Ee.key||Ne&&Ne.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+V)),B.push(Ee)),1;if(Ne=0,ve=ve===""?".":ve+":",ye(V))for(var Le=0;Le<V.length;Le++){Se=V[Le];var Ue=ve+S(Se,Le);Ne+=Ye(Se,B,oe,Ue,Ee)}else if(Ue=z(V),typeof Ue=="function")for(V=Ue.call(V),Le=0;!(Se=V.next()).done;)Se=Se.value,Ue=ve+S(Se,Le++),Ne+=Ye(Se,B,oe,Ue,Ee);else if(Se==="object")throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ne}function It(V,B,oe){if(V==null)return V;var ve=[],Ee=0;return Ye(V,ve,"","",function(Se){return B.call(oe,Se,Ee++)}),ve}function At(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var Me={current:null},G={transition:null},le={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:G,ReactCurrentOwner:ke};function ee(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:It,forEach:function(V,B,oe){It(V,function(){B.apply(this,arguments)},oe)},count:function(V){var B=0;return It(V,function(){B++}),B},toArray:function(V){return It(V,function(B){return B})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},we.Component=q,we.Fragment=r,we.Profiler=a,we.PureComponent=ge,we.StrictMode=o,we.Suspense=v,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,we.act=ee,we.cloneElement=function(V,B,oe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ve=Z({},V.props),Ee=V.key,Se=V.ref,Ne=V._owner;if(B!=null){if(B.ref!==void 0&&(Se=B.ref,Ne=ke.current),B.key!==void 0&&(Ee=""+B.key),V.type&&V.type.defaultProps)var Le=V.type.defaultProps;for(Ue in B)Xe.call(B,Ue)&&!k.hasOwnProperty(Ue)&&(ve[Ue]=B[Ue]===void 0&&Le!==void 0?Le[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)ve.children=oe;else if(1<Ue){Le=Array(Ue);for(var ft=0;ft<Ue;ft++)Le[ft]=arguments[ft+2];ve.children=Le}return{$$typeof:s,type:V.type,key:Ee,ref:Se,props:ve,_owner:Ne}},we.createContext=function(V){return V={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},we.createElement=T,we.createFactory=function(V){var B=T.bind(null,V);return B.type=V,B},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:g,render:V}},we.isValidElement=P,we.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:At}},we.memo=function(V,B){return{$$typeof:E,type:V,compare:B===void 0?null:B}},we.startTransition=function(V){var B=G.transition;G.transition={};try{V()}finally{G.transition=B}},we.unstable_act=ee,we.useCallback=function(V,B){return Me.current.useCallback(V,B)},we.useContext=function(V){return Me.current.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V){return Me.current.useDeferredValue(V)},we.useEffect=function(V,B){return Me.current.useEffect(V,B)},we.useId=function(){return Me.current.useId()},we.useImperativeHandle=function(V,B,oe){return Me.current.useImperativeHandle(V,B,oe)},we.useInsertionEffect=function(V,B){return Me.current.useInsertionEffect(V,B)},we.useLayoutEffect=function(V,B){return Me.current.useLayoutEffect(V,B)},we.useMemo=function(V,B){return Me.current.useMemo(V,B)},we.useReducer=function(V,B,oe){return Me.current.useReducer(V,B,oe)},we.useRef=function(V){return Me.current.useRef(V)},we.useState=function(V){return Me.current.useState(V)},we.useSyncExternalStore=function(V,B,oe){return Me.current.useSyncExternalStore(V,B,oe)},we.useTransition=function(){return Me.current.useTransition()},we.version="18.3.1",we}var Pd;function Jc(){return Pd||(Pd=1,yc.exports=qg()),yc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function Hg(){if(kd)return Vo;kd=1;var s=Jc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,v,E){var A,M={},z=null,Q=null;E!==void 0&&(z=""+E),v.key!==void 0&&(z=""+v.key),v.ref!==void 0&&(Q=v.ref);for(A in v)o.call(v,A)&&!c.hasOwnProperty(A)&&(M[A]=v[A]);if(g&&g.defaultProps)for(A in v=g.defaultProps,v)M[A]===void 0&&(M[A]=v[A]);return{$$typeof:t,type:g,key:z,ref:Q,props:M,_owner:a.current}}return Vo.Fragment=r,Vo.jsx=p,Vo.jsxs=p,Vo}var Dd;function Qg(){return Dd||(Dd=1,gc.exports=Hg()),gc.exports}var Kt=Qg(),zn=Jc(),ca={},vc={exports:{}},Ht={},_c={exports:{}},Ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function Kg(){return Vd||(Vd=1,function(s){function t(G,le){var ee=G.length;G.push(le);e:for(;0<ee;){var V=ee-1>>>1,B=G[V];if(0<a(B,le))G[V]=le,G[ee]=B,ee=V;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var le=G[0],ee=G.pop();if(ee!==le){G[0]=ee;e:for(var V=0,B=G.length,oe=B>>>1;V<oe;){var ve=2*(V+1)-1,Ee=G[ve],Se=ve+1,Ne=G[Se];if(0>a(Ee,ee))Se<B&&0>a(Ne,Ee)?(G[V]=Ne,G[Se]=ee,V=Se):(G[V]=Ee,G[ve]=ee,V=ve);else if(Se<B&&0>a(Ne,ee))G[V]=Ne,G[Se]=ee,V=Se;else break e}}return le}function a(G,le){var ee=G.sortIndex-le.sortIndex;return ee!==0?ee:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],E=[],A=1,M=null,z=3,Q=!1,Z=!1,J=!1,q=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(G){for(var le=r(E);le!==null;){if(le.callback===null)o(E);else if(le.startTime<=G)o(E),le.sortIndex=le.expirationTime,t(v,le);else break;le=r(E)}}function ye(G){if(J=!1,_e(G),!Z)if(r(v)!==null)Z=!0,At(Xe);else{var le=r(E);le!==null&&Me(ye,le.startTime-G)}}function Xe(G,le){Z=!1,J&&(J=!1,me(T),T=-1),Q=!0;var ee=z;try{for(_e(le),M=r(v);M!==null&&(!(M.expirationTime>le)||G&&!D());){var V=M.callback;if(typeof V=="function"){M.callback=null,z=M.priorityLevel;var B=V(M.expirationTime<=le);le=s.unstable_now(),typeof B=="function"?M.callback=B:M===r(v)&&o(v),_e(le)}else o(v);M=r(v)}if(M!==null)var oe=!0;else{var ve=r(E);ve!==null&&Me(ye,ve.startTime-le),oe=!1}return oe}finally{M=null,z=ee,Q=!1}}var ke=!1,k=null,T=-1,I=5,P=-1;function D(){return!(s.unstable_now()-P<I)}function x(){if(k!==null){var G=s.unstable_now();P=G;var le=!0;try{le=k(!0,G)}finally{le?S():(ke=!1,k=null)}}else ke=!1}var S;if(typeof ge=="function")S=function(){ge(x)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,It=Ye.port2;Ye.port1.onmessage=x,S=function(){It.postMessage(null)}}else S=function(){q(x,0)};function At(G){k=G,ke||(ke=!0,S())}function Me(G,le){T=q(function(){G(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){Z||Q||(Z=!0,At(Xe))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_getFirstCallbackNode=function(){return r(v)},s.unstable_next=function(G){switch(z){case 1:case 2:case 3:var le=3;break;default:le=z}var ee=z;z=le;try{return G()}finally{z=ee}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=z;z=G;try{return le()}finally{z=ee}},s.unstable_scheduleCallback=function(G,le,ee){var V=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?V+ee:V):ee=V,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,G={id:A++,callback:le,priorityLevel:G,startTime:ee,expirationTime:B,sortIndex:-1},ee>V?(G.sortIndex=ee,t(E,G),r(v)===null&&G===r(E)&&(J?(me(T),T=-1):J=!0,Me(ye,ee-V))):(G.sortIndex=B,t(v,G),Z||Q||(Z=!0,At(Xe))),G},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(G){var le=z;return function(){var ee=z;z=le;try{return G.apply(this,arguments)}finally{z=ee}}}}(Ec)),Ec}var xd;function Wg(){return xd||(xd=1,_c.exports=Kg()),_c.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function Gg(){if(Nd)return Ht;Nd=1;var s=Jc(),t=Wg();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},M={};function z(e){return v.call(M,e)?!0:v.call(A,e)?!1:E.test(e)?M[e]=!0:(A[e]=!0,!1)}function Q(e,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z(e,n,i,u){if(n===null||typeof n>"u"||Q(e,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function J(e,n,i,u,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){q[e]=new J(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];q[n]=new J(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){q[e]=new J(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){q[e]=new J(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){q[e]=new J(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){q[e]=new J(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){q[e]=new J(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){q[e]=new J(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){q[e]=new J(e,5,!1,e.toLowerCase(),null,!1,!1)});var me=/[\-:]([a-z])/g;function ge(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(me,ge);q[n]=new J(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(me,ge);q[n]=new J(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(me,ge);q[n]=new J(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){q[e]=new J(e,1,!1,e.toLowerCase(),null,!1,!1)}),q.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){q[e]=new J(e,1,!1,e.toLowerCase(),null,!0,!0)});function _e(e,n,i,u){var h=q.hasOwnProperty(n)?q[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Z(n,i,h,u)&&(i=null),u||h===null?z(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,u=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?e.setAttributeNS(u,n,i):e.setAttribute(n,i))))}var ye=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),ke=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,V;function B(e){if(V===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||""}return`
`+V+e}var oe=!1;function ve(e,n){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(e,[],n)}else{try{n.call()}catch(F){u=F}e.call(n.prototype)}else{try{throw Error()}catch(F){u=F}e()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,w=d.length-1;1<=y&&0<=w&&h[y]!==d[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==d[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==d[w]){var C=`
`+h[y].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function Ee(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function Se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case ke:return"Portal";case I:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case x:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case It:return n=e.displayName||null,n!==null?n:Se(e.type)||"Memo";case At:n=e._payload,e=e._init;try{return Se(e(n))}catch{}}return null}function Ne(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ue(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ft(e){var n=Ue(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qn(e){e._valueTracker||(e._valueTracker=ft(e))}function Ai(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return e&&(u=Ue(e)?e.checked?"true":"false":e.value),e=u,e!==i?(n.setValue(e),!0):!1}function cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qr(e,n){var i=n.checked;return ee({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ci(e,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=Le(n.value!=null?n.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ms(e,n){n=n.checked,n!=null&&_e(e,"checked",n,!1)}function Fs(e,n){Ms(e,n);var i=Le(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ri(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ri(e,n.type,Le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Go(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ri(e,n,i){(n!=="number"||cr(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Hn=Array.isArray;function Qn(e,n,i,u){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&u&&(e[i].defaultSelected=!0)}else{for(i=""+Le(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Us(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pi(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(Hn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Le(i)}}function ki(e,n){var i=Le(n.value),u=Le(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function zs(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function st(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?st(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kn,Bs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,u,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Kn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function hr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){Qr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hr[n]=Hr[e]})});function js(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+n).trim():n+"px"}function $s(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=js(i,n[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,h):e[i]=h}}var bs=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qs(e,n){if(n){if(bs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Hs(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function Di(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,nn=null,Pn=null;function xi(e){if(e=go(e)){if(typeof Vi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Al(n),Vi(e.stateNode,e.type,n))}}function kn(e){nn?Pn?Pn.push(e):Pn=[e]:nn=e}function Qs(){if(nn){var e=nn,n=Pn;if(Pn=nn=null,xi(e),n)for(e=0;e<n.length;e++)xi(n[e])}}function Wr(e,n){return e(n)}function Ks(){}var Wn=!1;function Ws(e,n,i){if(Wn)return e(n,i);Wn=!0;try{return Wr(e,n,i)}finally{Wn=!1,(nn!==null||Pn!==null)&&(Ks(),Qs())}}function Je(e,n){var i=e.stateNode;if(i===null)return null;var u=Al(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Ni=!1;if(g)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Ni=!1}function Gr(e,n,i,u,h,d,y,w,C){var F=Array.prototype.slice.call(arguments,3);try{n.apply(i,F)}catch(b){this.onError(b)}}var Xr=!1,Li=null,pn=!1,Gs=null,qa={onError:function(e){Xr=!0,Li=e}};function Oi(e,n,i,u,h,d,y,w,C){Xr=!1,Li=null,Gr.apply(qa,arguments)}function Xo(e,n,i,u,h,d,y,w,C){if(Oi.apply(this,arguments),Xr){if(Xr){var F=Li;Xr=!1,Li=null}else throw Error(r(198));pn||(pn=!0,Gs=F)}}function mn(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Yr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function gn(e){if(mn(e)!==e)throw Error(r(188))}function Yo(e){var n=e.alternate;if(!n){if(n=mn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,u=n;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return gn(h),e;if(d===u)return gn(h),n;d=d.sibling}throw Error(r(188))}if(i.return!==u.return)i=h,u=d;else{for(var y=!1,w=h.child;w;){if(w===i){y=!0,i=h,u=d;break}if(w===u){y=!0,u=h,i=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===i){y=!0,i=d,u=h;break}if(w===u){y=!0,u=d,i=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function Xs(e){return e=Yo(e),e!==null?Mi(e):null}function Mi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Mi(e);if(n!==null)return n;e=e.sibling}return null}var Fi=t.unstable_scheduleCallback,Ys=t.unstable_cancelCallback,Jo=t.unstable_shouldYield,Ha=t.unstable_requestPaint,ze=t.unstable_now,Zo=t.unstable_getCurrentPriorityLevel,Jr=t.unstable_ImmediatePriority,fr=t.unstable_UserBlockingPriority,rn=t.unstable_NormalPriority,Js=t.unstable_LowPriority,el=t.unstable_IdlePriority,Zr=null,Gt=null;function tl(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Zr,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:rl,Zs=Math.log,nl=Math.LN2;function rl(e){return e>>>=0,e===0?32:31-(Zs(e)/nl|0)|0}var Ui=64,zi=4194304;function dr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,d=e.pingedLanes,y=i&268435455;if(y!==0){var w=y&~h;w!==0?u=dr(w):(d&=y,d!==0&&(u=dr(d)))}else y=i&~h,y!==0?u=dr(y):d!==0&&(u=dr(d));if(u===0)return 0;if(n!==0&&n!==u&&!(n&h)&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if(u&4&&(u|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)i=31-Nt(n),h=1<<i,u|=e[i],n&=~h;return u}function Qa(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(e,n){for(var i=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var y=31-Nt(d),w=1<<y,C=h[y];C===-1?(!(w&i)||w&u)&&(h[y]=Qa(w,n)):C<=n&&(e.expiredLanes|=w),d&=~w}}function Xt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ti(){var e=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),e}function pr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function mr(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Nt(n),e[n]=i}function Fe(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Nt(i),d=1<<h;n[h]=0,u[h]=-1,e[h]=-1,i&=~d}}function gr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var u=31-Nt(i),h=1<<u;h&n|e[u]&n&&(e[u]|=n),i&=~h}}var Te=0;function yr(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var il,Bi,sl,ol,ll,eo=!1,Dn=[],vt=null,yn=null,vn=null,vr=new Map,sn=new Map,Vn=[],Ka="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function al(e,n){switch(e){case"focusin":case"focusout":vt=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":vr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(n.pointerId)}}function Ut(e,n,i,u,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=go(n),n!==null&&Bi(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Wa(e,n,i,u,h){switch(n){case"focusin":return vt=Ut(vt,e,n,i,u,h),!0;case"dragenter":return yn=Ut(yn,e,n,i,u,h),!0;case"mouseover":return vn=Ut(vn,e,n,i,u,h),!0;case"pointerover":var d=h.pointerId;return vr.set(d,Ut(vr.get(d)||null,e,n,i,u,h)),!0;case"gotpointercapture":return d=h.pointerId,sn.set(d,Ut(sn.get(d)||null,e,n,i,u,h)),!0}return!1}function ul(e){var n=oi(e.target);if(n!==null){var i=mn(n);if(i!==null){if(n=i.tag,n===13){if(n=Yr(i),n!==null){e.blockedOn=n,ll(e.priority,function(){sl(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ji(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Kr=u,i.target.dispatchEvent(u),Kr=null}else return n=go(i),n!==null&&Bi(n),e.blockedOn=i,!1;n.shift()}return!0}function ni(e,n,i){Xn(e)&&i.delete(n)}function cl(){eo=!1,vt!==null&&Xn(vt)&&(vt=null),yn!==null&&Xn(yn)&&(yn=null),vn!==null&&Xn(vn)&&(vn=null),vr.forEach(ni),sn.forEach(ni)}function _n(e,n){e.blockedOn===n&&(e.blockedOn=null,eo||(eo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cl)))}function En(e){function n(h){return _n(h,e)}if(0<Dn.length){_n(Dn[0],e);for(var i=1;i<Dn.length;i++){var u=Dn[i];u.blockedOn===e&&(u.blockedOn=null)}}for(vt!==null&&_n(vt,e),yn!==null&&_n(yn,e),vn!==null&&_n(vn,e),vr.forEach(n),sn.forEach(n),i=0;i<Vn.length;i++)u=Vn[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<Vn.length&&(i=Vn[0],i.blockedOn===null);)ul(i),i.blockedOn===null&&Vn.shift()}var Yn=ye.ReactCurrentBatchConfig,_r=!0;function be(e,n,i,u){var h=Te,d=Yn.transition;Yn.transition=null;try{Te=1,to(e,n,i,u)}finally{Te=h,Yn.transition=d}}function Ga(e,n,i,u){var h=Te,d=Yn.transition;Yn.transition=null;try{Te=4,to(e,n,i,u)}finally{Te=h,Yn.transition=d}}function to(e,n,i,u){if(_r){var h=ji(e,n,i,u);if(h===null)ou(e,n,u,ri,i),al(e,u);else if(Wa(h,e,n,i,u))u.stopPropagation();else if(al(e,u),n&4&&-1<Ka.indexOf(e)){for(;h!==null;){var d=go(h);if(d!==null&&il(d),d=ji(e,n,i,u),d===null&&ou(e,n,u,ri,i),d===h)break;h=d}h!==null&&u.stopPropagation()}else ou(e,n,u,null,i)}}var ri=null;function ji(e,n,i,u){if(ri=null,e=Di(u),e=oi(e),e!==null)if(n=mn(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Yr(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ri=e,null}function no(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zo()){case Jr:return 1;case fr:return 4;case rn:case Js:return 16;case el:return 536870912;default:return 16}default:return 16}}var Yt=null,$i=null,zt=null;function ro(){if(zt)return zt;var e,n=$i,i=n.length,u,h="value"in Yt?Yt.value:Yt.textContent,d=h.length;for(e=0;e<i&&n[e]===h[e];e++);var y=i-e;for(u=1;u<=y&&n[i-u]===h[d-u];u++);return zt=h.slice(e,1<u?1-u:void 0)}function bi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xn(){return!0}function io(){return!1}function _t(e){function n(i,u,h,d,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xn:io,this.isPropagationStopped=io,this}return ee(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xn)},persist:function(){},isPersistent:xn}),n}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=_t(wn),Nn=ee({},wn,{view:0,detail:0}),Xa=_t(Nn),Hi,Jn,Er,ii=ee({},Nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Hi=e.screenX-Er.screenX,Jn=e.screenY-Er.screenY):Jn=Hi=0,Er=e),Hi)},movementY:function(e){return"movementY"in e?e.movementY:Jn}}),Qi=_t(ii),so=ee({},ii,{dataTransfer:0}),hl=_t(so),Ki=ee({},Nn,{relatedTarget:0}),Wi=_t(Ki),fl=ee({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zn=_t(fl),dl=ee({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pl=_t(dl),ml=ee({},wn,{data:0}),oo=_t(ml),Gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gl[e])?!!n[e]:!1}function Ln(){return yl}var l=ee({},Nn,{key:function(e){if(e.key){var n=Gi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return e.type==="keypress"?bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f=_t(l),m=ee({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=_t(m),N=ee({},Nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln}),U=_t(N),W=ee({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=_t(W),lt=ee({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=_t(lt),dt=[9,13,27,32],nt=g&&"CompositionEvent"in window,on=null;g&&"documentMode"in document&&(on=document.documentMode);var Jt=g&&"TextEvent"in window&&!on,si=g&&(!nt||on&&8<on&&11>=on),Xi=" ",Eh=!1;function wh(e,n){switch(e){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yi=!1;function $m(e,n){switch(e){case"compositionend":return Th(n);case"keypress":return n.which!==32?null:(Eh=!0,Xi);case"textInput":return e=n.data,e===Xi&&Eh?null:e;default:return null}}function bm(e,n){if(Yi)return e==="compositionend"||!nt&&wh(e,n)?(e=ro(),zt=$i=Yt=null,Yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return si&&n.locale!=="ko"?null:n.data;default:return null}}var qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qm[e.type]:n==="textarea"}function Ih(e,n,i,u){kn(u),n=Tl(n,"onChange"),0<n.length&&(i=new qi("onChange","change",null,i,u),e.push({event:i,listeners:n}))}var lo=null,ao=null;function Hm(e){$h(e,0)}function vl(e){var n=ns(e);if(Ai(n))return e}function Qm(e,n){if(e==="change")return n}var Ah=!1;if(g){var Ya;if(g){var Ja="oninput"in document;if(!Ja){var Ch=document.createElement("div");Ch.setAttribute("oninput","return;"),Ja=typeof Ch.oninput=="function"}Ya=Ja}else Ya=!1;Ah=Ya&&(!document.documentMode||9<document.documentMode)}function Rh(){lo&&(lo.detachEvent("onpropertychange",Ph),ao=lo=null)}function Ph(e){if(e.propertyName==="value"&&vl(ao)){var n=[];Ih(n,ao,e,Di(e)),Ws(Hm,n)}}function Km(e,n,i){e==="focusin"?(Rh(),lo=n,ao=i,lo.attachEvent("onpropertychange",Ph)):e==="focusout"&&Rh()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vl(ao)}function Gm(e,n){if(e==="click")return vl(n)}function Xm(e,n){if(e==="input"||e==="change")return vl(n)}function Ym(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:Ym;function uo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!v.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dh(e,n){var i=kh(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=n&&u>=n)return{node:i,offset:n-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=kh(i)}}function Vh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xh(){for(var e=window,n=cr();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=cr(e.document)}return n}function Za(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Jm(e){var n=xh(),i=e.focusedElem,u=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Vh(i.ownerDocument.documentElement,i)){if(u!==null&&Za(i)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!e.extend&&d>u&&(h=u,u=d,d=h),h=Dh(i,d);var y=Dh(i,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),d>u?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zm=g&&"documentMode"in document&&11>=document.documentMode,Ji=null,eu=null,co=null,tu=!1;function Nh(e,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;tu||Ji==null||Ji!==cr(u)||(u=Ji,"selectionStart"in u&&Za(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),co&&uo(co,u)||(co=u,u=Tl(eu,"onSelect"),0<u.length&&(n=new qi("onSelect","select",null,n,i),e.push({event:n,listeners:u}),n.target=Ji)))}function _l(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Zi={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},nu={},Lh={};g&&(Lh=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function El(e){if(nu[e])return nu[e];if(!Zi[e])return e;var n=Zi[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Lh)return nu[e]=n[i];return e}var Oh=El("animationend"),Mh=El("animationiteration"),Fh=El("animationstart"),Uh=El("transitionend"),zh=new Map,Bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,n){zh.set(e,n),c(n,[e])}for(var ru=0;ru<Bh.length;ru++){var iu=Bh[ru],eg=iu.toLowerCase(),tg=iu[0].toUpperCase()+iu.slice(1);wr(eg,"on"+tg)}wr(Oh,"onAnimationEnd"),wr(Mh,"onAnimationIteration"),wr(Fh,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Uh,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function jh(e,n,i){var u=e.type||"unknown-event";e.currentTarget=i,Xo(u,n,void 0,e),e.currentTarget=null}function $h(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],C=w.instance,F=w.currentTarget;if(w=w.listener,C!==d&&h.isPropagationStopped())break e;jh(h,w,F),d=C}else for(y=0;y<u.length;y++){if(w=u[y],C=w.instance,F=w.currentTarget,w=w.listener,C!==d&&h.isPropagationStopped())break e;jh(h,w,F),d=C}}}if(pn)throw e=Gs,pn=!1,Gs=null,e}function je(e,n){var i=n[fu];i===void 0&&(i=n[fu]=new Set);var u=e+"__bubble";i.has(u)||(bh(n,e,2,!1),i.add(u))}function su(e,n,i){var u=0;n&&(u|=4),bh(i,e,u,n)}var wl="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[wl]){e[wl]=!0,o.forEach(function(i){i!=="selectionchange"&&(ng.has(i)||su(i,!1,e),su(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wl]||(n[wl]=!0,su("selectionchange",!1,n))}}function bh(e,n,i,u){switch(no(n)){case 1:var h=be;break;case 4:h=Ga;break;default:h=to}i=h.bind(null,n,i,e),h=void 0,!Ni||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function ou(e,n,i,u,h){var d=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;y=y.return}for(;w!==null;){if(y=oi(w),y===null)return;if(C=y.tag,C===5||C===6){u=d=y;continue e}w=w.parentNode}}u=u.return}Ws(function(){var F=d,b=Di(i),H=[];e:{var $=zh.get(e);if($!==void 0){var Y=qi,re=e;switch(e){case"keypress":if(bi(i)===0)break e;case"keydown":case"keyup":Y=f;break;case"focusin":re="focus",Y=Wi;break;case"focusout":re="blur",Y=Wi;break;case"beforeblur":case"afterblur":Y=Wi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=U;break;case Oh:case Mh:case Fh:Y=Zn;break;case Uh:Y=Oe;break;case"scroll":Y=Xa;break;case"wheel":Y=Ie;break;case"copy":case"cut":case"paste":Y=pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=_}var ie=(n&4)!==0,Ze=!ie&&e==="scroll",L=ie?$!==null?$+"Capture":null:$;ie=[];for(var R=F,O;R!==null;){O=R;var K=O.stateNode;if(O.tag===5&&K!==null&&(O=K,L!==null&&(K=Je(R,L),K!=null&&ie.push(po(R,K,O)))),Ze)break;R=R.return}0<ie.length&&($=new Y($,re,null,i,b),H.push({event:$,listeners:ie}))}}if(!(n&7)){e:{if($=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",$&&i!==Kr&&(re=i.relatedTarget||i.fromElement)&&(oi(re)||re[er]))break e;if((Y||$)&&($=b.window===b?b:($=b.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(re=i.relatedTarget||i.toElement,Y=F,re=re?oi(re):null,re!==null&&(Ze=mn(re),re!==Ze||re.tag!==5&&re.tag!==6)&&(re=null)):(Y=null,re=F),Y!==re)){if(ie=Qi,K="onMouseLeave",L="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ie=_,K="onPointerLeave",L="onPointerEnter",R="pointer"),Ze=Y==null?$:ns(Y),O=re==null?$:ns(re),$=new ie(K,R+"leave",Y,i,b),$.target=Ze,$.relatedTarget=O,K=null,oi(b)===F&&(ie=new ie(L,R+"enter",re,i,b),ie.target=O,ie.relatedTarget=Ze,K=ie),Ze=K,Y&&re)t:{for(ie=Y,L=re,R=0,O=ie;O;O=es(O))R++;for(O=0,K=L;K;K=es(K))O++;for(;0<R-O;)ie=es(ie),R--;for(;0<O-R;)L=es(L),O--;for(;R--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=es(ie),L=es(L)}ie=null}else ie=null;Y!==null&&qh(H,$,Y,ie,!1),re!==null&&Ze!==null&&qh(H,Ze,re,ie,!0)}}e:{if($=F?ns(F):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var se=Qm;else if(Sh($))if(Ah)se=Xm;else{se=Wm;var ae=Km}else(Y=$.nodeName)&&Y.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=Gm);if(se&&(se=se(e,F))){Ih(H,se,i,b);break e}ae&&ae(e,$,F),e==="focusout"&&(ae=$._wrapperState)&&ae.controlled&&$.type==="number"&&Ri($,"number",$.value)}switch(ae=F?ns(F):window,e){case"focusin":(Sh(ae)||ae.contentEditable==="true")&&(Ji=ae,eu=F,co=null);break;case"focusout":co=eu=Ji=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,Nh(H,i,b);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":Nh(H,i,b)}var ue;if(nt)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Yi?wh(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(si&&i.locale!=="ko"&&(Yi||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Yi&&(ue=ro()):(Yt=b,$i="value"in Yt?Yt.value:Yt.textContent,Yi=!0)),ae=Tl(F,fe),0<ae.length&&(fe=new oo(fe,e,null,i,b),H.push({event:fe,listeners:ae}),ue?fe.data=ue:(ue=Th(i),ue!==null&&(fe.data=ue)))),(ue=Jt?$m(e,i):bm(e,i))&&(F=Tl(F,"onBeforeInput"),0<F.length&&(b=new oo("onBeforeInput","beforeinput",null,i,b),H.push({event:b,listeners:F}),b.data=ue))}$h(H,n)})}function po(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Tl(e,n){for(var i=n+"Capture",u=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Je(e,i),d!=null&&u.unshift(po(e,d,h)),d=Je(e,n),d!=null&&u.push(po(e,d,h))),e=e.return}return u}function es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qh(e,n,i,u,h){for(var d=n._reactName,y=[];i!==null&&i!==u;){var w=i,C=w.alternate,F=w.stateNode;if(C!==null&&C===u)break;w.tag===5&&F!==null&&(w=F,h?(C=Je(i,d),C!=null&&y.unshift(po(i,C,w))):h||(C=Je(i,d),C!=null&&y.push(po(i,C,w)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var rg=/\r\n?/g,ig=/\u0000|\uFFFD/g;function Hh(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(ig,"")}function Sl(e,n,i){if(n=Hh(n),Hh(e)!==n&&i)throw Error(r(425))}function Il(){}var lu=null,au=null;function uu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,sg=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,og=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(e){return Qh.resolve(null).then(e).catch(lg)}:cu;function lg(e){setTimeout(function(){throw e})}function hu(e,n){var i=n,u=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){e.removeChild(h),En(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);En(n)}function Tr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Kh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ts=Math.random().toString(36).slice(2),On="__reactFiber$"+ts,mo="__reactProps$"+ts,er="__reactContainer$"+ts,fu="__reactEvents$"+ts,ag="__reactListeners$"+ts,ug="__reactHandles$"+ts;function oi(e){var n=e[On];if(n)return n;for(var i=e.parentNode;i;){if(n=i[er]||i[On]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Kh(e);e!==null;){if(i=e[On])return i;e=Kh(e)}return n}e=i,i=e.parentNode}return null}function go(e){return e=e[On]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Al(e){return e[mo]||null}var du=[],rs=-1;function Sr(e){return{current:e}}function $e(e){0>rs||(e.current=du[rs],du[rs]=null,rs--)}function Be(e,n){rs++,du[rs]=e.current,e.current=n}var Ir={},Ct=Sr(Ir),Bt=Sr(!1),li=Ir;function is(e,n){var i=e.type.contextTypes;if(!i)return Ir;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in i)h[d]=n[d];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function jt(e){return e=e.childContextTypes,e!=null}function Cl(){$e(Bt),$e(Ct)}function Wh(e,n,i){if(Ct.current!==Ir)throw Error(r(168));Be(Ct,n),Be(Bt,i)}function Gh(e,n,i){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Ne(e)||"Unknown",h));return ee({},i,u)}function Rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,li=Ct.current,Be(Ct,e),Be(Bt,Bt.current),!0}function Xh(e,n,i){var u=e.stateNode;if(!u)throw Error(r(169));i?(e=Gh(e,n,li),u.__reactInternalMemoizedMergedChildContext=e,$e(Bt),$e(Ct),Be(Ct,e)):$e(Bt),Be(Bt,i)}var tr=null,Pl=!1,pu=!1;function Yh(e){tr===null?tr=[e]:tr.push(e)}function cg(e){Pl=!0,Yh(e)}function Ar(){if(!pu&&tr!==null){pu=!0;var e=0,n=Te;try{var i=tr;for(Te=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}tr=null,Pl=!1}catch(h){throw tr!==null&&(tr=tr.slice(e+1)),Fi(Jr,Ar),h}finally{Te=n,pu=!1}}return null}var ss=[],os=0,kl=null,Dl=0,ln=[],an=0,ai=null,nr=1,rr="";function ui(e,n){ss[os++]=Dl,ss[os++]=kl,kl=e,Dl=n}function Jh(e,n,i){ln[an++]=nr,ln[an++]=rr,ln[an++]=ai,ai=e;var u=nr;e=rr;var h=32-Nt(u)-1;u&=~(1<<h),i+=1;var d=32-Nt(n)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,nr=1<<32-Nt(n)+h|i<<h|u,rr=d+e}else nr=1<<d|i<<h|u,rr=e}function mu(e){e.return!==null&&(ui(e,1),Jh(e,1,0))}function gu(e){for(;e===kl;)kl=ss[--os],ss[os]=null,Dl=ss[--os],ss[os]=null;for(;e===ai;)ai=ln[--an],ln[an]=null,rr=ln[--an],ln[an]=null,nr=ln[--an],ln[an]=null}var Zt=null,en=null,qe=!1,Sn=null;function Zh(e,n){var i=fn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function ef(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Zt=e,en=Tr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Zt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ai!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=fn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Zt=e,en=null,!0):!1;default:return!1}}function yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(qe){var n=en;if(n){var i=n;if(!ef(e,n)){if(yu(e))throw Error(r(418));n=Tr(i.nextSibling);var u=Zt;n&&ef(e,n)?Zh(u,i):(e.flags=e.flags&-4097|2,qe=!1,Zt=e)}}else{if(yu(e))throw Error(r(418));e.flags=e.flags&-4097|2,qe=!1,Zt=e}}}function tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function Vl(e){if(e!==Zt)return!1;if(!qe)return tf(e),qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!uu(e.type,e.memoizedProps)),n&&(n=en)){if(yu(e))throw nf(),Error(r(418));for(;n;)Zh(e,n),n=Tr(n.nextSibling)}if(tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){en=Tr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}en=null}}else en=Zt?Tr(e.stateNode.nextSibling):null;return!0}function nf(){for(var e=en;e;)e=Tr(e.nextSibling)}function ls(){en=Zt=null,qe=!1}function _u(e){Sn===null?Sn=[e]:Sn.push(e)}var hg=ye.ReactCurrentBatchConfig;function yo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,e));var h=u,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var w=h.refs;y===null?delete w[d]:w[d]=y},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function xl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function rf(e){var n=e._init;return n(e._payload)}function sf(e){function n(L,R){if(e){var O=L.deletions;O===null?(L.deletions=[R],L.flags|=16):O.push(R)}}function i(L,R){if(!e)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function u(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function h(L,R){return L=Nr(L,R),L.index=0,L.sibling=null,L}function d(L,R,O){return L.index=O,e?(O=L.alternate,O!==null?(O=O.index,O<R?(L.flags|=2,R):O):(L.flags|=2,R)):(L.flags|=1048576,R)}function y(L){return e&&L.alternate===null&&(L.flags|=2),L}function w(L,R,O,K){return R===null||R.tag!==6?(R=cc(O,L.mode,K),R.return=L,R):(R=h(R,O),R.return=L,R)}function C(L,R,O,K){var se=O.type;return se===k?b(L,R,O.props.children,K,O.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&rf(se)===R.type)?(K=h(R,O.props),K.ref=yo(L,R,O),K.return=L,K):(K=na(O.type,O.key,O.props,null,L.mode,K),K.ref=yo(L,R,O),K.return=L,K)}function F(L,R,O,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==O.containerInfo||R.stateNode.implementation!==O.implementation?(R=hc(O,L.mode,K),R.return=L,R):(R=h(R,O.children||[]),R.return=L,R)}function b(L,R,O,K,se){return R===null||R.tag!==7?(R=yi(O,L.mode,K,se),R.return=L,R):(R=h(R,O),R.return=L,R)}function H(L,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return R=cc(""+R,L.mode,O),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xe:return O=na(R.type,R.key,R.props,null,L.mode,O),O.ref=yo(L,null,R),O.return=L,O;case ke:return R=hc(R,L.mode,O),R.return=L,R;case At:var K=R._init;return H(L,K(R._payload),O)}if(Hn(R)||le(R))return R=yi(R,L.mode,O,null),R.return=L,R;xl(L,R)}return null}function $(L,R,O,K){var se=R!==null?R.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return se!==null?null:w(L,R,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Xe:return O.key===se?C(L,R,O,K):null;case ke:return O.key===se?F(L,R,O,K):null;case At:return se=O._init,$(L,R,se(O._payload),K)}if(Hn(O)||le(O))return se!==null?null:b(L,R,O,K,null);xl(L,O)}return null}function Y(L,R,O,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return L=L.get(O)||null,w(R,L,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Xe:return L=L.get(K.key===null?O:K.key)||null,C(R,L,K,se);case ke:return L=L.get(K.key===null?O:K.key)||null,F(R,L,K,se);case At:var ae=K._init;return Y(L,R,O,ae(K._payload),se)}if(Hn(K)||le(K))return L=L.get(O)||null,b(R,L,K,se,null);xl(R,K)}return null}function re(L,R,O,K){for(var se=null,ae=null,ue=R,fe=R=0,gt=null;ue!==null&&fe<O.length;fe++){ue.index>fe?(gt=ue,ue=null):gt=ue.sibling;var xe=$(L,ue,O[fe],K);if(xe===null){ue===null&&(ue=gt);break}e&&ue&&xe.alternate===null&&n(L,ue),R=d(xe,R,fe),ae===null?se=xe:ae.sibling=xe,ae=xe,ue=gt}if(fe===O.length)return i(L,ue),qe&&ui(L,fe),se;if(ue===null){for(;fe<O.length;fe++)ue=H(L,O[fe],K),ue!==null&&(R=d(ue,R,fe),ae===null?se=ue:ae.sibling=ue,ae=ue);return qe&&ui(L,fe),se}for(ue=u(L,ue);fe<O.length;fe++)gt=Y(ue,L,fe,O[fe],K),gt!==null&&(e&&gt.alternate!==null&&ue.delete(gt.key===null?fe:gt.key),R=d(gt,R,fe),ae===null?se=gt:ae.sibling=gt,ae=gt);return e&&ue.forEach(function(Lr){return n(L,Lr)}),qe&&ui(L,fe),se}function ie(L,R,O,K){var se=le(O);if(typeof se!="function")throw Error(r(150));if(O=se.call(O),O==null)throw Error(r(151));for(var ae=se=null,ue=R,fe=R=0,gt=null,xe=O.next();ue!==null&&!xe.done;fe++,xe=O.next()){ue.index>fe?(gt=ue,ue=null):gt=ue.sibling;var Lr=$(L,ue,xe.value,K);if(Lr===null){ue===null&&(ue=gt);break}e&&ue&&Lr.alternate===null&&n(L,ue),R=d(Lr,R,fe),ae===null?se=Lr:ae.sibling=Lr,ae=Lr,ue=gt}if(xe.done)return i(L,ue),qe&&ui(L,fe),se;if(ue===null){for(;!xe.done;fe++,xe=O.next())xe=H(L,xe.value,K),xe!==null&&(R=d(xe,R,fe),ae===null?se=xe:ae.sibling=xe,ae=xe);return qe&&ui(L,fe),se}for(ue=u(L,ue);!xe.done;fe++,xe=O.next())xe=Y(ue,L,fe,xe.value,K),xe!==null&&(e&&xe.alternate!==null&&ue.delete(xe.key===null?fe:xe.key),R=d(xe,R,fe),ae===null?se=xe:ae.sibling=xe,ae=xe);return e&&ue.forEach(function(bg){return n(L,bg)}),qe&&ui(L,fe),se}function Ze(L,R,O,K){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Xe:e:{for(var se=O.key,ae=R;ae!==null;){if(ae.key===se){if(se=O.type,se===k){if(ae.tag===7){i(L,ae.sibling),R=h(ae,O.props.children),R.return=L,L=R;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&rf(se)===ae.type){i(L,ae.sibling),R=h(ae,O.props),R.ref=yo(L,ae,O),R.return=L,L=R;break e}i(L,ae);break}else n(L,ae);ae=ae.sibling}O.type===k?(R=yi(O.props.children,L.mode,K,O.key),R.return=L,L=R):(K=na(O.type,O.key,O.props,null,L.mode,K),K.ref=yo(L,R,O),K.return=L,L=K)}return y(L);case ke:e:{for(ae=O.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===O.containerInfo&&R.stateNode.implementation===O.implementation){i(L,R.sibling),R=h(R,O.children||[]),R.return=L,L=R;break e}else{i(L,R);break}else n(L,R);R=R.sibling}R=hc(O,L.mode,K),R.return=L,L=R}return y(L);case At:return ae=O._init,Ze(L,R,ae(O._payload),K)}if(Hn(O))return re(L,R,O,K);if(le(O))return ie(L,R,O,K);xl(L,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,R!==null&&R.tag===6?(i(L,R.sibling),R=h(R,O),R.return=L,L=R):(i(L,R),R=cc(O,L.mode,K),R.return=L,L=R),y(L)):i(L,R)}return Ze}var as=sf(!0),of=sf(!1),Nl=Sr(null),Ll=null,us=null,Eu=null;function wu(){Eu=us=Ll=null}function Tu(e){var n=Nl.current;$e(Nl),e._currentValue=n}function Su(e,n,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===i)break;e=e.return}}function cs(e,n){Ll=e,Eu=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&($t=!0),e.firstContext=null)}function un(e){var n=e._currentValue;if(Eu!==e)if(e={context:e,memoizedValue:n,next:null},us===null){if(Ll===null)throw Error(r(308));us=e,Ll.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return n}var ci=null;function Iu(e){ci===null?ci=[e]:ci.push(e)}function lf(e,n,i,u){var h=n.interleaved;return h===null?(i.next=i,Iu(n)):(i.next=h.next,h.next=i),n.interleaved=i,ir(e,u)}function ir(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Cr=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,ir(e,i)}return h=u.interleaved,h===null?(n.next=n,Iu(u)):(n.next=h.next,h.next=n),u.interleaved=n,ir(e,i)}function Ol(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,gr(e,i)}}function uf(e,n){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?h=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?h=d=n:d=d.next=n}else h=d=n;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ml(e,n,i,u){var h=e.updateQueue;Cr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,F=C.next;C.next=null,y===null?d=F:y.next=F,y=C;var b=e.alternate;b!==null&&(b=b.updateQueue,w=b.lastBaseUpdate,w!==y&&(w===null?b.firstBaseUpdate=F:w.next=F,b.lastBaseUpdate=C))}if(d!==null){var H=h.baseState;y=0,b=F=C=null,w=d;do{var $=w.lane,Y=w.eventTime;if((u&$)===$){b!==null&&(b=b.next={eventTime:Y,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=e,ie=w;switch($=n,Y=i,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){H=re.call(Y,H,$);break e}H=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Y,H,$):re,$==null)break e;H=ee({},H,$);break e;case 2:Cr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else Y={eventTime:Y,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},b===null?(F=b=Y,C=H):b=b.next=Y,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(b===null&&(C=H),h.baseState=C,h.firstBaseUpdate=F,h.lastBaseUpdate=b,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);di|=y,e.lanes=y,e.memoizedState=H}}function cf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var vo={},Mn=Sr(vo),_o=Sr(vo),Eo=Sr(vo);function hi(e){if(e===vo)throw Error(r(174));return e}function Cu(e,n){switch(Be(Eo,n),Be(_o,e),Be(Mn,vo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ot(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ot(n,e)}$e(Mn),Be(Mn,n)}function hs(){$e(Mn),$e(_o),$e(Eo)}function hf(e){hi(Eo.current);var n=hi(Mn.current),i=ot(n,e.type);n!==i&&(Be(_o,e),Be(Mn,i))}function Ru(e){_o.current===e&&($e(Mn),$e(_o))}var He=Sr(0);function Fl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pu=[];function ku(){for(var e=0;e<Pu.length;e++)Pu[e]._workInProgressVersionPrimary=null;Pu.length=0}var Ul=ye.ReactCurrentDispatcher,Du=ye.ReactCurrentBatchConfig,fi=0,Qe=null,at=null,pt=null,zl=!1,wo=!1,To=0,fg=0;function Rt(){throw Error(r(321))}function Vu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Tn(e[i],n[i]))return!1;return!0}function xu(e,n,i,u,h,d){if(fi=d,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ul.current=e===null||e.memoizedState===null?gg:yg,e=i(u,h),wo){d=0;do{if(wo=!1,To=0,25<=d)throw Error(r(301));d+=1,pt=at=null,n.updateQueue=null,Ul.current=vg,e=i(u,h)}while(wo)}if(Ul.current=$l,n=at!==null&&at.next!==null,fi=0,pt=at=Qe=null,zl=!1,n)throw Error(r(300));return e}function Nu(){var e=To!==0;return To=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Qe.memoizedState=pt=e:pt=pt.next=e,pt}function cn(){if(at===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var n=pt===null?Qe.memoizedState:pt.next;if(n!==null)pt=n,at=e;else{if(e===null)throw Error(r(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?Qe.memoizedState=pt=e:pt=pt.next=e}return pt}function So(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=at,h=u.baseQueue,d=i.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,i.pending=null}if(h!==null){d=h.next,u=u.baseState;var w=y=null,C=null,F=d;do{var b=F.lane;if((fi&b)===b)C!==null&&(C=C.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:e(u,F.action);else{var H={lane:b,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};C===null?(w=C=H,y=u):C=C.next=H,Qe.lanes|=b,di|=b}F=F.next}while(F!==null&&F!==d);C===null?y=u:C.next=w,Tn(u,n.memoizedState)||($t=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=C,i.lastRenderedState=u}if(e=i.interleaved,e!==null){h=e;do d=h.lane,Qe.lanes|=d,di|=d,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Ou(e){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=i.dispatch,h=i.pending,d=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Tn(d,n.memoizedState)||($t=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,u]}function ff(){}function df(e,n){var i=Qe,u=cn(),h=n(),d=!Tn(u.memoizedState,h);if(d&&(u.memoizedState=h,$t=!0),u=u.queue,Mu(gf.bind(null,i,u,e),[e]),u.getSnapshot!==n||d||pt!==null&&pt.memoizedState.tag&1){if(i.flags|=2048,Io(9,mf.bind(null,i,u,h,n),void 0,null),mt===null)throw Error(r(349));fi&30||pf(i,n,h)}return h}function pf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function mf(e,n,i,u){n.value=i,n.getSnapshot=u,yf(n)&&vf(e)}function gf(e,n,i){return i(function(){yf(n)&&vf(e)})}function yf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Tn(e,i)}catch{return!0}}function vf(e){var n=ir(e,1);n!==null&&Rn(n,e,1,-1)}function _f(e){var n=Fn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},n.queue=e,e=e.dispatch=mg.bind(null,Qe,e),[n.memoizedState,e]}function Io(e,n,i,u){return e={tag:e,create:n,destroy:i,deps:u,next:null},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,n.lastEffect=e)),e}function Ef(){return cn().memoizedState}function Bl(e,n,i,u){var h=Fn();Qe.flags|=e,h.memoizedState=Io(1|n,i,void 0,u===void 0?null:u)}function jl(e,n,i,u){var h=cn();u=u===void 0?null:u;var d=void 0;if(at!==null){var y=at.memoizedState;if(d=y.destroy,u!==null&&Vu(u,y.deps)){h.memoizedState=Io(n,i,d,u);return}}Qe.flags|=e,h.memoizedState=Io(1|n,i,d,u)}function wf(e,n){return Bl(8390656,8,e,n)}function Mu(e,n){return jl(2048,8,e,n)}function Tf(e,n){return jl(4,2,e,n)}function Sf(e,n){return jl(4,4,e,n)}function If(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Af(e,n,i){return i=i!=null?i.concat([e]):null,jl(4,4,If.bind(null,n,e),i)}function Fu(){}function Cf(e,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Vu(n,u[1])?u[0]:(i.memoizedState=[e,n],e)}function Rf(e,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Vu(n,u[1])?u[0]:(e=e(),i.memoizedState=[e,n],e)}function Pf(e,n,i){return fi&21?(Tn(i,n)||(i=ti(),Qe.lanes|=i,di|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=i)}function dg(e,n){var i=Te;Te=i!==0&&4>i?i:4,e(!0);var u=Du.transition;Du.transition={};try{e(!1),n()}finally{Te=i,Du.transition=u}}function kf(){return cn().memoizedState}function pg(e,n,i){var u=Vr(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Df(e))Vf(n,i);else if(i=lf(e,n,i,u),i!==null){var h=Mt();Rn(i,e,u,h),xf(i,n,u)}}function mg(e,n,i){var u=Vr(e),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Df(e))Vf(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,w=d(y,i);if(h.hasEagerState=!0,h.eagerState=w,Tn(w,y)){var C=n.interleaved;C===null?(h.next=h,Iu(n)):(h.next=C.next,C.next=h),n.interleaved=h;return}}catch{}finally{}i=lf(e,n,h,u),i!==null&&(h=Mt(),Rn(i,e,u,h),xf(i,n,u))}}function Df(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function Vf(e,n){wo=zl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function xf(e,n,i){if(i&4194240){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,gr(e,i)}}var $l={readContext:un,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},gg={readContext:un,useCallback:function(e,n){return Fn().memoizedState=[e,n===void 0?null:n],e},useContext:un,useEffect:wf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Bl(4194308,4,If.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Bl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Bl(4,2,e,n)},useMemo:function(e,n){var i=Fn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var u=Fn();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=pg.bind(null,Qe,e),[u.memoizedState,e]},useRef:function(e){var n=Fn();return e={current:e},n.memoizedState=e},useState:_f,useDebugValue:Fu,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=_f(!1),n=e[0];return e=dg.bind(null,e[1]),Fn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var u=Qe,h=Fn();if(qe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),mt===null)throw Error(r(349));fi&30||pf(u,n,i)}h.memoizedState=i;var d={value:i,getSnapshot:n};return h.queue=d,wf(gf.bind(null,u,d,e),[e]),u.flags|=2048,Io(9,mf.bind(null,u,d,i,n),void 0,null),i},useId:function(){var e=Fn(),n=mt.identifierPrefix;if(qe){var i=rr,u=nr;i=(u&~(1<<32-Nt(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=To++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=fg++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},yg={readContext:un,useCallback:Cf,useContext:un,useEffect:Mu,useImperativeHandle:Af,useInsertionEffect:Tf,useLayoutEffect:Sf,useMemo:Rf,useReducer:Lu,useRef:Ef,useState:function(){return Lu(So)},useDebugValue:Fu,useDeferredValue:function(e){var n=cn();return Pf(n,at.memoizedState,e)},useTransition:function(){var e=Lu(So)[0],n=cn().memoizedState;return[e,n]},useMutableSource:ff,useSyncExternalStore:df,useId:kf,unstable_isNewReconciler:!1},vg={readContext:un,useCallback:Cf,useContext:un,useEffect:Mu,useImperativeHandle:Af,useInsertionEffect:Tf,useLayoutEffect:Sf,useMemo:Rf,useReducer:Ou,useRef:Ef,useState:function(){return Ou(So)},useDebugValue:Fu,useDeferredValue:function(e){var n=cn();return at===null?n.memoizedState=e:Pf(n,at.memoizedState,e)},useTransition:function(){var e=Ou(So)[0],n=cn().memoizedState;return[e,n]},useMutableSource:ff,useSyncExternalStore:df,useId:kf,unstable_isNewReconciler:!1};function In(e,n){if(e&&e.defaultProps){n=ee({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Uu(e,n,i,u){n=e.memoizedState,i=i(u,n),i=i==null?n:ee({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var bl={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var u=Mt(),h=Vr(e),d=sr(u,h);d.payload=n,i!=null&&(d.callback=i),n=Rr(e,d,h),n!==null&&(Rn(n,e,h,u),Ol(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var u=Mt(),h=Vr(e),d=sr(u,h);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Rr(e,d,h),n!==null&&(Rn(n,e,h,u),Ol(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Mt(),u=Vr(e),h=sr(i,u);h.tag=2,n!=null&&(h.callback=n),n=Rr(e,h,u),n!==null&&(Rn(n,e,u,i),Ol(n,e,u))}};function Nf(e,n,i,u,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,y):n.prototype&&n.prototype.isPureReactComponent?!uo(i,u)||!uo(h,d):!0}function Lf(e,n,i){var u=!1,h=Ir,d=n.contextType;return typeof d=="object"&&d!==null?d=un(d):(h=jt(n)?li:Ct.current,u=n.contextTypes,d=(u=u!=null)?is(e,h):Ir),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=bl,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),n}function Of(e,n,i,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==e&&bl.enqueueReplaceState(n,n.state,null)}function zu(e,n,i,u){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Au(e);var d=n.contextType;typeof d=="object"&&d!==null?h.context=un(d):(d=jt(n)?li:Ct.current,h.context=is(e,d)),h.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Uu(e,n,d,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&bl.enqueueReplaceState(h,h.state,null),Ml(e,i,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function fs(e,n){try{var i="",u=n;do i+=Ee(u),u=u.return;while(u);var h=i}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:h,digest:null}}function Bu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function ju(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var _g=typeof WeakMap=="function"?WeakMap:Map;function Mf(e,n,i){i=sr(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){Xl||(Xl=!0,nc=u),ju(e,n)},i}function Ff(e,n,i){i=sr(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;i.payload=function(){return u(h)},i.callback=function(){ju(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){ju(e,n),typeof u!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function Uf(e,n,i){var u=e.pingCache;if(u===null){u=e.pingCache=new _g;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(i)||(h.add(i),e=Ng.bind(null,e,n,i),n.then(e,e))}function zf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Bf(e,n,i,u,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=sr(-1,1),n.tag=2,Rr(i,n,1))),i.lanes|=1),e)}var Eg=ye.ReactCurrentOwner,$t=!1;function Ot(e,n,i,u){n.child=e===null?of(n,null,i,u):as(n,e.child,i,u)}function jf(e,n,i,u,h){i=i.render;var d=n.ref;return cs(n,h),u=xu(e,n,i,u,d,h),i=Nu(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,or(e,n,h)):(qe&&i&&mu(n),n.flags|=1,Ot(e,n,u,h),n.child)}function $f(e,n,i,u,h){if(e===null){var d=i.type;return typeof d=="function"&&!uc(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,bf(e,n,d,u,h)):(e=na(i.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&h)){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:uo,i(y,u)&&e.ref===n.ref)return or(e,n,h)}return n.flags|=1,e=Nr(d,u),e.ref=n.ref,e.return=n,n.child=e}function bf(e,n,i,u,h){if(e!==null){var d=e.memoizedProps;if(uo(d,u)&&e.ref===n.ref)if($t=!1,n.pendingProps=u=d,(e.lanes&h)!==0)e.flags&131072&&($t=!0);else return n.lanes=e.lanes,or(e,n,h)}return $u(e,n,i,u,h)}function qf(e,n,i){var u=n.pendingProps,h=u.children,d=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ps,tn),tn|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Be(ps,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:i,Be(ps,tn),tn|=u}else d!==null?(u=d.baseLanes|i,n.memoizedState=null):u=i,Be(ps,tn),tn|=u;return Ot(e,n,h,i),n.child}function Hf(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function $u(e,n,i,u,h){var d=jt(i)?li:Ct.current;return d=is(n,d),cs(n,h),i=xu(e,n,i,u,d,h),u=Nu(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,or(e,n,h)):(qe&&u&&mu(n),n.flags|=1,Ot(e,n,i,h),n.child)}function Qf(e,n,i,u,h){if(jt(i)){var d=!0;Rl(n)}else d=!1;if(cs(n,h),n.stateNode===null)Hl(e,n),Lf(n,i,u),zu(n,i,u,h),u=!0;else if(e===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var C=y.context,F=i.contextType;typeof F=="object"&&F!==null?F=un(F):(F=jt(i)?li:Ct.current,F=is(n,F));var b=i.getDerivedStateFromProps,H=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function";H||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||C!==F)&&Of(n,y,u,F),Cr=!1;var $=n.memoizedState;y.state=$,Ml(n,u,y,h),C=n.memoizedState,w!==u||$!==C||Bt.current||Cr?(typeof b=="function"&&(Uu(n,i,b,u),C=n.memoizedState),(w=Cr||Nf(n,i,w,u,$,C,F))?(H||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=C),y.props=u,y.state=C,y.context=F,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,af(e,n),w=n.memoizedProps,F=n.type===n.elementType?w:In(n.type,w),y.props=F,H=n.pendingProps,$=y.context,C=i.contextType,typeof C=="object"&&C!==null?C=un(C):(C=jt(i)?li:Ct.current,C=is(n,C));var Y=i.getDerivedStateFromProps;(b=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==H||$!==C)&&Of(n,y,u,C),Cr=!1,$=n.memoizedState,y.state=$,Ml(n,u,y,h);var re=n.memoizedState;w!==H||$!==re||Bt.current||Cr?(typeof Y=="function"&&(Uu(n,i,Y,u),re=n.memoizedState),(F=Cr||Nf(n,i,F,u,$,re,C)||!1)?(b||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,C)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=C,u=F):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),u=!1)}return bu(e,n,i,u,d,h)}function bu(e,n,i,u,h,d){Hf(e,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&Xh(n,i,!1),or(e,n,d);u=n.stateNode,Eg.current=n;var w=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&y?(n.child=as(n,e.child,null,d),n.child=as(n,null,w,d)):Ot(e,n,w,d),n.memoizedState=u.state,h&&Xh(n,i,!0),n.child}function Kf(e){var n=e.stateNode;n.pendingContext?Wh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Wh(e,n.context,!1),Cu(e,n.containerInfo)}function Wf(e,n,i,u,h){return ls(),_u(h),n.flags|=256,Ot(e,n,i,u),n.child}var qu={dehydrated:null,treeContext:null,retryLane:0};function Hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gf(e,n,i){var u=n.pendingProps,h=He.current,d=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=e!==null&&e.memoizedState===null?!1:(h&2)!==0),w?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Be(He,h&1),e===null)return vu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=u.children,e=u.fallback,d?(u=n.mode,d=n.child,y={mode:"hidden",children:y},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=y):d=ra(y,u,0,null),e=yi(e,u,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=Hu(i),n.memoizedState=qu,e):Qu(n,y));if(h=e.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return wg(e,n,y,u,w,h,i);if(d){d=u.fallback,y=n.mode,h=e.child,w=h.sibling;var C={mode:"hidden",children:u.children};return!(y&1)&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=C,n.deletions=null):(u=Nr(h,C),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?d=Nr(w,d):(d=yi(d,y,i,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,y=e.child.memoizedState,y=y===null?Hu(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=e.childLanes&~i,n.memoizedState=qu,u}return d=e.child,e=d.sibling,u=Nr(d,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=i),u.return=n,u.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=u,n.memoizedState=null,u}function Qu(e,n){return n=ra({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ql(e,n,i,u){return u!==null&&_u(u),as(n,e.child,null,i),e=Qu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wg(e,n,i,u,h,d,y){if(i)return n.flags&256?(n.flags&=-257,u=Bu(Error(r(422))),ql(e,n,y,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=ra({mode:"visible",children:u.children},h,0,null),d=yi(d,h,y,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,n.mode&1&&as(n,e.child,null,y),n.child.memoizedState=Hu(y),n.memoizedState=qu,d);if(!(n.mode&1))return ql(e,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,d=Error(r(419)),u=Bu(d,u,void 0),ql(e,n,y,u)}if(w=(y&e.childLanes)!==0,$t||w){if(u=mt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,ir(e,h),Rn(u,e,h,-1))}return ac(),u=Bu(Error(r(421))),ql(e,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Lg.bind(null,e),h._reactRetry=n,null):(e=d.treeContext,en=Tr(h.nextSibling),Zt=n,qe=!0,Sn=null,e!==null&&(ln[an++]=nr,ln[an++]=rr,ln[an++]=ai,nr=e.id,rr=e.overflow,ai=n),n=Qu(n,u.children),n.flags|=4096,n)}function Xf(e,n,i){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Su(e.return,n,i)}function Ku(e,n,i,u,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=i,d.tailMode=h)}function Yf(e,n,i){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Ot(e,n,u.children,i),u=He.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xf(e,i,n);else if(e.tag===19)Xf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Be(He,u),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Fl(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Ku(n,!1,h,i,d);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Fl(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Ku(n,!0,i,null,d);break;case"together":Ku(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hl(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function or(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),di|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=Nr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Nr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Tg(e,n,i){switch(n.tag){case 3:Kf(n),ls();break;case 5:hf(n);break;case 1:jt(n.type)&&Rl(n);break;case 4:Cu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Be(Nl,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Be(He,He.current&1),n.flags|=128,null):i&n.child.childLanes?Gf(e,n,i):(Be(He,He.current&1),e=or(e,n,i),e!==null?e.sibling:null);Be(He,He.current&1);break;case 19:if(u=(i&n.childLanes)!==0,e.flags&128){if(u)return Yf(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(He,He.current),u)break;return null;case 22:case 23:return n.lanes=0,qf(e,n,i)}return or(e,n,i)}var Jf,Wu,Zf,ed;Jf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Wu=function(){},Zf=function(e,n,i,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,hi(Mn.current);var d=null;switch(i){case"input":h=qr(e,h),u=qr(e,u),d=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),d=[];break;case"textarea":h=Us(e,h),u=Us(e,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Il)}qs(i,u);var y;i=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(y in w)w.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?d||(d=[]):(d=d||[]).push(F,null));for(F in u){var C=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&C!==w&&(C!=null||w!=null))if(F==="style")if(w){for(y in w)!w.hasOwnProperty(y)||C&&C.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in C)C.hasOwnProperty(y)&&w[y]!==C[y]&&(i||(i={}),i[y]=C[y])}else i||(d||(d=[]),d.push(F,i)),i=C;else F==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(d=d||[]).push(F,C)):F==="children"?typeof C!="string"&&typeof C!="number"||(d=d||[]).push(F,""+C):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(C!=null&&F==="onScroll"&&je("scroll",e),d||w===C||(d=[])):(d=d||[]).push(F,C))}i&&(d=d||[]).push("style",i);var F=d;(n.updateQueue=F)&&(n.flags|=4)}},ed=function(e,n,i,u){i!==u&&(n.flags|=4)};function Ao(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=i,n}function Sg(e,n,i){var u=n.pendingProps;switch(gu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return jt(n.type)&&Cl(),Pt(n),null;case 3:return u=n.stateNode,hs(),$e(Bt),$e(Ct),ku(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Vl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Sn!==null&&(sc(Sn),Sn=null))),Wu(e,n),Pt(n),null;case 5:Ru(n);var h=hi(Eo.current);if(i=n.type,e!==null&&n.stateNode!=null)Zf(e,n,i,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Pt(n),null}if(e=hi(Mn.current),Vl(n)){u=n.stateNode,i=n.type;var d=n.memoizedProps;switch(u[On]=n,u[mo]=d,e=(n.mode&1)!==0,i){case"dialog":je("cancel",u),je("close",u);break;case"iframe":case"object":case"embed":je("load",u);break;case"video":case"audio":for(h=0;h<ho.length;h++)je(ho[h],u);break;case"source":je("error",u);break;case"img":case"image":case"link":je("error",u),je("load",u);break;case"details":je("toggle",u);break;case"input":Ci(u,d),je("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},je("invalid",u);break;case"textarea":Pi(u,d),je("invalid",u)}qs(i,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var w=d[y];y==="children"?typeof w=="string"?u.textContent!==w&&(d.suppressHydrationWarning!==!0&&Sl(u.textContent,w,e),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Sl(u.textContent,w,e),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&je("scroll",u)}switch(i){case"input":qn(u),Go(u,d,!0);break;case"textarea":qn(u),zs(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Il)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=st(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(i,{is:u.is}):(e=y.createElement(i),i==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,i),e[On]=n,e[mo]=u,Jf(e,n,!1,!1),n.stateNode=e;e:{switch(y=Hs(i,u),i){case"dialog":je("cancel",e),je("close",e),h=u;break;case"iframe":case"object":case"embed":je("load",e),h=u;break;case"video":case"audio":for(h=0;h<ho.length;h++)je(ho[h],e);h=u;break;case"source":je("error",e),h=u;break;case"img":case"image":case"link":je("error",e),je("load",e),h=u;break;case"details":je("toggle",e),h=u;break;case"input":Ci(e,u),h=qr(e,u),je("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),je("invalid",e);break;case"textarea":Pi(e,u),h=Us(e,u),je("invalid",e);break;default:h=u}qs(i,h),w=h;for(d in w)if(w.hasOwnProperty(d)){var C=w[d];d==="style"?$s(e,C):d==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Bs(e,C)):d==="children"?typeof C=="string"?(i!=="textarea"||C!=="")&&hr(e,C):typeof C=="number"&&hr(e,""+C):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?C!=null&&d==="onScroll"&&je("scroll",e):C!=null&&_e(e,d,C,y))}switch(i){case"input":qn(e),Go(e,u,!1);break;case"textarea":qn(e),zs(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Le(u.value));break;case"select":e.multiple=!!u.multiple,d=u.value,d!=null?Qn(e,!!u.multiple,d,!1):u.defaultValue!=null&&Qn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Il)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(e&&n.stateNode!=null)ed(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=hi(Eo.current),hi(Mn.current),Vl(n)){if(u=n.stateNode,i=n.memoizedProps,u[On]=n,(d=u.nodeValue!==i)&&(e=Zt,e!==null))switch(e.tag){case 3:Sl(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sl(u.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[On]=n,n.stateNode=u}return Pt(n),null;case 13:if($e(He),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&en!==null&&n.mode&1&&!(n.flags&128))nf(),ls(),n.flags|=98560,d=!1;else if(d=Vl(n),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[On]=n}else ls(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pt(n),d=!1}else Sn!==null&&(sc(Sn),Sn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||He.current&1?ut===0&&(ut=3):ac())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return hs(),Wu(e,n),e===null&&fo(n.stateNode.containerInfo),Pt(n),null;case 10:return Tu(n.type._context),Pt(n),null;case 17:return jt(n.type)&&Cl(),Pt(n),null;case 19:if($e(He),d=n.memoizedState,d===null)return Pt(n),null;if(u=(n.flags&128)!==0,y=d.rendering,y===null)if(u)Ao(d,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=Fl(e),y!==null){for(n.flags|=128,Ao(d,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)d=i,e=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,e=y.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Be(He,He.current&1|2),n.child}e=e.sibling}d.tail!==null&&ze()>ms&&(n.flags|=128,u=!0,Ao(d,!1),n.lanes=4194304)}else{if(!u)if(e=Fl(y),e!==null){if(n.flags|=128,u=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Ao(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!qe)return Pt(n),null}else 2*ze()-d.renderingStartTime>ms&&i!==1073741824&&(n.flags|=128,u=!0,Ao(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(i=d.last,i!==null?i.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ze(),n.sibling=null,i=He.current,Be(He,u?i&1|2:i&1),n):(Pt(n),null);case 22:case 23:return lc(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?tn&1073741824&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Ig(e,n){switch(gu(n),n.tag){case 1:return jt(n.type)&&Cl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hs(),$e(Bt),$e(Ct),ku(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Ru(n),null;case 13:if($e(He),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ls()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $e(He),null;case 4:return hs(),null;case 10:return Tu(n.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var Ql=!1,kt=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ds(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){We(e,n,u)}else i.current=null}function Gu(e,n,i){try{i()}catch(u){We(e,n,u)}}var td=!1;function Cg(e,n){if(lu=_r,e=xh(),Za(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,w=-1,C=-1,F=0,b=0,H=e,$=null;t:for(;;){for(var Y;H!==i||h!==0&&H.nodeType!==3||(w=y+h),H!==d||u!==0&&H.nodeType!==3||(C=y+u),H.nodeType===3&&(y+=H.nodeValue.length),(Y=H.firstChild)!==null;)$=H,H=Y;for(;;){if(H===e)break t;if($===i&&++F===h&&(w=y),$===d&&++b===u&&(C=y),(Y=H.nextSibling)!==null)break;H=$,$=H.parentNode}H=Y}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(au={focusedElem:e,selectionRange:i},_r=!1,ne=n;ne!==null;)if(n=ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ne=e;else for(;ne!==null;){n=ne;try{var re=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,Ze=re.memoizedState,L=n.stateNode,R=L.getSnapshotBeforeUpdate(n.elementType===n.type?ie:In(n.type,ie),Ze);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var O=n.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(K){We(n,n.return,K)}if(e=n.sibling,e!==null){e.return=n.return,ne=e;break}ne=n.return}return re=td,td=!1,re}function Co(e,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&Gu(n,i,d)}h=h.next}while(h!==u)}}function Kl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function Xu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function nd(e){var n=e.alternate;n!==null&&(e.alternate=null,nd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[On],delete n[mo],delete n[fu],delete n[ag],delete n[ug])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rd(e){return e.tag===5||e.tag===3||e.tag===4}function id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Il));else if(u!==4&&(e=e.child,e!==null))for(Yu(e,n,i),e=e.sibling;e!==null;)Yu(e,n,i),e=e.sibling}function Ju(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Ju(e,n,i),e=e.sibling;e!==null;)Ju(e,n,i),e=e.sibling}var Et=null,An=!1;function Pr(e,n,i){for(i=i.child;i!==null;)sd(e,n,i),i=i.sibling}function sd(e,n,i){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Zr,i)}catch{}switch(i.tag){case 5:kt||ds(i,n);case 6:var u=Et,h=An;Et=null,Pr(e,n,i),Et=u,An=h,Et!==null&&(An?(e=Et,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Et.removeChild(i.stateNode));break;case 18:Et!==null&&(An?(e=Et,i=i.stateNode,e.nodeType===8?hu(e.parentNode,i):e.nodeType===1&&hu(e,i),En(e)):hu(Et,i.stateNode));break;case 4:u=Et,h=An,Et=i.stateNode.containerInfo,An=!0,Pr(e,n,i),Et=u,An=h;break;case 0:case 11:case 14:case 15:if(!kt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&(d&2||d&4)&&Gu(i,n,y),h=h.next}while(h!==u)}Pr(e,n,i);break;case 1:if(!kt&&(ds(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(w){We(i,n,w)}Pr(e,n,i);break;case 21:Pr(e,n,i);break;case 22:i.mode&1?(kt=(u=kt)||i.memoizedState!==null,Pr(e,n,i),kt=u):Pr(e,n,i);break;default:Pr(e,n,i)}}function od(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Ag),n.forEach(function(u){var h=Og.bind(null,e,u);i.has(u)||(i.add(u),u.then(h,h))})}}function Cn(e,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var d=e,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:Et=w.stateNode,An=!1;break e;case 3:Et=w.stateNode.containerInfo,An=!0;break e;case 4:Et=w.stateNode.containerInfo,An=!0;break e}w=w.return}if(Et===null)throw Error(r(160));sd(d,y,h),Et=null,An=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(F){We(h,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ld(n,e),n=n.sibling}function ld(e,n){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(n,e),Un(e),u&4){try{Co(3,e,e.return),Kl(3,e)}catch(ie){We(e,e.return,ie)}try{Co(5,e,e.return)}catch(ie){We(e,e.return,ie)}}break;case 1:Cn(n,e),Un(e),u&512&&i!==null&&ds(i,i.return);break;case 5:if(Cn(n,e),Un(e),u&512&&i!==null&&ds(i,i.return),e.flags&32){var h=e.stateNode;try{hr(h,"")}catch(ie){We(e,e.return,ie)}}if(u&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,y=i!==null?i.memoizedProps:d,w=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Ms(h,d),Hs(w,y);var F=Hs(w,d);for(y=0;y<C.length;y+=2){var b=C[y],H=C[y+1];b==="style"?$s(h,H):b==="dangerouslySetInnerHTML"?Bs(h,H):b==="children"?hr(h,H):_e(h,b,H,F)}switch(w){case"input":Fs(h,d);break;case"textarea":ki(h,d);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?Qn(h,!!d.multiple,Y,!1):$!==!!d.multiple&&(d.defaultValue!=null?Qn(h,!!d.multiple,d.defaultValue,!0):Qn(h,!!d.multiple,d.multiple?[]:"",!1))}h[mo]=d}catch(ie){We(e,e.return,ie)}}break;case 6:if(Cn(n,e),Un(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(ie){We(e,e.return,ie)}}break;case 3:if(Cn(n,e),Un(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{En(n.containerInfo)}catch(ie){We(e,e.return,ie)}break;case 4:Cn(n,e),Un(e);break;case 13:Cn(n,e),Un(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(tc=ze())),u&4&&od(e);break;case 22:if(b=i!==null&&i.memoizedState!==null,e.mode&1?(kt=(F=kt)||b,Cn(n,e),kt=F):Cn(n,e),Un(e),u&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!b&&e.mode&1)for(ne=e,b=e.child;b!==null;){for(H=ne=b;ne!==null;){switch($=ne,Y=$.child,$.tag){case 0:case 11:case 14:case 15:Co(4,$,$.return);break;case 1:ds($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,i=$.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){We(u,i,ie)}}break;case 5:ds($,$.return);break;case 22:if($.memoizedState!==null){cd(H);continue}}Y!==null?(Y.return=$,ne=Y):cd(H)}b=b.sibling}e:for(b=null,H=e;;){if(H.tag===5){if(b===null){b=H;try{h=H.stateNode,F?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=H.stateNode,C=H.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=js("display",y))}catch(ie){We(e,e.return,ie)}}}else if(H.tag===6){if(b===null)try{H.stateNode.nodeValue=F?"":H.memoizedProps}catch(ie){We(e,e.return,ie)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;b===H&&(b=null),H=H.return}b===H&&(b=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Cn(n,e),Un(e),u&4&&od(e);break;case 21:break;default:Cn(n,e),Un(e)}}function Un(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(rd(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(hr(h,""),u.flags&=-33);var d=id(e);Ju(e,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=id(e);Yu(e,w,y);break;default:throw Error(r(161))}}catch(C){We(e,e.return,C)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Rg(e,n,i){ne=e,ad(e)}function ad(e,n,i){for(var u=(e.mode&1)!==0;ne!==null;){var h=ne,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Ql;if(!y){var w=h.alternate,C=w!==null&&w.memoizedState!==null||kt;w=Ql;var F=kt;if(Ql=y,(kt=C)&&!F)for(ne=h;ne!==null;)y=ne,C=y.child,y.tag===22&&y.memoizedState!==null?hd(h):C!==null?(C.return=y,ne=C):hd(h);for(;d!==null;)ne=d,ad(d),d=d.sibling;ne=h,Ql=w,kt=F}ud(e)}else h.subtreeFlags&8772&&d!==null?(d.return=h,ne=d):ud(e)}}function ud(e){for(;ne!==null;){var n=ne;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:kt||Kl(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!kt)if(i===null)u.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:In(n.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&cf(n,d,u);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}cf(n,y,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&i.focus();break;case"img":C.src&&(i.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var b=F.memoizedState;if(b!==null){var H=b.dehydrated;H!==null&&En(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}kt||n.flags&512&&Xu(n)}catch($){We(n,n.return,$)}}if(n===e){ne=null;break}if(i=n.sibling,i!==null){i.return=n.return,ne=i;break}ne=n.return}}function cd(e){for(;ne!==null;){var n=ne;if(n===e){ne=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ne=i;break}ne=n.return}}function hd(e){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Kl(4,n)}catch(C){We(n,i,C)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(C){We(n,h,C)}}var d=n.return;try{Xu(n)}catch(C){We(n,d,C)}break;case 5:var y=n.return;try{Xu(n)}catch(C){We(n,y,C)}}}catch(C){We(n,n.return,C)}if(n===e){ne=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ne=w;break}ne=n.return}}var Pg=Math.ceil,Wl=ye.ReactCurrentDispatcher,Zu=ye.ReactCurrentOwner,hn=ye.ReactCurrentBatchConfig,De=0,mt=null,rt=null,wt=0,tn=0,ps=Sr(0),ut=0,Ro=null,di=0,Gl=0,ec=0,Po=null,bt=null,tc=0,ms=1/0,lr=null,Xl=!1,nc=null,kr=null,Yl=!1,Dr=null,Jl=0,ko=0,rc=null,Zl=-1,ea=0;function Mt(){return De&6?ze():Zl!==-1?Zl:Zl=ze()}function Vr(e){return e.mode&1?De&2&&wt!==0?wt&-wt:hg.transition!==null?(ea===0&&(ea=ti()),ea):(e=Te,e!==0||(e=window.event,e=e===void 0?16:no(e.type)),e):1}function Rn(e,n,i,u){if(50<ko)throw ko=0,rc=null,Error(r(185));mr(e,i,u),(!(De&2)||e!==mt)&&(e===mt&&(!(De&2)&&(Gl|=i),ut===4&&xr(e,wt)),qt(e,u),i===1&&De===0&&!(n.mode&1)&&(ms=ze()+500,Pl&&Ar()))}function qt(e,n){var i=e.callbackNode;Gn(e,n);var u=ei(e,e===mt?wt:0);if(u===0)i!==null&&Ys(i),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(i!=null&&Ys(i),n===1)e.tag===0?cg(dd.bind(null,e)):Yh(dd.bind(null,e)),og(function(){!(De&6)&&Ar()}),i=null;else{switch(yr(u)){case 1:i=Jr;break;case 4:i=fr;break;case 16:i=rn;break;case 536870912:i=el;break;default:i=rn}i=wd(i,fd.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function fd(e,n){if(Zl=-1,ea=0,De&6)throw Error(r(327));var i=e.callbackNode;if(gs()&&e.callbackNode!==i)return null;var u=ei(e,e===mt?wt:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=ta(e,u);else{n=u;var h=De;De|=2;var d=md();(mt!==e||wt!==n)&&(lr=null,ms=ze()+500,mi(e,n));do try{Vg();break}catch(w){pd(e,w)}while(!0);wu(),Wl.current=d,De=h,rt!==null?n=0:(mt=null,wt=0,n=ut)}if(n!==0){if(n===2&&(h=Xt(e),h!==0&&(u=h,n=ic(e,h))),n===1)throw i=Ro,mi(e,0),xr(e,u),qt(e,ze()),i;if(n===6)xr(e,u);else{if(h=e.current.alternate,!(u&30)&&!kg(h)&&(n=ta(e,u),n===2&&(d=Xt(e),d!==0&&(u=d,n=ic(e,d))),n===1))throw i=Ro,mi(e,0),xr(e,u),qt(e,ze()),i;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:gi(e,bt,lr);break;case 3:if(xr(e,u),(u&130023424)===u&&(n=tc+500-ze(),10<n)){if(ei(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){Mt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=cu(gi.bind(null,e,bt,lr),n);break}gi(e,bt,lr);break;case 4:if(xr(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var y=31-Nt(u);d=1<<y,y=n[y],y>h&&(h=y),u&=~d}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Pg(u/1960))-u,10<u){e.timeoutHandle=cu(gi.bind(null,e,bt,lr),u);break}gi(e,bt,lr);break;case 5:gi(e,bt,lr);break;default:throw Error(r(329))}}}return qt(e,ze()),e.callbackNode===i?fd.bind(null,e):null}function ic(e,n){var i=Po;return e.current.memoizedState.isDehydrated&&(mi(e,n).flags|=256),e=ta(e,n),e!==2&&(n=bt,bt=i,n!==null&&sc(n)),e}function sc(e){bt===null?bt=e:bt.push.apply(bt,e)}function kg(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xr(e,n){for(n&=~ec,n&=~Gl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Nt(n),u=1<<i;e[i]=-1,n&=~u}}function dd(e){if(De&6)throw Error(r(327));gs();var n=ei(e,0);if(!(n&1))return qt(e,ze()),null;var i=ta(e,n);if(e.tag!==0&&i===2){var u=Xt(e);u!==0&&(n=u,i=ic(e,u))}if(i===1)throw i=Ro,mi(e,0),xr(e,n),qt(e,ze()),i;if(i===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,gi(e,bt,lr),qt(e,ze()),null}function oc(e,n){var i=De;De|=1;try{return e(n)}finally{De=i,De===0&&(ms=ze()+500,Pl&&Ar())}}function pi(e){Dr!==null&&Dr.tag===0&&!(De&6)&&gs();var n=De;De|=1;var i=hn.transition,u=Te;try{if(hn.transition=null,Te=1,e)return e()}finally{Te=u,hn.transition=i,De=n,!(De&6)&&Ar()}}function lc(){tn=ps.current,$e(ps)}function mi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,sg(i)),rt!==null)for(i=rt.return;i!==null;){var u=i;switch(gu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Cl();break;case 3:hs(),$e(Bt),$e(Ct),ku();break;case 5:Ru(u);break;case 4:hs();break;case 13:$e(He);break;case 19:$e(He);break;case 10:Tu(u.type._context);break;case 22:case 23:lc()}i=i.return}if(mt=e,rt=e=Nr(e.current,null),wt=tn=n,ut=0,Ro=null,ec=Gl=di=0,bt=Po=null,ci!==null){for(n=0;n<ci.length;n++)if(i=ci[n],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,d=i.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}i.pending=u}ci=null}return e}function pd(e,n){do{var i=rt;try{if(wu(),Ul.current=$l,zl){for(var u=Qe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}zl=!1}if(fi=0,pt=at=Qe=null,wo=!1,To=0,Zu.current=null,i===null||i.return===null){ut=1,Ro=n,rt=null;break}e:{var d=e,y=i.return,w=i,C=n;if(n=wt,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=C,b=w,H=b.tag;if(!(b.mode&1)&&(H===0||H===11||H===15)){var $=b.alternate;$?(b.updateQueue=$.updateQueue,b.memoizedState=$.memoizedState,b.lanes=$.lanes):(b.updateQueue=null,b.memoizedState=null)}var Y=zf(y);if(Y!==null){Y.flags&=-257,Bf(Y,y,w,d,n),Y.mode&1&&Uf(d,F,n),n=Y,C=F;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(C),n.updateQueue=ie}else re.add(C);break e}else{if(!(n&1)){Uf(d,F,n),ac();break e}C=Error(r(426))}}else if(qe&&w.mode&1){var Ze=zf(y);if(Ze!==null){!(Ze.flags&65536)&&(Ze.flags|=256),Bf(Ze,y,w,d,n),_u(fs(C,w));break e}}d=C=fs(C,w),ut!==4&&(ut=2),Po===null?Po=[d]:Po.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var L=Mf(d,C,n);uf(d,L);break e;case 1:w=C;var R=d.type,O=d.stateNode;if(!(d.flags&128)&&(typeof R.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(kr===null||!kr.has(O)))){d.flags|=65536,n&=-n,d.lanes|=n;var K=Ff(d,w,n);uf(d,K);break e}}d=d.return}while(d!==null)}yd(i)}catch(se){n=se,rt===i&&i!==null&&(rt=i=i.return);continue}break}while(!0)}function md(){var e=Wl.current;return Wl.current=$l,e===null?$l:e}function ac(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(di&268435455)&&!(Gl&268435455)||xr(mt,wt)}function ta(e,n){var i=De;De|=2;var u=md();(mt!==e||wt!==n)&&(lr=null,mi(e,n));do try{Dg();break}catch(h){pd(e,h)}while(!0);if(wu(),De=i,Wl.current=u,rt!==null)throw Error(r(261));return mt=null,wt=0,ut}function Dg(){for(;rt!==null;)gd(rt)}function Vg(){for(;rt!==null&&!Jo();)gd(rt)}function gd(e){var n=Ed(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?yd(e):rt=n,Zu.current=null}function yd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=Ig(i,n),i!==null){i.flags&=32767,rt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}else if(i=Sg(i,n,tn),i!==null){rt=i;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);ut===0&&(ut=5)}function gi(e,n,i){var u=Te,h=hn.transition;try{hn.transition=null,Te=1,xg(e,n,i,u)}finally{hn.transition=h,Te=u}return null}function xg(e,n,i,u){do gs();while(Dr!==null);if(De&6)throw Error(r(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Fe(e,d),e===mt&&(rt=mt=null,wt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Yl||(Yl=!0,wd(rn,function(){return gs(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=hn.transition,hn.transition=null;var y=Te;Te=1;var w=De;De|=4,Zu.current=null,Cg(e,i),ld(i,e),Jm(au),_r=!!lu,au=lu=null,e.current=i,Rg(i),Ha(),De=w,Te=y,hn.transition=d}else e.current=i;if(Yl&&(Yl=!1,Dr=e,Jl=h),d=e.pendingLanes,d===0&&(kr=null),tl(i.stateNode),qt(e,ze()),n!==null)for(u=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(Xl)throw Xl=!1,e=nc,nc=null,e;return Jl&1&&e.tag!==0&&gs(),d=e.pendingLanes,d&1?e===rc?ko++:(ko=0,rc=e):ko=0,Ar(),null}function gs(){if(Dr!==null){var e=yr(Jl),n=hn.transition,i=Te;try{if(hn.transition=null,Te=16>e?16:e,Dr===null)var u=!1;else{if(e=Dr,Dr=null,Jl=0,De&6)throw Error(r(331));var h=De;for(De|=4,ne=e.current;ne!==null;){var d=ne,y=d.child;if(ne.flags&16){var w=d.deletions;if(w!==null){for(var C=0;C<w.length;C++){var F=w[C];for(ne=F;ne!==null;){var b=ne;switch(b.tag){case 0:case 11:case 15:Co(8,b,d)}var H=b.child;if(H!==null)H.return=b,ne=H;else for(;ne!==null;){b=ne;var $=b.sibling,Y=b.return;if(nd(b),b===F){ne=null;break}if($!==null){$.return=Y,ne=$;break}ne=Y}}}var re=d.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var Ze=ie.sibling;ie.sibling=null,ie=Ze}while(ie!==null)}}ne=d}}if(d.subtreeFlags&2064&&y!==null)y.return=d,ne=y;else e:for(;ne!==null;){if(d=ne,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Co(9,d,d.return)}var L=d.sibling;if(L!==null){L.return=d.return,ne=L;break e}ne=d.return}}var R=e.current;for(ne=R;ne!==null;){y=ne;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,ne=O;else e:for(y=R;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Kl(9,w)}}catch(se){We(w,w.return,se)}if(w===y){ne=null;break e}var K=w.sibling;if(K!==null){K.return=w.return,ne=K;break e}ne=w.return}}if(De=h,Ar(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Zr,e)}catch{}u=!0}return u}finally{Te=i,hn.transition=n}}return!1}function vd(e,n,i){n=fs(i,n),n=Mf(e,n,1),e=Rr(e,n,1),n=Mt(),e!==null&&(mr(e,1,n),qt(e,n))}function We(e,n,i){if(e.tag===3)vd(e,e,i);else for(;n!==null;){if(n.tag===3){vd(n,e,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kr===null||!kr.has(u))){e=fs(i,e),e=Ff(n,e,1),n=Rr(n,e,1),e=Mt(),n!==null&&(mr(n,1,e),qt(n,e));break}}n=n.return}}function Ng(e,n,i){var u=e.pingCache;u!==null&&u.delete(n),n=Mt(),e.pingedLanes|=e.suspendedLanes&i,mt===e&&(wt&i)===i&&(ut===4||ut===3&&(wt&130023424)===wt&&500>ze()-tc?mi(e,0):ec|=i),qt(e,n)}function _d(e,n){n===0&&(e.mode&1?(n=zi,zi<<=1,!(zi&130023424)&&(zi=4194304)):n=1);var i=Mt();e=ir(e,n),e!==null&&(mr(e,n,i),qt(e,i))}function Lg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),_d(e,i)}function Og(e,n){var i=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),_d(e,i)}var Ed;Ed=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Bt.current)$t=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return $t=!1,Tg(e,n,i);$t=!!(e.flags&131072)}else $t=!1,qe&&n.flags&1048576&&Jh(n,Dl,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Hl(e,n),e=n.pendingProps;var h=is(n,Ct.current);cs(n,i),h=xu(null,n,u,e,h,i);var d=Nu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,jt(u)?(d=!0,Rl(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Au(n),h.updater=bl,n.stateNode=h,h._reactInternals=n,zu(n,u,e,i),n=bu(null,n,u,!0,d,i)):(n.tag=0,qe&&d&&mu(n),Ot(null,n,h,i),n=n.child),n;case 16:u=n.elementType;e:{switch(Hl(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Fg(u),e=In(u,e),h){case 0:n=$u(null,n,u,e,i);break e;case 1:n=Qf(null,n,u,e,i);break e;case 11:n=jf(null,n,u,e,i);break e;case 14:n=$f(null,n,u,In(u.type,e),i);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:In(u,h),$u(e,n,u,h,i);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:In(u,h),Qf(e,n,u,h,i);case 3:e:{if(Kf(n),e===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,af(e,n),Ml(n,u,null,i);var y=n.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=fs(Error(r(423)),n),n=Wf(e,n,u,i,h);break e}else if(u!==h){h=fs(Error(r(424)),n),n=Wf(e,n,u,i,h);break e}else for(en=Tr(n.stateNode.containerInfo.firstChild),Zt=n,qe=!0,Sn=null,i=of(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ls(),u===h){n=or(e,n,i);break e}Ot(e,n,u,i)}n=n.child}return n;case 5:return hf(n),e===null&&vu(n),u=n.type,h=n.pendingProps,d=e!==null?e.memoizedProps:null,y=h.children,uu(u,h)?y=null:d!==null&&uu(u,d)&&(n.flags|=32),Hf(e,n),Ot(e,n,y,i),n.child;case 6:return e===null&&vu(n),null;case 13:return Gf(e,n,i);case 4:return Cu(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=as(n,null,u,i):Ot(e,n,u,i),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:In(u,h),jf(e,n,u,h,i);case 7:return Ot(e,n,n.pendingProps,i),n.child;case 8:return Ot(e,n,n.pendingProps.children,i),n.child;case 12:return Ot(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,Be(Nl,u._currentValue),u._currentValue=y,d!==null)if(Tn(d.value,y)){if(d.children===h.children&&!Bt.current){n=or(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){y=d.child;for(var C=w.firstContext;C!==null;){if(C.context===u){if(d.tag===1){C=sr(-1,i&-i),C.tag=2;var F=d.updateQueue;if(F!==null){F=F.shared;var b=F.pending;b===null?C.next=C:(C.next=b.next,b.next=C),F.pending=C}}d.lanes|=i,C=d.alternate,C!==null&&(C.lanes|=i),Su(d.return,i,n),w.lanes|=i;break}C=C.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=i,w=y.alternate,w!==null&&(w.lanes|=i),Su(y,i,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Ot(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,cs(n,i),h=un(h),u=u(h),n.flags|=1,Ot(e,n,u,i),n.child;case 14:return u=n.type,h=In(u,n.pendingProps),h=In(u.type,h),$f(e,n,u,h,i);case 15:return bf(e,n,n.type,n.pendingProps,i);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:In(u,h),Hl(e,n),n.tag=1,jt(u)?(e=!0,Rl(n)):e=!1,cs(n,i),Lf(n,u,h),zu(n,u,h,i),bu(null,n,u,!0,e,i);case 19:return Yf(e,n,i);case 22:return qf(e,n,i)}throw Error(r(156,n.tag))};function wd(e,n){return Fi(e,n)}function Mg(e,n,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,i,u){return new Mg(e,n,i,u)}function uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fg(e){if(typeof e=="function")return uc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===x)return 11;if(e===It)return 14}return 2}function Nr(e,n){var i=e.alternate;return i===null?(i=fn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function na(e,n,i,u,h,d){var y=2;if(u=e,typeof e=="function")uc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case k:return yi(i.children,h,d,n);case T:y=8,h|=8;break;case I:return e=fn(12,i,n,h|2),e.elementType=I,e.lanes=d,e;case S:return e=fn(13,i,n,h),e.elementType=S,e.lanes=d,e;case Ye:return e=fn(19,i,n,h),e.elementType=Ye,e.lanes=d,e;case Me:return ra(i,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:y=10;break e;case D:y=9;break e;case x:y=11;break e;case It:y=14;break e;case At:y=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=fn(y,i,n,h),n.elementType=e,n.type=u,n.lanes=d,n}function yi(e,n,i,u){return e=fn(7,e,u,n),e.lanes=i,e}function ra(e,n,i,u){return e=fn(22,e,u,n),e.elementType=Me,e.lanes=i,e.stateNode={isHidden:!1},e}function cc(e,n,i){return e=fn(6,e,null,n),e.lanes=i,e}function hc(e,n,i){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ug(e,n,i,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function fc(e,n,i,u,h,d,y,w,C){return e=new Ug(e,n,i,w,C),n===1?(n=1,d===!0&&(n|=8)):n=0,d=fn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(d),e}function zg(e,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:u==null?null:""+u,children:e,containerInfo:n,implementation:i}}function Td(e){if(!e)return Ir;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(jt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var i=e.type;if(jt(i))return Gh(e,i,n)}return n}function Sd(e,n,i,u,h,d,y,w,C){return e=fc(i,u,!0,e,h,d,y,w,C),e.context=Td(null),i=e.current,u=Mt(),h=Vr(i),d=sr(u,h),d.callback=n??null,Rr(i,d,h),e.current.lanes=h,mr(e,h,u),qt(e,u),e}function ia(e,n,i,u){var h=n.current,d=Mt(),y=Vr(h);return i=Td(i),n.context===null?n.context=i:n.pendingContext=i,n=sr(d,y),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Rr(h,n,y),e!==null&&(Rn(e,h,y,d),Ol(e,h,y)),y}function sa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Id(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function dc(e,n){Id(e,n),(e=e.alternate)&&Id(e,n)}var Ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function pc(e){this._internalRoot=e}oa.prototype.render=pc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));ia(e,n,null,null)},oa.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;pi(function(){ia(null,e,null,null)}),n[er]=null}};function oa(e){this._internalRoot=e}oa.prototype.unstable_scheduleHydration=function(e){if(e){var n=ol();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Vn.length&&n!==0&&n<Vn[i].priority;i++);Vn.splice(i,0,e),i===0&&ul(e)}};function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cd(){}function Bg(e,n,i,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var F=sa(y);d.call(F)}}var y=Sd(n,u,e,0,null,!1,!1,"",Cd);return e._reactRootContainer=y,e[er]=y.current,fo(e.nodeType===8?e.parentNode:e),pi(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=sa(C);w.call(F)}}var C=fc(e,0,!1,null,null,!1,!1,"",Cd);return e._reactRootContainer=C,e[er]=C.current,fo(e.nodeType===8?e.parentNode:e),pi(function(){ia(n,C,i,u)}),C}function aa(e,n,i,u,h){var d=i._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var w=h;h=function(){var C=sa(y);w.call(C)}}ia(n,y,e,h)}else y=Bg(i,n,e,h,u);return sa(y)}il=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=dr(n.pendingLanes);i!==0&&(gr(n,i|1),qt(n,ze()),!(De&6)&&(ms=ze()+500,Ar()))}break;case 13:pi(function(){var u=ir(e,1);if(u!==null){var h=Mt();Rn(u,e,1,h)}}),dc(e,1)}},Bi=function(e){if(e.tag===13){var n=ir(e,134217728);if(n!==null){var i=Mt();Rn(n,e,134217728,i)}dc(e,134217728)}},sl=function(e){if(e.tag===13){var n=Vr(e),i=ir(e,n);if(i!==null){var u=Mt();Rn(i,e,n,u)}dc(e,n)}},ol=function(){return Te},ll=function(e,n){var i=Te;try{return Te=e,n()}finally{Te=i}},Vi=function(e,n,i){switch(n){case"input":if(Fs(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==e&&u.form===e.form){var h=Al(u);if(!h)throw Error(r(90));Ai(u),Fs(u,h)}}}break;case"textarea":ki(e,i);break;case"select":n=i.value,n!=null&&Qn(e,!!i.multiple,n,!1)}},Wr=oc,Ks=pi;var jg={usingClientEntryPoint:!1,Events:[go,ns,Al,kn,Qs,oc]},Do={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$g={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xs(e),e===null?null:e.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{Zr=ua.inject($g),Gt=ua}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg,Ht.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mc(n))throw Error(r(200));return zg(e,n,null,i)},Ht.createRoot=function(e,n){if(!mc(e))throw Error(r(299));var i=!1,u="",h=Ad;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=fc(e,1,!1,null,null,i,!1,u,h),e[er]=n.current,fo(e.nodeType===8?e.parentNode:e),new pc(n)},Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Xs(n),e=e===null?null:e.stateNode,e},Ht.flushSync=function(e){return pi(e)},Ht.hydrate=function(e,n,i){if(!la(n))throw Error(r(200));return aa(null,e,n,!0,i)},Ht.hydrateRoot=function(e,n,i){if(!mc(e))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,h=!1,d="",y=Ad;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=Sd(n,null,e,1,i??null,h,!1,d,y),e[er]=n.current,fo(e),u)for(e=0;e<u.length;e++)i=u[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new oa(n)},Ht.render=function(e,n,i){if(!la(n))throw Error(r(200));return aa(null,e,n,!1,i)},Ht.unmountComponentAtNode=function(e){if(!la(e))throw Error(r(40));return e._reactRootContainer?(pi(function(){aa(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1},Ht.unstable_batchedUpdates=oc,Ht.unstable_renderSubtreeIntoContainer=function(e,n,i,u){if(!la(i))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return aa(e,n,i,!1,u)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var Ld;function Xg(){if(Ld)return vc.exports;Ld=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),vc.exports=Gg(),vc.exports}var Od;function Yg(){if(Od)return ca;Od=1;var s=Xg();return ca.createRoot=s.createRoot,ca.hydrateRoot=s.hydrateRoot,ca}var Jg=Yg(),Md={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=function(s){const t=[];let r=0;for(let o=0;o<s.length;o++){let a=s.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Zg=function(s){const t=[];let r=0,o=0;for(;r<s.length;){const a=s[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=s[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=s[r++],p=s[r++],g=s[r++],v=((a&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(v>>10)),t[o++]=String.fromCharCode(56320+(v&1023))}else{const c=s[r++],p=s[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|p&63)}}return t.join("")},Np={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<s.length;a+=3){const c=s[a],p=a+1<s.length,g=p?s[a+1]:0,v=a+2<s.length,E=v?s[a+2]:0,A=c>>2,M=(c&3)<<4|g>>4;let z=(g&15)<<2|E>>6,Q=E&63;v||(Q=64,p||(z=64)),o.push(r[A],r[M],r[z],r[Q])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(xp(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Zg(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<s.length;){const c=r[s.charAt(a++)],g=a<s.length?r[s.charAt(a)]:0;++a;const E=a<s.length?r[s.charAt(a)]:64;++a;const M=a<s.length?r[s.charAt(a)]:64;if(++a,c==null||g==null||E==null||M==null)throw new ey;const z=c<<2|g>>4;if(o.push(z),E!==64){const Q=g<<4&240|E>>2;if(o.push(Q),M!==64){const Z=E<<6&192|M;o.push(Z)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ey extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ty=function(s){const t=xp(s);return Np.encodeByteArray(t,!0)},Ta=function(s){return ty(s).replace(/\./g,"")},ny=function(s){try{return Np.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=()=>ry().__FIREBASE_DEFAULTS__,sy=()=>{if(typeof process>"u"||typeof Md>"u")return;const s=Md.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oy=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&ny(s[1]);return t&&JSON.parse(t)},Zc=()=>{try{return iy()||sy()||oy()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ly=s=>{var t,r;return(r=(t=Zc())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},ay=s=>{const t=ly(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Lp=()=>{var s;return(s=Zc())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ta(JSON.stringify(r)),Ta(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fy(){var s;const t=(s=Zc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dy(){return!fy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function py(){try{return typeof indexedDB=="object"}catch{return!1}}function my(){return new Promise((s,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="FirebaseError";class Vs extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=gy,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Op.prototype.create)}}class Op{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],p=c?yy(c,o):"Error",g=`${this.serviceName}: ${p} (${a}).`;return new Vs(a,g,o)}}function yy(s,t){return s.replace(vy,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const vy=/\{\$([^}]+)}/g;function Dc(s,t){if(s===t)return!0;const r=Object.keys(s),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=s[a],p=t[a];if(Fd(c)&&Fd(p)){if(!Dc(c,p))return!1}else if(c!==p)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function Fd(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(s){return s&&s._delegate?s._delegate:s}class zo{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new uy;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ty(t))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=vi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vi){return this.instances.has(t)}getOptions(t=vi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const p=this.instances.get(a);return p&&t(p,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:wy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=vi){return this.component?this.component.multipleInstances?t:vi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wy(s){return s===vi?void 0:s}function Ty(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Ey(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ce||(Ce={}));const Iy={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Ay=Ce.INFO,Cy={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Ry=(s,t,...r)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),a=Cy[t];if(a)console[a](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mp{constructor(t){this.name=t,this._logLevel=Ay,this._logHandler=Ry,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Iy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}const Py=(s,t)=>t.some(r=>s instanceof r);let Ud,zd;function ky(){return Ud||(Ud=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dy(){return zd||(zd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fp=new WeakMap,Vc=new WeakMap,Up=new WeakMap,wc=new WeakMap,eh=new WeakMap;function Vy(s){const t=new Promise((r,o)=>{const a=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(Fr(s.result)),a()},p=()=>{o(s.error),a()};s.addEventListener("success",c),s.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&Fp.set(r,s)}).catch(()=>{}),eh.set(t,s),t}function xy(s){if(Vc.has(s))return;const t=new Promise((r,o)=>{const a=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),a()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});Vc.set(s,t)}let xc={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return Vc.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Up.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fr(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Ny(s){xc=s(xc)}function Ly(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=s.call(Tc(this),t,...r);return Up.set(o,t.sort?t.sort():[t]),Fr(o)}:Dy().includes(s)?function(...t){return s.apply(Tc(this),t),Fr(Fp.get(this))}:function(...t){return Fr(s.apply(Tc(this),t))}}function Oy(s){return typeof s=="function"?Ly(s):(s instanceof IDBTransaction&&xy(s),Py(s,ky())?new Proxy(s,xc):s)}function Fr(s){if(s instanceof IDBRequest)return Vy(s);if(wc.has(s))return wc.get(s);const t=Oy(s);return t!==s&&(wc.set(s,t),eh.set(t,s)),t}const Tc=s=>eh.get(s);function My(s,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const p=indexedDB.open(s,t),g=Fr(p);return o&&p.addEventListener("upgradeneeded",v=>{o(Fr(p.result),v.oldVersion,v.newVersion,Fr(p.transaction),v)}),r&&p.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),a&&v.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Fy=["get","getKey","getAll","getAllKeys","count"],Uy=["put","add","delete","clear"],Sc=new Map;function Bd(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Sc.get(t))return Sc.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Uy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Fy.includes(r)))return;const c=async function(p,...g){const v=this.transaction(p,a?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),a&&v.done]))[0]};return Sc.set(t,c),c}Ny(s=>({...s,get:(t,r,o)=>Bd(t,r)||s.get(t,r,o),has:(t,r)=>!!Bd(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(By(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function By(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nc="@firebase/app",jd="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Mp("@firebase/app"),jy="@firebase/app-compat",$y="@firebase/analytics-compat",by="@firebase/analytics",qy="@firebase/app-check-compat",Hy="@firebase/app-check",Qy="@firebase/auth",Ky="@firebase/auth-compat",Wy="@firebase/database",Gy="@firebase/data-connect",Xy="@firebase/database-compat",Yy="@firebase/functions",Jy="@firebase/functions-compat",Zy="@firebase/installations",ev="@firebase/installations-compat",tv="@firebase/messaging",nv="@firebase/messaging-compat",rv="@firebase/performance",iv="@firebase/performance-compat",sv="@firebase/remote-config",ov="@firebase/remote-config-compat",lv="@firebase/storage",av="@firebase/storage-compat",uv="@firebase/firestore",cv="@firebase/vertexai",hv="@firebase/firestore-compat",fv="firebase",dv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="[DEFAULT]",pv={[Nc]:"fire-core",[jy]:"fire-core-compat",[by]:"fire-analytics",[$y]:"fire-analytics-compat",[Hy]:"fire-app-check",[qy]:"fire-app-check-compat",[Qy]:"fire-auth",[Ky]:"fire-auth-compat",[Wy]:"fire-rtdb",[Gy]:"fire-data-connect",[Xy]:"fire-rtdb-compat",[Yy]:"fire-fn",[Jy]:"fire-fn-compat",[Zy]:"fire-iid",[ev]:"fire-iid-compat",[tv]:"fire-fcm",[nv]:"fire-fcm-compat",[rv]:"fire-perf",[iv]:"fire-perf-compat",[sv]:"fire-rc",[ov]:"fire-rc-compat",[lv]:"fire-gcs",[av]:"fire-gcs-compat",[uv]:"fire-fst",[hv]:"fire-fst-compat",[cv]:"fire-vertex","fire-js":"fire-js",[fv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Map,mv=new Map,Oc=new Map;function $d(s,t){try{s.container.addComponent(t)}catch(r){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Ia(s){const t=s.name;if(Oc.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;Oc.set(t,s);for(const r of Sa.values())$d(r,s);for(const r of mv.values())$d(r,s);return!0}function gv(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Op("app","Firebase",yv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=dv;function zp(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Lc,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw Ur.create("bad-app-name",{appName:String(a)});if(r||(r=Lp()),!r)throw Ur.create("no-options");const c=Sa.get(a);if(c){if(Dc(r,c.options)&&Dc(o,c.config))return c;throw Ur.create("duplicate-app",{appName:a})}const p=new Sy(a);for(const v of Oc.values())p.addComponent(v);const g=new vv(r,o,p);return Sa.set(a,g),g}function Ev(s=Lc){const t=Sa.get(s);if(!t&&s===Lc&&Lp())return zp();if(!t)throw Ur.create("no-app",{appName:s});return t}function ws(s,t,r){var o;let a=(o=pv[s])!==null&&o!==void 0?o:s;r&&(a+=`-${r}`);const c=a.match(/\s|\//),p=t.match(/\s|\//);if(c||p){const g=[`Unable to register library "${a}" with version "${t}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(g.join(" "));return}Ia(new zo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="firebase-heartbeat-database",Tv=1,Bo="firebase-heartbeat-store";let Ic=null;function Bp(){return Ic||(Ic=My(wv,Tv,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Bo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Ur.create("idb-open",{originalErrorMessage:s.message})})),Ic}async function Sv(s){try{const r=(await Bp()).transaction(Bo),o=await r.objectStore(Bo).get(jp(s));return await r.done,o}catch(t){if(t instanceof Vs)ar.warn(t.message);else{const r=Ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ar.warn(r.message)}}}async function bd(s,t){try{const o=(await Bp()).transaction(Bo,"readwrite");await o.objectStore(Bo).put(t,jp(s)),await o.done}catch(r){if(r instanceof Vs)ar.warn(r.message);else{const o=Ur.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ar.warn(o.message)}}}function jp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=1024,Av=30*24*60*60*1e3;class Cv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Pv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=qd();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=Av}),this._storage.overwrite(this._heartbeatsCache))}catch(o){ar.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=qd(),{heartbeatsToSend:o,unsentEntries:a}=Rv(this._heartbeatsCache.heartbeats),c=Ta(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return ar.warn(r),""}}}function qd(){return new Date().toISOString().substring(0,10)}function Rv(s,t=Iv){const r=[];let o=s.slice();for(const a of s){const c=r.find(p=>p.agent===a.agent);if(c){if(c.dates.push(a.date),Hd(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Hd(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Pv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return py()?my().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Sv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return bd(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return bd(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Hd(s){return Ta(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(s){Ia(new zo("platform-logger",t=>new zy(t),"PRIVATE")),Ia(new zo("heartbeat",t=>new Cv(t),"PRIVATE")),ws(Nc,jd,s),ws(Nc,jd,"esm2017"),ws("fire-js","")}kv("");var Dv="firebase",Vv="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(Dv,Vv,"app");var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,$p;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(P,D,x){for(var S=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)S[Ye-2]=arguments[Ye];return T.prototype[D].apply(P,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)P[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],D=k.g[2];var x=k.g[3],S=T+(x^I&(D^x))+P[0]+3614090360&4294967295;T=I+(S<<7&4294967295|S>>>25),S=x+(D^T&(I^D))+P[1]+3905402710&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(I^x&(T^I))+P[2]+606105819&4294967295,D=x+(S<<17&4294967295|S>>>15),S=I+(T^D&(x^T))+P[3]+3250441966&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(x^I&(D^x))+P[4]+4118548399&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(D^T&(I^D))+P[5]+1200080426&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(I^x&(T^I))+P[6]+2821735955&4294967295,D=x+(S<<17&4294967295|S>>>15),S=I+(T^D&(x^T))+P[7]+4249261313&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(x^I&(D^x))+P[8]+1770035416&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(D^T&(I^D))+P[9]+2336552879&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(I^x&(T^I))+P[10]+4294925233&4294967295,D=x+(S<<17&4294967295|S>>>15),S=I+(T^D&(x^T))+P[11]+2304563134&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(x^I&(D^x))+P[12]+1804603682&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(D^T&(I^D))+P[13]+4254626195&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(I^x&(T^I))+P[14]+2792965006&4294967295,D=x+(S<<17&4294967295|S>>>15),S=I+(T^D&(x^T))+P[15]+1236535329&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(D^x&(I^D))+P[1]+4129170786&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^D&(T^I))+P[6]+3225465664&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(x^T))+P[11]+643717713&4294967295,D=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(D^x))+P[0]+3921069994&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(I^D))+P[5]+3593408605&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^D&(T^I))+P[10]+38016083&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(x^T))+P[15]+3634488961&4294967295,D=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(D^x))+P[4]+3889429448&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(I^D))+P[9]+568446438&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^D&(T^I))+P[14]+3275163606&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(x^T))+P[3]+4107603335&4294967295,D=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(D^x))+P[8]+1163531501&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(I^D))+P[13]+2850285829&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^D&(T^I))+P[2]+4243563512&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(x^T))+P[7]+1735328473&4294967295,D=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(D^x))+P[12]+2368359562&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(I^D^x)+P[5]+4294588738&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^D)+P[8]+2272392833&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^I)+P[11]+1839030562&4294967295,D=x+(S<<16&4294967295|S>>>16),S=I+(D^x^T)+P[14]+4259657740&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^x)+P[1]+2763975236&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^D)+P[4]+1272893353&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^I)+P[7]+4139469664&4294967295,D=x+(S<<16&4294967295|S>>>16),S=I+(D^x^T)+P[10]+3200236656&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^x)+P[13]+681279174&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^D)+P[0]+3936430074&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^I)+P[3]+3572445317&4294967295,D=x+(S<<16&4294967295|S>>>16),S=I+(D^x^T)+P[6]+76029189&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^x)+P[9]+3654602809&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^D)+P[12]+3873151461&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^I)+P[15]+530742520&4294967295,D=x+(S<<16&4294967295|S>>>16),S=I+(D^x^T)+P[2]+3299628645&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(D^(I|~x))+P[0]+4096336452&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~D))+P[7]+1126891415&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~I))+P[14]+2878612391&4294967295,D=x+(S<<15&4294967295|S>>>17),S=I+(x^(D|~T))+P[5]+4237533241&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~x))+P[12]+1700485571&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~D))+P[3]+2399980690&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~I))+P[10]+4293915773&4294967295,D=x+(S<<15&4294967295|S>>>17),S=I+(x^(D|~T))+P[1]+2240044497&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~x))+P[8]+1873313359&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~D))+P[15]+4264355552&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~I))+P[6]+2734768916&4294967295,D=x+(S<<15&4294967295|S>>>17),S=I+(x^(D|~T))+P[13]+1309151649&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~x))+P[4]+4149444226&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~D))+P[11]+3174756917&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~I))+P[2]+718787259&4294967295,D=x+(S<<15&4294967295|S>>>17),S=I+(x^(D|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+x&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,P=this.B,D=this.h,x=0;x<T;){if(D==0)for(;x<=I;)a(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<T;)if(P[D++]=k.charCodeAt(x++),D==this.blockSize){a(this,P),D=0;break}}else for(;x<T;)if(P[D++]=k[x++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)k[I++]=this.g[T]>>>P&255;return k};function c(k,T){var I=g;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function p(k,T){this.h=T;for(var I=[],P=!0,D=k.length-1;0<=D;D--){var x=k[D]|0;P&&x==T||(I[D]=x,P=!1)}this.g=I}var g={};function v(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return M;if(0>k)return q(E(-k));for(var T=[],I=1,P=0;k>=I;P++)T[P]=k/I|0,I*=4294967296;return new p(T,0)}function A(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return q(A(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=E(Math.pow(T,8)),P=M,D=0;D<k.length;D+=8){var x=Math.min(8,k.length-D),S=parseInt(k.substring(D,D+x),T);8>x?(x=E(Math.pow(T,x)),P=P.j(x).add(E(S))):(P=P.j(I),P=P.add(E(S)))}return P}var M=v(0),z=v(1),Q=v(16777216);s=p.prototype,s.m=function(){if(J(this))return-q(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(Z(this))return"0";if(J(this))return"-"+q(this).toString(k);for(var T=E(Math.pow(k,6)),I=this,P="";;){var D=ye(I,T).g;I=me(I,D.j(T));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=D,Z(I))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function Z(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function J(k){return k.h==-1}s.l=function(k){return k=me(this,k),J(k)?-1:Z(k)?0:1};function q(k){for(var T=k.g.length,I=[],P=0;P<T;P++)I[P]=~k.g[P];return new p(I,~k.h).add(z)}s.abs=function(){return J(this)?q(this):this},s.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0,D=0;D<=T;D++){var x=P+(this.i(D)&65535)+(k.i(D)&65535),S=(x>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);P=S>>>16,x&=65535,S&=65535,I[D]=S<<16|x}return new p(I,I[I.length-1]&-2147483648?-1:0)};function me(k,T){return k.add(q(T))}s.j=function(k){if(Z(this)||Z(k))return M;if(J(this))return J(k)?q(this).j(q(k)):q(q(this).j(k));if(J(k))return q(this.j(q(k)));if(0>this.l(Q)&&0>k.l(Q))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<k.g.length;D++){var x=this.i(P)>>>16,S=this.i(P)&65535,Ye=k.i(D)>>>16,It=k.i(D)&65535;I[2*P+2*D]+=S*It,ge(I,2*P+2*D),I[2*P+2*D+1]+=x*It,ge(I,2*P+2*D+1),I[2*P+2*D+1]+=S*Ye,ge(I,2*P+2*D+1),I[2*P+2*D+2]+=x*Ye,ge(I,2*P+2*D+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new p(I,0)};function ge(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function _e(k,T){this.g=k,this.h=T}function ye(k,T){if(Z(T))throw Error("division by zero");if(Z(k))return new _e(M,M);if(J(k))return T=ye(q(k),T),new _e(q(T.g),q(T.h));if(J(T))return T=ye(k,q(T)),new _e(q(T.g),T.h);if(30<k.g.length){if(J(k)||J(T))throw Error("slowDivide_ only works with positive integers.");for(var I=z,P=T;0>=P.l(k);)I=Xe(I),P=Xe(P);var D=ke(I,1),x=ke(P,1);for(P=ke(P,2),I=ke(I,2);!Z(P);){var S=x.add(P);0>=S.l(k)&&(D=D.add(I),x=S),P=ke(P,1),I=ke(I,1)}return T=me(k,D.j(T)),new _e(D,T)}for(D=M;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=E(I),S=x.j(T);J(S)||0<S.l(k);)I-=P,x=E(I),S=x.j(T);Z(x)&&(x=z),D=D.add(x),k=me(k,S)}return new _e(D,k)}s.A=function(k){return ye(this,k).h},s.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&k.i(P);return new p(I,this.h&k.h)},s.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|k.i(P);return new p(I,this.h|k.h)},s.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^k.i(P);return new p(I,this.h^k.h)};function Xe(k){for(var T=k.g.length+1,I=[],P=0;P<T;P++)I[P]=k.i(P)<<1|k.i(P-1)>>>31;return new p(I,k.h)}function ke(k,T){var I=T>>5;T%=32;for(var P=k.g.length-I,D=[],x=0;x<P;x++)D[x]=0<T?k.i(x+I)>>>T|k.i(x+I+1)<<32-T:k.i(x+I);return new p(D,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,$p=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=A,Ei=p}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});var ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bp,xo,qp,ya,Mc,Hp,Qp,Kp;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ha=="object"&&ha];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function a(l,f){if(f)e:{var m=o;l=l.split(".");for(var _=0;_<l.length-1;_++){var N=l[_];if(!(N in m))break e;m=m[N]}l=l[l.length-1],_=m[l],f=f(_),f!=_&&f!=null&&t(m,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var m=0,_=!1,N={next:function(){if(!_&&m<l.length){var U=m++;return{value:f(U,l[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function v(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function E(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function A(l,f,m){return l.call.apply(l.bind,arguments)}function M(l,f,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,_),l.apply(f,N)}}return function(){return l.apply(f,arguments)}}function z(l,f,m){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:M,z.apply(null,arguments)}function Q(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function Z(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,N,U){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return f.prototype[N].apply(_,W)}}function J(l){const f=l.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=l[_];return m}return[]}function q(l,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const N=l.length||0,U=_.length||0;l.length=N+U;for(let W=0;W<U;W++)l[N+W]=_[W]}else l.push(_)}}class me{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ge(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function ye(l){return ye[" "](l),l}ye[" "]=function(){};var Xe=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function ke(l,f,m){for(const _ in l)f.call(m,l[_],_,l)}function k(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function T(l){const f={};for(const m in l)f[m]=l[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let m,_;for(let N=1;N<arguments.length;N++){_=arguments[N];for(m in _)l[m]=_[m];for(let U=0;U<I.length;U++)m=I[U],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function D(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function x(l){g.setTimeout(()=>{throw l},0)}function S(){var l=le;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ye{constructor(){this.h=this.g=null}add(f,m){const _=It.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var It=new me(()=>new At,l=>l.reset());class At{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,G=!1,le=new Ye,ee=()=>{const l=g.Promise.resolve(void 0);Me=()=>{l.then(V)}};var V=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){x(m)}var f=It;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}G=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return l}();function Ee(l,f){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Xe){e:{try{ye(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Se[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}Z(Ee,oe);var Se={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Ue(l,f,m,_,N){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=N,this.key=++Le,this.da=this.fa=!1}function ft(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function qn(l){this.src=l,this.g={},this.h=0}qn.prototype.add=function(l,f,m,_,N){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var W=cr(l,f,_,N);return-1<W?(f=l[W],m||(f.fa=!1)):(f=new Ue(f,this.src,U,!!_,N),f.fa=m,l.push(f)),f};function Ai(l,f){var m=f.type;if(m in l.g){var _=l.g[m],N=Array.prototype.indexOf.call(_,f,void 0),U;(U=0<=N)&&Array.prototype.splice.call(_,N,1),U&&(ft(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function cr(l,f,m,_){for(var N=0;N<l.length;++N){var U=l[N];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==_)return N}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Ci={};function Ms(l,f,m,_,N){if(Array.isArray(f)){for(var U=0;U<f.length;U++)Ms(l,f[U],m,_,N);return null}return m=zs(m),l&&l[Ne]?l.K(f,m,E(_)?!!_.capture:!!_,N):Fs(l,f,m,!1,_,N)}function Fs(l,f,m,_,N,U){if(!f)throw Error("Invalid event type");var W=E(N)?!!N.capture:!!N,Oe=Pi(l);if(Oe||(l[qr]=Oe=new qn(l)),m=Oe.add(f,m,_,W,U),m.proxy)return m;if(_=Go(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)ve||(N=W),N===void 0&&(N=!1),l.addEventListener(f.toString(),_,N);else if(l.attachEvent)l.attachEvent(Qn(f.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Go(){function l(m){return f.call(l.src,l.listener,m)}const f=Us;return l}function Ri(l,f,m,_,N){if(Array.isArray(f))for(var U=0;U<f.length;U++)Ri(l,f[U],m,_,N);else _=E(_)?!!_.capture:!!_,m=zs(m),l&&l[Ne]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],m=cr(U,m,_,N),-1<m&&(ft(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=Pi(l))&&(f=l.g[f.toString()],l=-1,f&&(l=cr(f,m,_,N)),(m=-1<l?f[l]:null)&&Hn(m))}function Hn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ne])Ai(f.i,l);else{var m=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(m,_,l.capture):f.detachEvent?f.detachEvent(Qn(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=Pi(f))?(Ai(m,l),m.h==0&&(m.src=null,f[qr]=null)):ft(l)}}}function Qn(l){return l in Ci?Ci[l]:Ci[l]="on"+l}function Us(l,f){if(l.da)l=!0;else{f=new Ee(f,this);var m=l.listener,_=l.ha||l.src;l.fa&&Hn(l),l=m.call(_,f)}return l}function Pi(l){return l=l[qr],l instanceof qn?l:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function zs(l){return typeof l=="function"?l:(l[ki]||(l[ki]=function(f){return l.handleEvent(f)}),l[ki])}function st(){B.call(this),this.i=new qn(this),this.M=this,this.F=null}Z(st,B),st.prototype[Ne]=!0,st.prototype.removeEventListener=function(l,f,m,_){Ri(this,l,f,m,_)};function ot(l,f){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=f.type||f,typeof f=="string")f=new oe(f,l);else if(f instanceof oe)f.target=f.target||l;else{var N=f;f=new oe(_,l),P(f,N)}if(N=!0,m)for(var U=m.length-1;0<=U;U--){var W=f.g=m[U];N=Kn(W,_,!0,f)&&N}if(W=f.g=l,N=Kn(W,_,!0,f)&&N,N=Kn(W,_,!1,f)&&N,m)for(U=0;U<m.length;U++)W=f.g=m[U],N=Kn(W,_,!1,f)&&N}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],_=0;_<m.length;_++)ft(m[_]);delete l.g[f],l.h--}}this.F=null},st.prototype.K=function(l,f,m,_){return this.i.add(String(l),f,!1,m,_)},st.prototype.L=function(l,f,m,_){return this.i.add(String(l),f,!0,m,_)};function Kn(l,f,m,_){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,U=0;U<f.length;++U){var W=f[U];if(W&&!W.da&&W.capture==m){var Oe=W.listener,lt=W.ha||W.src;W.fa&&Ai(l.i,W),N=Oe.call(lt,_)!==!1&&N}}return N&&!_.defaultPrevented}function Bs(l,f,m){if(typeof l=="function")m&&(l=z(l,m));else if(l&&typeof l.handleEvent=="function")l=z(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(l,f||0)}function hr(l){l.g=Bs(()=>{l.g=null,l.i&&(l.i=!1,hr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Hr extends B{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(l){B.call(this),this.h=l,this.g={}}Z(Qr,B);var js=[];function $s(l){ke(l.g,function(f,m){this.g.hasOwnProperty(m)&&Hn(f)},l),l.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),$s(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=g.JSON.stringify,qs=g.JSON.parse,Hs=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function Kr(){}Kr.prototype.h=null;function Di(l){return l.h||(l.h=l.i())}function Vi(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pn(){oe.call(this,"d")}Z(Pn,oe);function xi(){oe.call(this,"c")}Z(xi,oe);var kn={},Qs=null;function Wr(){return Qs=Qs||new st}kn.La="serverreachability";function Ks(l){oe.call(this,kn.La,l)}Z(Ks,oe);function Wn(l){const f=Wr();ot(f,new Ks(f))}kn.STAT_EVENT="statevent";function Ws(l,f){oe.call(this,kn.STAT_EVENT,l),this.stat=f}Z(Ws,oe);function Je(l){const f=Wr();ot(f,new Ws(f,l))}kn.Ma="timingevent";function Ni(l,f){oe.call(this,kn.Ma,l),this.size=f}Z(Ni,oe);function dn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},f)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function Xr(l,f,m,_,N,U){l.info(function(){if(l.g)if(U)for(var W="",Oe=U.split("&"),lt=0;lt<Oe.length;lt++){var Ie=Oe[lt].split("=");if(1<Ie.length){var dt=Ie[0];Ie=Ie[1];var nt=dt.split("_");W=2<=nt.length&&nt[1]=="type"?W+(dt+"="+Ie+"&"):W+(dt+"=redacted&")}}else W=null;else W=U;return"XMLHTTP REQ ("+_+") [attempt "+N+"]: "+f+`
`+m+`
`+W})}function Li(l,f,m,_,N,U,W){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+N+"]: "+f+`
`+m+`
`+U+" "+W})}function pn(l,f,m,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+qa(l,m)+(_?" "+_:"")})}function Gs(l,f){l.info(function(){return"TIMEOUT: "+f})}Gr.prototype.info=function(){};function qa(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var N=_[1];if(Array.isArray(N)&&!(1>N.length)){var U=N[0];if(U!="noop"&&U!="stop"&&U!="close")for(var W=1;W<N.length;W++)N[W]=""}}}}return bs(m)}catch{return f}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mn;function Yr(){}Z(Yr,Kr),Yr.prototype.g=function(){return new XMLHttpRequest},Yr.prototype.i=function(){return{}},mn=new Yr;function gn(l,f,m,_){this.j=l,this.i=f,this.l=m,this.R=_||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yo}function Yo(){this.i=null,this.g="",this.h=!1}var Xs={},Mi={};function Fi(l,f,m){l.L=1,l.v=gr(Xt(f)),l.m=m,l.P=!0,Ys(l,null)}function Ys(l,f){l.F=Date.now(),ze(l),l.A=Xt(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),vr(m.i,"t",_),l.C=0,m=l.j.J,l.h=new Yo,l.g=ml(l.j,m?f:null,!l.m),0<l.O&&(l.M=new Hr(z(l.Y,l,l.g),l.O)),f=l.U,m=l.g,_=l.ca;var N="readystatechange";Array.isArray(N)||(N&&(js[0]=N.toString()),N=js);for(var U=0;U<N.length;U++){var W=Ms(m,N[U],_||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Wn(),Xr(l.i,l.u,l.A,l.l,l.R,l.m)}gn.prototype.ca=function(l){l=l.target;const f=this.M;f&&zt(l)==3?f.j():this.Y(l)},gn.prototype.Y=function(l){try{if(l==this.g)e:{const nt=zt(this.g);var f=this.g.Ba();const on=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||ro(this.g)))){this.J||nt!=4||f==7||(f==8||0>=on?Wn(3):Wn(2)),Jr(this);var m=this.g.Z();this.X=m;t:if(Jo(this)){var _=ro(this.g);l="";var N=_.length,U=zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),fr(this);var W="";break t}this.h.i=new g.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(U&&f==N-1)});_.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Li(this.i,this.u,this.A,this.l,this.R,nt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,lt=this.g;if((Oe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(Oe)){var Ie=Oe;break t}}Ie=null}if(m=Ie)pn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Js(this,m);else{this.o=!1,this.s=3,Je(12),rn(this),fr(this);break e}}if(this.P){m=!0;let Jt;for(;!this.J&&this.C<W.length;)if(Jt=Ha(this,W),Jt==Mi){nt==4&&(this.s=4,Je(14),m=!1),pn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Xs){this.s=4,Je(15),pn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else pn(this.i,this.l,Jt,null),Js(this,Jt);if(Jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||W.length!=0||this.h.h||(this.s=1,Je(16),m=!1),this.o=this.o&&m,!m)pn(this.i,this.l,W,"[Invalid Chunked Response]"),rn(this),fr(this);else if(0<W.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),so(dt),dt.M=!0,Je(11))}}else pn(this.i,this.l,W,null),Js(this,W);nt==4&&rn(this),this.o&&!this.J&&(nt==4?Wi(this.j,this):(this.o=!1,ze(this)))}else bi(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),rn(this),fr(this)}}}catch{}finally{}};function Jo(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ha(l,f){var m=l.C,_=f.indexOf(`
`,m);return _==-1?Mi:(m=Number(f.substring(m,_)),isNaN(m)?Xs:(_+=1,_+m>f.length?Mi:(f=f.slice(_,_+m),l.C=_+m,f)))}gn.prototype.cancel=function(){this.J=!0,rn(this)};function ze(l){l.S=Date.now()+l.I,Zo(l,l.I)}function Zo(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=dn(z(l.ba,l),f)}function Jr(l){l.B&&(g.clearTimeout(l.B),l.B=null)}gn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Gs(this.i,this.A),this.L!=2&&(Wn(),Je(17)),rn(this),this.s=2,fr(this)):Zo(this,this.S-l)};function fr(l){l.j.G==0||l.J||Wi(l.j,l)}function rn(l){Jr(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,$s(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Js(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Nt(m.h,l))){if(!l.K&&Nt(m.h,l)&&m.G==3){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var N=_;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Ki(m),wn(m);else break e;Qi(m),Je(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=dn(z(m.Za,m),6e3));if(1>=tl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zn(m,11)}else if((l.K||m.g==l)&&Ki(m),!ge(f))for(N=m.Da.g.parse(f),f=0;f<N.length;f++){let Ie=N[f];if(m.T=Ie[0],Ie=Ie[1],m.G==2)if(Ie[0]=="c"){m.K=Ie[1],m.ia=Ie[2];const dt=Ie[3];dt!=null&&(m.la=dt,m.j.info("VER="+m.la));const nt=Ie[4];nt!=null&&(m.Aa=nt,m.j.info("SVER="+m.Aa));const on=Ie[5];on!=null&&typeof on=="number"&&0<on&&(_=1.5*on,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Jt=l.g;if(Jt){const si=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var U=_.h;U.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Zs(U,U.h),U.h=null))}if(_.D){const Xi=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xi&&(_.ya=Xi,Fe(_.I,_.D,Xi))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var W=l;if(_.qa=pl(_,_.J?_.ia:null,_.W),W.K){nl(_.h,W);var Oe=W,lt=_.L;lt&&(Oe.I=lt),Oe.B&&(Jr(Oe),ze(Oe)),_.g=W}else ii(_);0<m.i.length&&Nn(m)}else Ie[0]!="stop"&&Ie[0]!="close"||Zn(m,7);else m.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Zn(m,7):_t(m):Ie[0]!="noop"&&m.l&&m.l.ta(Ie),m.v=0)}}Wn(4)}catch{}}var el=class{constructor(l,f){this.g=l,this.map=f}};function Zr(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function tl(l){return l.h?1:l.g?l.g.size:0}function Nt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Zs(l,f){l.g?l.g.add(f):l.h=f}function nl(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Zr.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function rl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return J(l.i)}function Ui(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(v(l)){for(var f=[],m=l.length,_=0;_<m;_++)f.push(l[_]);return f}f=[],m=0;for(_ in l)f[m++]=l[_];return f}function zi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(v(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const _ in l)f[m++]=_;return f}}}function dr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(v(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=zi(l),_=Ui(l),N=_.length,U=0;U<N;U++)f.call(void 0,_[U],m&&m[U],l)}var ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),N=null;if(0<=_){var U=l[m].substring(0,_);N=l[m].substring(_+1)}else U=l[m];f(U,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Gn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Gn){this.h=l.h,ti(this,l.j),this.o=l.o,this.g=l.g,pr(this,l.s),this.l=l.l;var f=l.i,m=new Dn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),mr(this,m),this.m=l.m}else l&&(f=String(l).match(ei))?(this.h=!1,ti(this,f[1]||"",!0),this.o=Te(f[2]||""),this.g=Te(f[3]||"",!0),pr(this,f[4]),this.l=Te(f[5]||"",!0),mr(this,f[6]||"",!0),this.m=Te(f[7]||"")):(this.h=!1,this.i=new Dn(null,this.h))}Gn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(yr(f,Bi,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(yr(f,Bi,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(yr(m,m.charAt(0)=="/"?ol:sl,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",yr(m,eo)),l.join("")};function Xt(l){return new Gn(l)}function ti(l,f,m){l.j=m?Te(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function pr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function mr(l,f,m){f instanceof Dn?(l.i=f,Vn(l.i,l.h)):(m||(f=yr(f,ll)),l.i=new Dn(f,l.h))}function Fe(l,f,m){l.i.set(f,m)}function gr(l){return Fe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Te(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function yr(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,il),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function il(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Bi=/[#\/\?@]/g,sl=/[#\?:]/g,ol=/[#\?]/g,ll=/[#\?@]/g,eo=/#/g;function Dn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function vt(l){l.g||(l.g=new Map,l.h=0,l.i&&Qa(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}s=Dn.prototype,s.add=function(l,f){vt(this),this.i=null,l=sn(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function yn(l,f){vt(l),f=sn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function vn(l,f){return vt(l),f=sn(l,f),l.g.has(f)}s.forEach=function(l,f){vt(this),this.g.forEach(function(m,_){m.forEach(function(N){l.call(f,N,_,this)},this)},this)},s.na=function(){vt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const N=l[_];for(let U=0;U<N.length;U++)m.push(f[_])}return m},s.V=function(l){vt(this);let f=[];if(typeof l=="string")vn(this,l)&&(f=f.concat(this.g.get(sn(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},s.set=function(l,f){return vt(this),this.i=null,l=sn(this,l),vn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},s.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function vr(l,f,m){yn(l,f),0<m.length&&(l.i=null,l.g.set(sn(l,f),J(m)),l.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const U=encodeURIComponent(String(_)),W=this.V(_);for(_=0;_<W.length;_++){var N=U;W[_]!==""&&(N+="="+encodeURIComponent(String(W[_]))),l.push(N)}}return this.i=l.join("&")};function sn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Vn(l,f){f&&!l.j&&(vt(l),l.i=null,l.g.forEach(function(m,_){var N=_.toLowerCase();_!=N&&(yn(this,_),vr(this,N,m))},l)),l.j=f}function Ka(l,f){const m=new Gr;if(g.Image){const _=new Image;_.onload=Q(Ut,m,"TestLoadImage: loaded",!0,f,_),_.onerror=Q(Ut,m,"TestLoadImage: error",!1,f,_),_.onabort=Q(Ut,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=Q(Ut,m,"TestLoadImage: timeout",!1,f,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}function al(l,f){const m=new Gr,_=new AbortController,N=setTimeout(()=>{_.abort(),Ut(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:_.signal}).then(U=>{clearTimeout(N),U.ok?Ut(m,"TestPingServer: ok",!0,f):Ut(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),Ut(m,"TestPingServer: error",!1,f)})}function Ut(l,f,m,_,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),_(m)}catch{}}function Wa(){this.g=new Hs}function ul(l,f,m){const _=m||"";try{dr(l,function(N,U){let W=N;E(N)&&(W=bs(N)),f.push(_+U+"="+encodeURIComponent(W))})}catch(N){throw f.push(_+"type="+encodeURIComponent("_badmap")),N}}function Xn(l){this.l=l.Ub||null,this.j=l.eb||!1}Z(Xn,Kr),Xn.prototype.g=function(){return new ni(this.l,this.j)},Xn.prototype.i=function(l){return function(){return l}}({});function ni(l,f){st.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(ni,st),s=ni.prototype,s.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,En(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_n(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?_n(this):En(this),this.readyState==3&&cl(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,_n(this))},s.Qa=function(l){this.g&&(this.response=l,_n(this))},s.ga=function(){this.g&&_n(this)};function _n(l){l.readyState=4,l.l=null,l.j=null,l.v=null,En(l)}s.setRequestHeader=function(l,f){this.u.append(l,f)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function En(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Yn(l){let f="";return ke(l,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function _r(l,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Yn(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Fe(l,f,m))}function be(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(be,st);var Ga=/^https?$/i,to=["POST","PUT"];s=be.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mn.g(),this.v=this.o?Di(this.o):Di(mn),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){ri(this,U);return}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var N in _)m.set(N,_[N]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const U of _.keys())m.set(U,_.get(U));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),N=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(to,f,void 0))||_||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,W]of m)this.g.setRequestHeader(U,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$i(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){ri(this,U)}};function ri(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ji(l),Yt(l)}function ji(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ot(this,"complete"),ot(this,"abort"),Yt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),be.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?no(this):this.bb())},s.bb=function(){no(this)};function no(l){if(l.h&&typeof p<"u"&&(!l.v[1]||zt(l)!=4||l.Z()!=2)){if(l.u&&zt(l)==4)Bs(l.Ea,0,l);else if(ot(l,"readystatechange"),zt(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=W===0){var N=String(l.D).match(ei)[1]||null;!N&&g.self&&g.self.location&&(N=g.self.location.protocol.slice(0,-1)),_=!Ga.test(N?N.toLowerCase():"")}m=_}if(m)ot(l,"complete"),ot(l,"success");else{l.m=6;try{var U=2<zt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",ji(l)}}finally{Yt(l)}}}}function Yt(l,f){if(l.g){$i(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ot(l,"ready");try{m.onreadystatechange=_}catch{}}}function $i(l){l.I&&(g.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function zt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),qs(f)}};function ro(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(l){const f={};l=(l.g&&2<=zt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(ge(l[_]))continue;var m=D(l[_]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[N]||[];f[N]=U,U.push(m)}k(f,function(_){return _.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xn(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function io(l){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xn("baseRetryDelayMs",5e3,l),this.cb=xn("retryDelaySeedMs",1e4,l),this.Wa=xn("forwardChannelMaxRetries",2,l),this.wa=xn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Zr(l&&l.concurrentRequestLimit),this.Da=new Wa,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=io.prototype,s.la=8,s.G=1,s.connect=function(l,f,m,_){Je(0),this.W=l,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=pl(this,null,this.W),Nn(this)};function _t(l){if(qi(l),l.G==3){var f=l.U++,m=Xt(l.I);if(Fe(m,"SID",l.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),Jn(l,m),f=new gn(l,l.j,f),f.L=2,f.v=gr(Xt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=ml(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}dl(l)}function wn(l){l.g&&(so(l),l.g.cancel(),l.g=null)}function qi(l){wn(l),l.u&&(g.clearTimeout(l.u),l.u=null),Ki(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Nn(l){if(!Gt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Me||ee(),G||(Me(),G=!0),le.add(f,l),l.B=0}}function Xa(l,f){return tl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=dn(z(l.Ga,l,f),fl(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const N=new gn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(N.H=U,U=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Er(this,N,f),m=Xt(this.I),Fe(m,"RID",l),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),Jn(this,m),U&&(this.O?f="headers="+encodeURIComponent(String(Yn(U)))+"&"+f:this.m&&_r(m,this.m,U)),Zs(this.h,N),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),N.T=!0,Fi(N,m,null)):Fi(N,m,f),this.G=2}}else this.G==3&&(l?Hi(this,l):this.i.length==0||Gt(this.h)||Hi(this))};function Hi(l,f){var m;f?m=f.l:m=l.U++;const _=Xt(l.I);Fe(_,"SID",l.K),Fe(_,"RID",m),Fe(_,"AID",l.T),Jn(l,_),l.m&&l.o&&_r(_,l.m,l.o),m=new gn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Er(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Zs(l.h,m),Fi(m,_,f)}function Jn(l,f){l.H&&ke(l.H,function(m,_){Fe(f,_,m)}),l.l&&dr({},function(m,_){Fe(f,_,m)})}function Er(l,f,m){m=Math.min(l.i.length,m);var _=l.l?z(l.l.Na,l.l,l):null;e:{var N=l.i;let U=-1;for(;;){const W=["count="+m];U==-1?0<m?(U=N[0].g,W.push("ofs="+U)):U=0:W.push("ofs="+U);let Oe=!0;for(let lt=0;lt<m;lt++){let Ie=N[lt].g;const dt=N[lt].map;if(Ie-=U,0>Ie)U=Math.max(0,N[lt].g-100),Oe=!1;else try{ul(dt,W,"req"+Ie+"_")}catch{_&&_(dt)}}if(Oe){_=W.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,_}function ii(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Me||ee(),G||(Me(),G=!0),le.add(f,l),l.v=0}}function Qi(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=dn(z(l.Fa,l),fl(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,hl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=dn(z(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),wn(this),hl(this))};function so(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function hl(l){l.g=new gn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Xt(l.qa);Fe(f,"RID","rpc"),Fe(f,"SID",l.K),Fe(f,"AID",l.T),Fe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Fe(f,"TO",l.ja),Fe(f,"TYPE","xmlhttp"),Jn(l,f),l.m&&l.o&&_r(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=gr(Xt(f)),m.m=null,m.P=!0,Ys(m,l)}s.Za=function(){this.C!=null&&(this.C=null,wn(this),Qi(this),Je(19))};function Ki(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function Wi(l,f){var m=null;if(l.g==f){Ki(l),so(l),l.g=null;var _=2}else if(Nt(l.h,f))m=f.D,nl(l.h,f),_=1;else return;if(l.G!=0){if(f.o)if(_==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var N=l.B;_=Wr(),ot(_,new Ni(_,m)),Nn(l)}else ii(l);else if(N=f.s,N==3||N==0&&0<f.X||!(_==1&&Xa(l,f)||_==2&&Qi(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),N){case 1:Zn(l,5);break;case 4:Zn(l,10);break;case 3:Zn(l,6);break;default:Zn(l,2)}}}function fl(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Zn(l,f){if(l.j.info("Error code "+f),f==2){var m=z(l.fb,l),_=l.Xa;const N=!_;_=new Gn(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ti(_,"https"),gr(_),N?Ka(_.toString(),m):al(_.toString(),m)}else Je(2);l.G=0,l.l&&l.l.sa(f),dl(l),qi(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function dl(l){if(l.G=0,l.ka=[],l.l){const f=rl(l.h);(f.length!=0||l.i.length!=0)&&(q(l.ka,f),q(l.ka,l.i),l.h.i.length=0,J(l.i),l.i.length=0),l.l.ra()}}function pl(l,f,m){var _=m instanceof Gn?Xt(m):new Gn(m);if(_.g!="")f&&(_.g=f+"."+_.g),pr(_,_.s);else{var N=g.location;_=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var U=new Gn(null);_&&ti(U,_),f&&(U.g=f),N&&pr(U,N),m&&(U.l=m),_=U}return m=l.D,f=l.ya,m&&f&&Fe(_,m,f),Fe(_,"VER",l.la),Jn(l,_),_}function ml(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new be(new Xn({eb:m})):new be(l.pa),f.Ha(l.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function oo(){}s=oo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Gi(){}Gi.prototype.g=function(l,f){return new Lt(l,f)};function Lt(l,f){st.call(this),this.g=new io(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!ge(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ge(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Ln(this)}Z(Lt,st),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){_t(this.g)},Lt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=bs(l),l=m);f.i.push(new el(f.Ya++,l)),f.G==3&&Nn(f)},Lt.prototype.N=function(){this.g.l=null,delete this.j,_t(this.g),delete this.g,Lt.aa.N.call(this)};function gl(l){Pn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}Z(gl,Pn);function yl(){xi.call(this),this.status=1}Z(yl,xi);function Ln(l){this.g=l}Z(Ln,oo),Ln.prototype.ua=function(){ot(this.g,"a")},Ln.prototype.ta=function(l){ot(this.g,new gl(l))},Ln.prototype.sa=function(l){ot(this.g,new yl)},Ln.prototype.ra=function(){ot(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Kp=function(){return new Gi},Qp=function(){return Wr()},Hp=kn,Mc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,ya=Oi,Xo.COMPLETE="complete",qp=Xo,Vi.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",st.prototype.listen=st.prototype.K,xo=Vi,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,bp=be}).apply(typeof ha<"u"?ha:typeof self<"u"?self:typeof window<"u"?window:{});const Kd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Mp("@firebase/firestore");function ys(){return Si.logLevel}function te(s,...t){if(Si.logLevel<=Ce.DEBUG){const r=t.map(th);Si.debug(`Firestore (${xs}): ${s}`,...r)}}function ur(s,...t){if(Si.logLevel<=Ce.ERROR){const r=t.map(th);Si.error(`Firestore (${xs}): ${s}`,...r)}}function As(s,...t){if(Si.logLevel<=Ce.WARN){const r=t.map(th);Si.warn(`Firestore (${xs}): ${s}`,...r)}}function th(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s="Unexpected state"){const t=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: `+s;throw ur(t),new Error(t)}function Ke(s,t){s||pe()}function Pe(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Vs{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Vt.UNAUTHENTICATED))}shutdown(){}}class Nv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Lv{constructor(t){this.t=t,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ke(this.o===void 0);let o=this.i;const a=v=>this.i!==o?(o=this.i,r(v)):Promise.resolve();let c=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wi,t.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const v=c;t.enqueueRetryable(async()=>{await v.promise,await a(this.currentUser)})},g=v=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wi)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ke(typeof o.accessToken=="string"),new Wp(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ke(t===null||typeof t=="string"),new Vt(t)}}class Ov{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Mv{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new Ov(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uv{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){Ke(this.o===void 0);const o=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ke(typeof r.token=="string"),this.R=r.token,new Fv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const a=zv(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<r&&(o+=t.charAt(a[c]%t.length))}return o}}function Re(s,t){return s<t?-1:s>t?1:0}function Cs(s,t,r){return s.length===t.length&&s.every((o,a)=>r(o,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new Wt(r,o)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Re(this.nanoseconds,t.nanoseconds):Re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(t){return new de(t)}static min(){return new de(new Wt(0,0))}static max(){return new de(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,r,o){r===void 0?r=0:r>t.length&&pe(),o===void 0?o=t.length-r:o>t.length-r&&pe(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return jo.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof jo?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let a=0;a<o;a++){const c=t.get(a),p=r.get(a);if(c<p)return-1;if(c>p)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Ge extends jo{construct(t,r,o){return new Ge(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new Ge(r)}static emptyPath(){return new Ge([])}}const jv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends jo{construct(t,r,o){return new Ft(t,r,o)}static isValidIdentifier(t){return jv.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(t){const r=[];let o="",a=0;const c=()=>{if(o.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=v,a+=2}else g==="`"?(p=!p,a++):g!=="."||p?(o+=g,a++):(c(),a++)}if(c(),p)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ft(r)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.path=t}static fromPath(t){return new he(Ge.fromString(t))}static fromName(t){return new he(Ge.fromString(t).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ge.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new he(new Ge(t.slice()))}}function $v(s,t){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,a=de.fromTimestamp(o===1e9?new Wt(r+1,0):new Wt(r,o));return new zr(a,he.empty(),t)}function bv(s){return new zr(s.readTime,s.key,-1)}class zr{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new zr(de.min(),he.empty(),-1)}static max(){return new zr(de.max(),he.empty(),-1)}}function qv(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=he.comparator(s.documentKey,t.documentKey),r!==0?r:Re(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Hv)throw s;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new j((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof j?r:j.resolve(r)}catch(r){return j.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):j.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):j.reject(r)}static resolve(t){return new j((r,o)=>{r(t)})}static reject(t){return new j((r,o)=>{o(t)})}static waitFor(t){return new j((r,o)=>{let a=0,c=0,p=!1;t.forEach(g=>{++a,g.next(()=>{++c,p&&c===a&&r()},v=>o(v))}),p=!0,c===a&&r()})}static or(t){let r=j.resolve(!1);for(const o of t)r=r.next(a=>a?j.resolve(a):o());return r}static forEach(t,r){const o=[];return t.forEach((a,c)=>{o.push(r.call(this,a,c))}),this.waitFor(o)}static mapArray(t,r){return new j((o,a)=>{const c=t.length,p=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;r(t[E]).next(A=>{p[E]=A,++g,g===c&&o(p)},A=>a(A))}})}static doWhile(t,r){return new j((o,a)=>{const c=()=>{t()===!0?r().next(()=>{c()},a):o()};c()})}}function Kv(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ns(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Na.oe=-1;function La(s){return s==null}function Fc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=Wd(t)),t=Gv(s.get(r),t);return Wd(t)}function Gv(s,t){let r=t;const o=s.length;for(let a=0;a<o;a++){const c=s.charAt(a);switch(c){case"\0":r+="";break;case"":r+="";break;default:r+=c}}return r}function Wd(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function Ho(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function Xv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,r){this.comparator=t,this.root=r||Tt.EMPTY}insert(t,r){return new tt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(t){return new tt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(t,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fa(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fa(this.root,t,this.comparator,!1)}getReverseIterator(){return new fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fa(this.root,t,this.comparator,!0)}}class fa{constructor(t,r,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tt{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??Tt.RED,this.left=a??Tt.EMPTY,this.right=c??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,a,c){return new Tt(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Tt.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const t=this.left.check();if(t!==this.right.check())throw pe();return t+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(t,r,o,a,c){return this}insert(t,r,o){return new Tt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.comparator=t,this.data=new tt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Xd(this.data.getIterator())}getIteratorFrom(t){return new Xd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof ht)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ht(this.comparator);return r.data=t,r}}class Xd{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.fields=t,t.sort(Ft.comparator)}static empty(){return new Or([])}unionWith(t){let r=new ht(Ft.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new Or(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Cs(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Gp("Invalid base64 string: "+c):c}}(t);return new St(r)}static fromUint8Array(t){const r=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(t);return new St(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}St.EMPTY_BYTE_STRING=new St("");const Yv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(s){if(Ke(!!s),typeof s=="string"){let t=0;const r=Yv.exec(s);if(Ke(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:et(s.seconds),nanos:et(s.nanos)}}function et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function jr(s){return typeof s=="string"?St.fromBase64String(s):St.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Oa(s){const t=s.mapValue.fields.__previous_value__;return nh(t)?Oa(t):t}function $o(s){const t=Br(s.mapValue.fields.__local_write_time__.timestampValue);return new Wt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t,r,o,a,c,p,g,v,E){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E}}class bo{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?nh(s)?4:e_(s)?9007199254740991:Zv(s)?10:11:pe()}function $n(s,t){if(s===t)return!0;const r=$r(s);if(r!==$r(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return $o(s).isEqual($o(t));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=Br(a.timestampValue),g=Br(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(a,c){return jr(a.bytesValue).isEqual(jr(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(a,c){return et(a.geoPointValue.latitude)===et(c.geoPointValue.latitude)&&et(a.geoPointValue.longitude)===et(c.geoPointValue.longitude)}(s,t);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return et(a.integerValue)===et(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=et(a.doubleValue),g=et(c.doubleValue);return p===g?Fc(p)===Fc(g):isNaN(p)&&isNaN(g)}return!1}(s,t);case 9:return Cs(s.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:case 11:return function(a,c){const p=a.mapValue.fields||{},g=c.mapValue.fields||{};if(Gd(p)!==Gd(g))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(g[v]===void 0||!$n(p[v],g[v])))return!1;return!0}(s,t);default:return pe()}}function qo(s,t){return(s.values||[]).find(r=>$n(r,t))!==void 0}function Rs(s,t){if(s===t)return 0;const r=$r(s),o=$r(t);if(r!==o)return Re(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Re(s.booleanValue,t.booleanValue);case 2:return function(c,p){const g=et(c.integerValue||c.doubleValue),v=et(p.integerValue||p.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,t);case 3:return Yd(s.timestampValue,t.timestampValue);case 4:return Yd($o(s),$o(t));case 5:return Re(s.stringValue,t.stringValue);case 6:return function(c,p){const g=jr(c),v=jr(p);return g.compareTo(v)}(s.bytesValue,t.bytesValue);case 7:return function(c,p){const g=c.split("/"),v=p.split("/");for(let E=0;E<g.length&&E<v.length;E++){const A=Re(g[E],v[E]);if(A!==0)return A}return Re(g.length,v.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,p){const g=Re(et(c.latitude),et(p.latitude));return g!==0?g:Re(et(c.longitude),et(p.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Jd(s.arrayValue,t.arrayValue);case 10:return function(c,p){var g,v,E,A;const M=c.fields||{},z=p.fields||{},Q=(g=M.value)===null||g===void 0?void 0:g.arrayValue,Z=(v=z.value)===null||v===void 0?void 0:v.arrayValue,J=Re(((E=Q==null?void 0:Q.values)===null||E===void 0?void 0:E.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:Jd(Q,Z)}(s.mapValue,t.mapValue);case 11:return function(c,p){if(c===da.mapValue&&p===da.mapValue)return 0;if(c===da.mapValue)return 1;if(p===da.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=p.fields||{},A=Object.keys(E);v.sort(),A.sort();for(let M=0;M<v.length&&M<A.length;++M){const z=Re(v[M],A[M]);if(z!==0)return z;const Q=Rs(g[v[M]],E[A[M]]);if(Q!==0)return Q}return Re(v.length,A.length)}(s.mapValue,t.mapValue);default:throw pe()}}function Yd(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Re(s,t);const r=Br(s),o=Br(t),a=Re(r.seconds,o.seconds);return a!==0?a:Re(r.nanos,o.nanos)}function Jd(s,t){const r=s.values||[],o=t.values||[];for(let a=0;a<r.length&&a<o.length;++a){const c=Rs(r[a],o[a]);if(c)return c}return Re(r.length,o.length)}function Ps(s){return Uc(s)}function Uc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=Br(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return jr(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return he.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",a=!0;for(const c of r.values||[])a?a=!1:o+=",",o+=Uc(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of o)c?c=!1:a+=",",a+=`${p}:${Uc(r.fields[p])}`;return a+"}"}(s.mapValue):pe()}function va(s){switch($r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oa(s);return t?16+va(t):16;case 5:return 2*s.stringValue.length;case 6:return jr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((a,c)=>a+va(c),0)}(s.arrayValue);case 10:case 11:return function(o){let a=0;return Ho(o.fields,(c,p)=>{a+=c.length+va(p)}),a}(s.mapValue);default:throw pe()}}function zc(s){return!!s&&"integerValue"in s}function rh(s){return!!s&&"arrayValue"in s}function Zd(s){return!!s&&"nullValue"in s}function ep(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ac(s){return!!s&&"mapValue"in s}function Zv(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Oo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Ho(s.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Oo(o)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Oo(s.arrayValue.values[r]);return t}return Object.assign({},s)}function e_(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!Ac(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oo(r)}setAll(t){let r=Ft.emptyPath(),o={},a=[];t.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,o,a),o={},a=[],r=g.popLast()}p?o[g.lastSegment()]=Oo(p):a.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,a)}delete(t){const r=this.field(t.popLast());Ac(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let a=r.mapValue.fields[t.get(o)];Ac(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,o){Ho(r,(a,c)=>t[a]=c);for(const a of o)delete t[a]}clone(){return new Bn(Oo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,r,o,a,c,p,g){this.key=t,this.documentType=r,this.version=o,this.readTime=a,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(t){return new xt(t,0,de.min(),de.min(),de.min(),Bn.empty(),0)}static newFoundDocument(t,r,o,a){return new xt(t,1,r,de.min(),o,a,0)}static newNoDocument(t,r){return new xt(t,2,r,de.min(),de.min(),Bn.empty(),0)}static newUnknownDocument(t,r){return new xt(t,3,r,de.min(),de.min(),Bn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,r){this.position=t,this.inclusive=r}}function tp(s,t,r){let o=0;for(let a=0;a<s.position.length;a++){const c=t[a],p=s.position[a];if(c.field.isKeyField()?o=he.comparator(he.fromName(p.referenceValue),r.key):o=Rs(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function np(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!$n(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,r="asc"){this.field=t,this.dir=r}}function t_(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{}class ct extends Xp{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new r_(t,r,o):r==="array-contains"?new o_(t,o):r==="in"?new l_(t,o):r==="not-in"?new a_(t,o):r==="array-contains-any"?new u_(t,o):new ct(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new i_(t,o):new s_(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Rs(r,this.value)):r!==null&&$r(this.value)===$r(r)&&this.matchesComparison(Rs(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends Xp{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new bn(t,r)}matches(t){return Yp(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yp(s){return s.op==="and"}function Jp(s){return n_(s)&&Yp(s)}function n_(s){for(const t of s.filters)if(t instanceof bn)return!1;return!0}function Bc(s){if(s instanceof ct)return s.field.canonicalString()+s.op.toString()+Ps(s.value);if(Jp(s))return s.filters.map(t=>Bc(t)).join(",");{const t=s.filters.map(r=>Bc(r)).join(",");return`${s.op}(${t})`}}function Zp(s,t){return s instanceof ct?function(o,a){return a instanceof ct&&o.op===a.op&&o.field.isEqual(a.field)&&$n(o.value,a.value)}(s,t):s instanceof bn?function(o,a){return a instanceof bn&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((c,p,g)=>c&&Zp(p,a.filters[g]),!0):!1}(s,t):void pe()}function em(s){return s instanceof ct?function(r){return`${r.field.canonicalString()} ${r.op} ${Ps(r.value)}`}(s):s instanceof bn?function(r){return r.op.toString()+" {"+r.getFilters().map(em).join(" ,")+"}"}(s):"Filter"}class r_ extends ct{constructor(t,r,o){super(t,r,o),this.key=he.fromName(o.referenceValue)}matches(t){const r=he.comparator(t.key,this.key);return this.matchesComparison(r)}}class i_ extends ct{constructor(t,r){super(t,"in",r),this.keys=tm("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class s_ extends ct{constructor(t,r){super(t,"not-in",r),this.keys=tm("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function tm(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>he.fromName(o.referenceValue))}class o_ extends ct{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return rh(r)&&qo(r.arrayValue,this.value)}}class l_ extends ct{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&qo(this.value.arrayValue,r)}}class a_ extends ct{constructor(t,r){super(t,"not-in",r)}matches(t){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!qo(this.value.arrayValue,r)}}class u_ extends ct{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!rh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>qo(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,r=null,o=[],a=[],c=null,p=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function rp(s,t=null,r=[],o=[],a=null,c=null,p=null){return new c_(s,t,r,o,a,c,p)}function ih(s){const t=Pe(s);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>Bc(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),La(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Ps(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Ps(o)).join(",")),t.ue=r}return t.ue}function sh(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!t_(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!Zp(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!np(s.startAt,t.startAt)&&np(s.endAt,t.endAt)}function jc(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,r=null,o=[],a=[],c=null,p="F",g=null,v=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function h_(s,t,r,o,a,c,p,g){return new Ma(s,t,r,o,a,c,p,g)}function nm(s){return new Ma(s)}function ip(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function f_(s){return s.collectionGroup!==null}function Mo(s){const t=Pe(s);if(t.ce===null){t.ce=[];const r=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new ht(Ft.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Ca(c,o))}),r.has(Ft.keyField().canonicalString())||t.ce.push(new Ca(Ft.keyField(),o))}return t.ce}function jn(s){const t=Pe(s);return t.le||(t.le=d_(t,Mo(s))),t.le}function d_(s,t){if(s.limitType==="F")return rp(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Ca(a.field,c)});const r=s.endAt?new Aa(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Aa(s.startAt.position,s.startAt.inclusive):null;return rp(s.path,s.collectionGroup,t,s.filters,s.limit,r,o)}}function $c(s,t,r){return new Ma(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function Fa(s,t){return sh(jn(s),jn(t))&&s.limitType===t.limitType}function rm(s){return`${ih(jn(s))}|lt:${s.limitType}`}function vs(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(a=>em(a)).join(", ")}]`),La(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(a=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(a)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(a=>Ps(a)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(a=>Ps(a)).join(",")),`Target(${o})`}(jn(s))}; limitType=${s.limitType})`}function Ua(s,t){return t.isFoundDocument()&&function(o,a){const c=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):he.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,t)&&function(o,a){for(const c of Mo(o))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(s,t)&&function(o,a){for(const c of o.filters)if(!c.matches(a))return!1;return!0}(s,t)&&function(o,a){return!(o.startAt&&!function(p,g,v){const E=tp(p,g,v);return p.inclusive?E<=0:E<0}(o.startAt,Mo(o),a)||o.endAt&&!function(p,g,v){const E=tp(p,g,v);return p.inclusive?E>=0:E>0}(o.endAt,Mo(o),a))}(s,t)}function p_(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function im(s){return(t,r)=>{let o=!1;for(const a of Mo(s)){const c=m_(a,t,r);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function m_(s,t,r){const o=s.field.isKeyField()?he.comparator(t.key,r.key):function(c,p,g){const v=p.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Rs(v,E):pe()}(s.field,t,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),a=this.inner[o];if(a===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return void(a[c]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ho(this.inner,(r,o)=>{for(const[a,c]of o)t(a,c)})}isEmpty(){return Xv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new tt(he.comparator);function br(){return g_}const sm=new tt(he.comparator);function No(...s){let t=sm;for(const r of s)t=t.insert(r.key,r);return t}function y_(s){let t=sm;return s.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function _i(){return Fo()}function om(){return Fo()}function Fo(){return new Ii(s=>s.toString(),(s,t)=>s.isEqual(t))}const v_=new ht(he.comparator);function Ve(...s){let t=v_;for(const r of s)t=t.add(r);return t}const __=new ht(Re);function E_(){return __}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function T_(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this._=void 0}}function S_(s,t,r){return s instanceof bc?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&nh(c)&&(c=Oa(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,t):s instanceof Ra?lm(s,t):s instanceof Pa?am(s,t):function(a,c){const p=A_(a,c),g=sp(p)+sp(a.Pe);return zc(p)&&zc(a.Pe)?T_(g):w_(a.serializer,g)}(s,t)}function I_(s,t,r){return s instanceof Ra?lm(s,t):s instanceof Pa?am(s,t):r}function A_(s,t){return s instanceof qc?function(o){return zc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(t)?t:{integerValue:0}:null}class bc extends za{}class Ra extends za{constructor(t){super(),this.elements=t}}function lm(s,t){const r=um(t);for(const o of s.elements)r.some(a=>$n(a,o))||r.push(o);return{arrayValue:{values:r}}}class Pa extends za{constructor(t){super(),this.elements=t}}function am(s,t){let r=um(t);for(const o of s.elements)r=r.filter(a=>!$n(a,o));return{arrayValue:{values:r}}}class qc extends za{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function sp(s){return et(s.integerValue||s.doubleValue)}function um(s){return rh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function C_(s,t){return s.field.isEqual(t.field)&&function(o,a){return o instanceof Ra&&a instanceof Ra||o instanceof Pa&&a instanceof Pa?Cs(o.elements,a.elements,$n):o instanceof qc&&a instanceof qc?$n(o.Pe,a.Pe):o instanceof bc&&a instanceof bc}(s.transform,t.transform)}class Ti{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _a(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class oh{}function cm(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new P_(s.key,Ti.none()):new lh(s.key,s.data,Ti.none());{const r=s.data,o=Bn.empty();let a=new ht(Ft.comparator);for(let c of t.fields)if(!a.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),a=a.add(c)}return new Ba(s.key,o,new Or(a.toArray()),Ti.none())}}function R_(s,t,r){s instanceof lh?function(a,c,p){const g=a.value.clone(),v=lp(a.fieldTransforms,c,p.transformResults);g.setAll(v),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,t,r):s instanceof Ba?function(a,c,p){if(!_a(a.precondition,c))return void c.convertToUnknownDocument(p.version);const g=lp(a.fieldTransforms,c,p.transformResults),v=c.data;v.setAll(hm(a)),v.setAll(g),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(s,t,r):function(a,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function Uo(s,t,r,o){return s instanceof lh?function(c,p,g,v){if(!_a(c.precondition,p))return g;const E=c.value.clone(),A=ap(c.fieldTransforms,v,p);return E.setAll(A),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(s,t,r,o):s instanceof Ba?function(c,p,g,v){if(!_a(c.precondition,p))return g;const E=ap(c.fieldTransforms,v,p),A=p.data;return A.setAll(hm(c)),A.setAll(E),p.convertToFoundDocument(p.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(M=>M.field))}(s,t,r,o):function(c,p,g){return _a(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,t,r)}function op(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&Cs(o,a,(c,p)=>C_(c,p))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class lh extends oh{constructor(t,r,o,a=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ba extends oh{constructor(t,r,o,a,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hm(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);t.set(r,o)}}),t}function lp(s,t,r){const o=new Map;Ke(s.length===r.length);for(let a=0;a<r.length;a++){const c=s[a],p=c.transform,g=t.data.field(c.field);o.set(c.field,I_(p,g,r[a]))}return o}function ap(s,t,r){const o=new Map;for(const a of s){const c=a.transform,p=r.data.field(a.field);o.set(a.field,S_(c,p,t))}return o}class P_ extends oh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t,r,o,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(t.key)&&R_(c,t,o[a])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Uo(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Uo(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=om();return this.mutations.forEach(a=>{const c=t.get(a.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(a.key)?null:g;const v=cm(p,g);v!==null&&o.set(a.key,v),p.isValidDocument()||p.convertToNoDocument(de.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ve())}isEqual(t){return this.batchId===t.batchId&&Cs(this.mutations,t.mutations,(r,o)=>op(r,o))&&Cs(this.baseMutations,t.baseMutations,(r,o)=>op(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ae;function fm(s){if(s===void 0)return ur("GRPC error has no .code"),X.UNKNOWN;switch(s){case it.OK:return X.OK;case it.CANCELLED:return X.CANCELLED;case it.UNKNOWN:return X.UNKNOWN;case it.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case it.INTERNAL:return X.INTERNAL;case it.UNAVAILABLE:return X.UNAVAILABLE;case it.UNAUTHENTICATED:return X.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case it.NOT_FOUND:return X.NOT_FOUND;case it.ALREADY_EXISTS:return X.ALREADY_EXISTS;case it.PERMISSION_DENIED:return X.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case it.ABORTED:return X.ABORTED;case it.OUT_OF_RANGE:return X.OUT_OF_RANGE;case it.UNIMPLEMENTED:return X.UNIMPLEMENTED;case it.DATA_LOSS:return X.DATA_LOSS;default:return pe()}}(Ae=it||(it={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Ei([4294967295,4294967295],0);function up(s){const t=x_().encode(s),r=new $p;return r.update(t),new Uint8Array(r.digest())}function cp(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),a=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ei([r,o],0),new Ei([a,c],0)]}class ah{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Lo(`Invalid padding: ${r}`);if(o<0)throw new Lo(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Lo(`Invalid hash count: ${o}`);if(t.length===0&&r!==0)throw new Lo(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*t.length-r,this.Ie=Ei.fromNumber(this.Te)}Ee(t,r,o){let a=t.add(r.multiply(Ei.fromNumber(o)));return a.compare(N_)===1&&(a=new Ei([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const r=up(t),[o,a]=cp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,a,c);if(!this.de(p))return!1}return!0}static create(t,r,o){const a=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),p=new ah(c,a,r);return o.forEach(g=>p.insert(g)),p}insert(t){if(this.Te===0)return;const r=up(t),[o,a]=cp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,a,c);this.Ae(p)}}Ae(t){const r=Math.floor(t/8),o=t%8;this.bitmap[r]|=1<<o}}class Lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,r,o,a,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const a=new Map;return a.set(t,Qo.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new ja(de.min(),a,new tt(Re),br(),Ve())}}class Qo{constructor(t,r,o,a,c){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new Qo(o,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,r,o,a){this.Re=t,this.removedTargetIds=r,this.key=o,this.Ve=a}}class dm{constructor(t,r){this.targetId=t,this.me=r}}class pm{constructor(t,r,o=St.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=a}}class hp{constructor(){this.fe=0,this.ge=fp(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ve(),r=Ve(),o=Ve();return this.ge.forEach((a,c)=>{switch(c){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:pe()}}),new Qo(this.pe,this.ye,t,r,o)}Ce(){this.we=!1,this.ge=fp()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class L_{constructor(t){this.Le=t,this.Be=new Map,this.ke=br(),this.qe=pa(),this.Qe=pa(),this.Ke=new tt(Re)}$e(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(r,t.Ve):this.We(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.We(r,t.key,t.Ve)}Ge(t){this.forEachTarget(t,r=>{const o=this.ze(r);switch(t.state){case 0:this.je(r)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.je(r)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.De(t.resumeToken));break;default:pe()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((o,a)=>{this.je(a)&&r(a)})}Je(t){const r=t.targetId,o=t.me.count,a=this.Ye(r);if(a){const c=a.target;if(jc(c))if(o===0){const p=new he(c.path);this.We(r,p,xt.newNoDocument(p,de.min()))}else Ke(o===1);else{const p=this.Ze(r);if(p!==o){const g=this.Xe(t),v=g?this.et(g,t,p):1;if(v!==0){this.He(r);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,E)}}}}}Xe(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:c=0}=r;let p,g;try{p=jr(o).toUint8Array()}catch(v){if(v instanceof Gp)return As("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new ah(p,a,c)}catch(v){return As(v instanceof Lo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Te===0?null:g}et(t,r,o){return r.me.count===o-this.rt(t,r.targetId)?0:2}rt(t,r){const o=this.Le.getRemoteKeysForTarget(r);let a=0;return o.forEach(c=>{const p=this.Le.nt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.We(r,c,null),a++)}),a}it(t){const r=new Map;this.Be.forEach((c,p)=>{const g=this.Ye(p);if(g){if(c.current&&jc(g.target)){const v=new he(g.target.path);this.st(v).has(p)||this.ot(p,v)||this.We(p,v,xt.newNoDocument(v,t))}c.be&&(r.set(p,c.ve()),c.Ce())}});let o=Ve();this.Qe.forEach((c,p)=>{let g=!0;p.forEachWhile(v=>{const E=this.Ye(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ke.forEach((c,p)=>p.setReadTime(t));const a=new ja(t,r,this.Ke,this.ke,o);return this.ke=br(),this.qe=pa(),this.Qe=pa(),this.Ke=new tt(Re),a}Ue(t,r){if(!this.je(t))return;const o=this.ot(t,r.key)?2:0;this.ze(t).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(t))}We(t,r,o){if(!this.je(t))return;const a=this.ze(t);this.ot(t,r)?a.Fe(r,1):a.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(t)),this.Qe=this.Qe.insert(r,this._t(r).add(t)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(t){this.Be.delete(t)}Ze(t){const r=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let r=this.Be.get(t);return r||(r=new hp,this.Be.set(t,r)),r}_t(t){let r=this.Qe.get(t);return r||(r=new ht(Re),this.Qe=this.Qe.insert(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new ht(Re),this.qe=this.qe.insert(t,r)),r}je(t){const r=this.Ye(t)!==null;return r||te("WatchChangeAggregator","Detected inactive target",t),r}Ye(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new hp),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.We(t,r,null)})}ot(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function pa(){return new tt(he.comparator)}function fp(){return new tt(he.comparator)}const O_={asc:"ASCENDING",desc:"DESCENDING"},M_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F_={and:"AND",or:"OR"};class U_{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Hc(s,t){return s.useProto3Json||La(t)?t:{value:t}}function z_(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function B_(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Ts(s){return Ke(!!s),de.fromTimestamp(function(r){const o=Br(r);return new Wt(o.seconds,o.nanos)}(s))}function j_(s,t){return Qc(s,t).canonicalString()}function Qc(s,t){const r=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(s).child("documents");return t===void 0?r:r.child(t)}function mm(s){const t=Ge.fromString(s);return Ke(Em(t)),t}function Cc(s,t){const r=mm(t);if(r.get(1)!==s.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new he(ym(r))}function gm(s,t){return j_(s.databaseId,t)}function $_(s){const t=mm(s);return t.length===4?Ge.emptyPath():ym(t)}function dp(s){return new Ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ym(s){return Ke(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function b_(s,t){let r;if("targetChange"in t){t.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:pe()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],c=function(E,A){return E.useProto3Json?(Ke(A===void 0||typeof A=="string"),St.fromBase64String(A||"")):(Ke(A===void 0||A instanceof Buffer||A instanceof Uint8Array),St.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),p=t.targetChange.cause,g=p&&function(E){const A=E.code===void 0?X.UNKNOWN:fm(E.code);return new ce(A,E.message||"")}(p);r=new pm(o,a,c,g||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const a=Cc(s,o.document.name),c=Ts(o.document.updateTime),p=o.document.createTime?Ts(o.document.createTime):de.min(),g=new Bn({mapValue:{fields:o.document.fields}}),v=xt.newFoundDocument(a,c,p,g),E=o.targetIds||[],A=o.removedTargetIds||[];r=new Ea(E,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const a=Cc(s,o.document),c=o.readTime?Ts(o.readTime):de.min(),p=xt.newNoDocument(a,c),g=o.removedTargetIds||[];r=new Ea([],g,p.key,p)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const a=Cc(s,o.document),c=o.removedTargetIds||[];r=new Ea([],c,a,null)}else{if(!("filter"in t))return pe();{t.filter;const o=t.filter;o.targetId;const{count:a=0,unchangedNames:c}=o,p=new V_(a,c),g=o.targetId;r=new dm(g,p)}}return r}function q_(s,t){return{documents:[gm(s,t.path)]}}function H_(s,t){const r={structuredQuery:{}},o=t.path;let a;t.collectionGroup!==null?(a=o,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=gm(s,a);const c=function(E){if(E.length!==0)return _m(bn.create(E,"and"))}(t.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(A=>function(z){return{field:_s(z.field),direction:W_(z.dir)}}(A))}(t.orderBy);p&&(r.structuredQuery.orderBy=p);const g=Hc(s,t.limit);return g!==null&&(r.structuredQuery.limit=g),t.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{ct:r,parent:a}}function Q_(s){let t=$_(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Ke(o===1);const A=r.from[0];A.allDescendants?a=A.collectionId:t=t.child(A.collectionId)}let c=[];r.where&&(c=function(M){const z=vm(M);return z instanceof bn&&Jp(z)?z.getFilters():[z]}(r.where));let p=[];r.orderBy&&(p=function(M){return M.map(z=>function(Z){return new Ca(Es(Z.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(z))}(r.orderBy));let g=null;r.limit&&(g=function(M){let z;return z=typeof M=="object"?M.value:M,La(z)?null:z}(r.limit));let v=null;r.startAt&&(v=function(M){const z=!!M.before,Q=M.values||[];return new Aa(Q,z)}(r.startAt));let E=null;return r.endAt&&(E=function(M){const z=!M.before,Q=M.values||[];return new Aa(Q,z)}(r.endAt)),h_(t,a,p,c,g,"F",v,E)}function K_(s,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function vm(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Es(r.unaryFilter.field);return ct.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=Es(r.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Es(r.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Es(r.unaryFilter.field);return ct.create(p,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(s):s.fieldFilter!==void 0?function(r){return ct.create(Es(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return bn.create(r.compositeFilter.filters.map(o=>vm(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pe()}}(r.compositeFilter.op))}(s):pe()}function W_(s){return O_[s]}function G_(s){return M_[s]}function X_(s){return F_[s]}function _s(s){return{fieldPath:s.canonicalString()}}function Es(s){return Ft.fromServerFormat(s.fieldPath)}function _m(s){return s instanceof ct?function(r){if(r.op==="=="){if(ep(r.value))return{unaryFilter:{field:_s(r.field),op:"IS_NAN"}};if(Zd(r.value))return{unaryFilter:{field:_s(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ep(r.value))return{unaryFilter:{field:_s(r.field),op:"IS_NOT_NAN"}};if(Zd(r.value))return{unaryFilter:{field:_s(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(r.field),op:G_(r.op),value:r.value}}}(s):s instanceof bn?function(r){const o=r.getFilters().map(a=>_m(a));return o.length===1?o[0]:{compositeFilter:{op:X_(r.op),filters:o}}}(s):pe()}function Em(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,r,o,a,c=de.min(),p=de.min(),g=St.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Mr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(t){this.ht=t}}function J_(s){const t=Q_({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$c(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.ln=new e0}addToCollectionParentIndex(t,r){return this.ln.add(r),j.resolve()}getCollectionParents(t,r){return j.resolve(this.ln.getEntries(r))}addFieldIndex(t,r){return j.resolve()}deleteFieldIndex(t,r){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,r){return j.resolve()}getDocumentsMatchingTarget(t,r){return j.resolve(null)}getIndexType(t,r){return j.resolve(0)}getFieldIndexes(t,r){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,r){return j.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,r){return j.resolve(zr.min())}updateCollectionGroup(t,r,o){return j.resolve()}updateIndexEntries(t,r){return j.resolve()}}class e0{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r]||new ht(Ge.comparator),c=!a.has(o);return this.index[r]=a.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(t){return(this.index[t]||new ht(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qt{static withCacheSize(t){return new Qt(t,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new ks(0)}static Qn(){return new ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp([s,t],[r,o]){const a=Re(s,r);return a===0?Re(t,o):a}class t0{constructor(t){this.Gn=t,this.buffer=new ht(mp),this.zn=0}jn(){return++this.zn}Hn(t){const r=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();mp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class n0{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){te("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ns(r)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await xa(r)}await this.Yn(3e5)})}}class r0{constructor(t,r){this.Zn=t,this.params=r}calculateTargetCount(t,r){return this.Zn.Xn(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(r===0)return j.resolve(Na.oe);const o=new t0(r);return this.Zn.forEachTarget(t,a=>o.Hn(a.sequenceNumber)).next(()=>this.Zn.er(t,a=>o.Hn(a))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.Zn.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Zn.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(pp)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pp):this.tr(t,r))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,r){let o,a,c,p,g,v,E;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,p=Date.now(),this.nthSequenceNumber(t,a))).next(M=>(o=M,g=Date.now(),this.removeTargets(t,o,r))).next(M=>(c=M,v=Date.now(),this.removeOrphanedDocuments(t,o))).next(M=>(E=Date.now(),ys()<=Ce.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-A}ms
	Determined least recently used ${a} in `+(g-p)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${M} documents in `+(E-v)+`ms
Total Duration: ${E-A}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:M})))}}function i0(s,t){return new r0(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.changes=new Ii(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,xt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?j.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,r,o,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(o!==null&&Uo(o.mutation,a,Or.empty(),Wt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,Ve()).next(()=>o))}getLocalViewOfDocuments(t,r,o=Ve()){const a=_i();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,o).next(c=>{let p=No();return c.forEach((g,v)=>{p=p.insert(g,v.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const o=_i();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,Ve()))}populateOverlays(t,r,o){const a=[];return o.forEach(c=>{r.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(t,a).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(t,r,o,a){let c=br();const p=Fo(),g=function(){return Fo()}();return r.forEach((v,E)=>{const A=o.get(E.key);a.has(E.key)&&(A===void 0||A.mutation instanceof Ba)?c=c.insert(E.key,E):A!==void 0?(p.set(E.key,A.mutation.getFieldMask()),Uo(A.mutation,E,A.mutation.getFieldMask(),Wt.now())):p.set(E.key,Or.empty())}),this.recalculateAndSaveOverlays(t,c).next(v=>(v.forEach((E,A)=>p.set(E,A)),r.forEach((E,A)=>{var M;return g.set(E,new o0(A,(M=p.get(E))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(t,r){const o=Fo();let a=new tt((p,g)=>p-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const g of p)g.keys().forEach(v=>{const E=r.get(v);if(E===null)return;let A=o.get(v)||Or.empty();A=g.applyToLocalView(E,A),o.set(v,A);const M=(a.get(g.batchId)||Ve()).add(v);a=a.insert(g.batchId,M)})}).next(()=>{const p=[],g=a.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,A=v.value,M=om();A.forEach(z=>{if(!c.has(z)){const Q=cm(r.get(z),o.get(z));Q!==null&&M.set(z,Q),c=c.add(z)}}),p.push(this.documentOverlayCache.saveOverlays(t,E,M))}return j.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,a){return function(p){return he.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):f_(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,a):this.getDocumentsMatchingCollectionQuery(t,r,o,a)}getNextDocuments(t,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,a-c.size):j.resolve(_i());let g=-1,v=c;return p.next(E=>j.forEach(E,(A,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),c.get(A)?j.resolve():this.remoteDocumentCache.getEntry(t,A).next(z=>{v=v.insert(A,z)}))).next(()=>this.populateOverlays(t,E,c)).next(()=>this.computeViews(t,v,E,Ve())).next(A=>({batchId:g,changes:y_(A)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new he(r)).next(o=>{let a=No();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,o,a){const c=r.collectionGroup;let p=No();return this.indexManager.getCollectionParents(t,c).next(g=>j.forEach(g,v=>{const E=function(M,z){return new Ma(z,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(r,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,E,o,a).next(A=>{A.forEach((M,z)=>{p=p.insert(M,z)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,r,o,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,a))).next(p=>{c.forEach((v,E)=>{const A=E.getKey();p.get(A)===null&&(p=p.insert(A,xt.newInvalidDocument(A)))});let g=No();return p.forEach((v,E)=>{const A=c.get(v);A!==void 0&&Uo(A.mutation,E,Or.empty(),Wt.now()),Ua(r,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,r){return j.resolve(this.Tr.get(r))}saveBundleMetadata(t,r){return this.Tr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Ts(a.createTime)}}(r)),j.resolve()}getNamedQuery(t,r){return j.resolve(this.Ir.get(r))}saveNamedQuery(t,r){return this.Ir.set(r.name,function(a){return{name:a.name,query:J_(a.bundledQuery),readTime:Ts(a.readTime)}}(r)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.overlays=new tt(he.comparator),this.Er=new Map}getOverlay(t,r){return j.resolve(this.overlays.get(r))}getOverlays(t,r){const o=_i();return j.forEach(r,a=>this.getOverlay(t,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((a,c)=>{this.Tt(t,r,c)}),j.resolve()}removeOverlaysForBatchId(t,r,o){const a=this.Er.get(o);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(o)),j.resolve()}getOverlaysForCollection(t,r,o){const a=_i(),c=r.length+1,p=new he(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>o&&a.set(v.getKey(),v)}return j.resolve(a)}getOverlaysForCollectionGroup(t,r,o,a){let c=new tt((E,A)=>E-A);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let A=c.get(E.largestBatchId);A===null&&(A=_i(),c=c.insert(E.largestBatchId,A)),A.set(E.getKey(),E)}}const g=_i(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,A)=>g.set(E,A)),!(g.size()>=a)););return j.resolve(g)}Tt(t,r,o){const a=this.overlays.get(o.key);if(a!==null){const p=this.Er.get(a.largestBatchId).delete(o.key);this.Er.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new D_(r,o));let c=this.Er.get(r);c===void 0&&(c=Ve(),this.Er.set(r,c)),this.Er.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.dr=new ht(yt.Ar),this.Rr=new ht(yt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,r){const o=new yt(t,r);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.gr(new yt(t,r))}pr(t,r){t.forEach(o=>this.removeReference(o,r))}yr(t){const r=new he(new Ge([])),o=new yt(r,t),a=new yt(r,t+1),c=[];return this.Rr.forEachInRange([o,a],p=>{this.gr(p),c.push(p.key)}),c}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const r=new he(new Ge([])),o=new yt(r,t),a=new yt(r,t+1);let c=Ve();return this.Rr.forEachInRange([o,a],p=>{c=c.add(p.key)}),c}containsKey(t){const r=new yt(t,0),o=this.dr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class yt{constructor(t,r){this.key=t,this.br=r}static Ar(t,r){return he.comparator(t.key,r.key)||Re(t.br,r.br)}static Vr(t,r){return Re(t.br,r.br)||he.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new ht(yt.Ar)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new k_(c,r,o,a);this.mutationQueue.push(p);for(const g of a)this.vr=this.vr.add(new yt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return j.resolve(p)}lookupMutationBatch(t,r){return j.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,a=this.Fr(o),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new yt(r,0),a=new yt(r,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([o,a],p=>{const g=this.Cr(p.br);c.push(g)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new ht(Re);return r.forEach(a=>{const c=new yt(a,0),p=new yt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,p],g=>{o=o.add(g.br)})}),j.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,a=o.length+1;let c=o;he.isDocumentKey(c)||(c=c.child(""));const p=new yt(new he(c),0);let g=new ht(Re);return this.vr.forEachWhile(v=>{const E=v.key.path;return!!o.isPrefixOf(E)&&(E.length===a&&(g=g.add(v.br)),!0)},p),j.resolve(this.Mr(g))}Mr(t){const r=[];return t.forEach(o=>{const a=this.Cr(o);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Ke(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return j.forEach(r.mutations,a=>{const c=new yt(a.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.vr=o})}Ln(t){}containsKey(t,r){const o=new yt(r,0),a=this.vr.firstAfterOrEqual(o);return j.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Or(t,r){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const r=this.Fr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t){this.Nr=t,this.docs=function(){return new tt(he.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,a=this.docs.get(o),c=a?a.size:0,p=this.Nr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return j.resolve(o?o.document.mutableCopy():xt.newInvalidDocument(r))}getEntries(t,r){let o=br();return r.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():xt.newInvalidDocument(a))}),j.resolve(o)}getDocumentsMatchingQuery(t,r,o,a){let c=br();const p=r.path,g=new he(p.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:A}}=v.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||qv(bv(A),o)<=0||(a.has(A.key)||Ua(r,A))&&(c=c.insert(A.key,A.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(t,r,o,a){pe()}Lr(t,r){return j.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new d0(this)}getSize(t){return j.resolve(this.size)}}class d0 extends s0{constructor(t){super(),this.hr=t}applyChanges(t){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.hr.addEntry(t,a)):this.hr.removeEntry(o)}),j.waitFor(r)}getFromCache(t,r){return this.hr.getEntry(t,r)}getAllFromCache(t,r){return this.hr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t){this.persistence=t,this.Br=new Ii(r=>ih(r),sh),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.kr=0,this.qr=new uh,this.targetCount=0,this.Qr=ks.qn()}forEachTarget(t,r){return this.Br.forEach((o,a)=>r(a)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.kr&&(this.kr=r),j.resolve()}Un(t){this.Br.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Qr=new ks(r),this.highestTargetId=r),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,r){return this.Un(r),this.targetCount+=1,j.resolve()}updateTargetData(t,r){return this.Un(r),j.resolve()}removeTargetData(t,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,r,o){let a=0;const c=[];return this.Br.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Br.delete(p),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,r){const o=this.Br.get(r)||null;return j.resolve(o)}addMatchingKeys(t,r,o){return this.qr.mr(r,o),j.resolve()}removeMatchingKeys(t,r,o){this.qr.pr(r,o);const a=this.persistence.referenceDelegate,c=[];return a&&r.forEach(p=>{c.push(a.markPotentiallyOrphaned(t,p))}),j.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.qr.yr(r),j.resolve()}getMatchingKeysForTargetId(t,r){const o=this.qr.Sr(r);return j.resolve(o)}containsKey(t,r){return j.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,r){this.Kr={},this.overlays={},this.$r=new Na(0),this.Ur=!1,this.Ur=!0,this.Wr=new c0,this.referenceDelegate=t(this),this.Gr=new p0(this),this.indexManager=new Z_,this.remoteDocumentCache=function(a){return new f0(a)}(o=>this.referenceDelegate.zr(o)),this.serializer=new Y_(r),this.jr=new a0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new u0,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.Kr[t.toKey()];return o||(o=new h0(r,this.referenceDelegate),this.Kr[t.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,r,o){te("MemoryPersistence","Starting transaction:",t);const a=new m0(this.$r.next());return this.referenceDelegate.Hr(),o(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(t,r){return j.or(Object.values(this.Kr).map(o=>()=>o.containsKey(t,r)))}}class m0 extends Qv{constructor(t){super(),this.currentSequenceNumber=t}}class ch{constructor(t){this.persistence=t,this.Zr=new uh,this.Xr=null}static ei(t){return new ch(t)}get ti(){if(this.Xr)return this.Xr;throw pe()}addReference(t,r,o){return this.Zr.addReference(o,r),this.ti.delete(o.toString()),j.resolve()}removeReference(t,r,o){return this.Zr.removeReference(o,r),this.ti.add(o.toString()),j.resolve()}markPotentiallyOrphaned(t,r){return this.ti.add(r.toString()),j.resolve()}removeTarget(t,r){this.Zr.yr(r.targetId).forEach(a=>this.ti.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}Hr(){this.Xr=new Set}Jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,o=>{const a=he.fromPath(o);return this.ni(t,a).next(c=>{c||r.removeEntry(a,de.min())})}).next(()=>(this.Xr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ni(t,r).next(o=>{o?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(t){return 0}ni(t,r){return j.or([()=>j.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Yr(t,r)])}}class ka{constructor(t,r){this.persistence=t,this.ri=new Ii(o=>Wv(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=i0(this,r)}static ei(t,r){return new ka(t,r)}Hr(){}Jr(t){return j.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}Xn(t){const r=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(o=>r.next(a=>o+a))}nr(t){let r=0;return this.er(t,o=>{r++}).next(()=>r)}er(t,r){return j.forEach(this.ri,(o,a)=>this.ir(t,o,a).next(c=>c?j.resolve():r(a)))}removeTargets(t,r,o){return this.persistence.getTargetCache().removeTargets(t,r,o)}removeOrphanedDocuments(t,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(t,p=>this.ir(t,p,r).next(g=>{g||(o++,c.removeEntry(p,de.min()))})).next(()=>c.apply(t)).next(()=>o)}markPotentiallyOrphaned(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}removeReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}zr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=va(t.data.value)),r}ir(t,r,o){return j.or([()=>this.persistence.Yr(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.ri.get(r);return j.resolve(a!==void 0&&a>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,r,o,a){this.targetId=t,this.fromCache=r,this.Wi=o,this.Gi=a}static zi(t,r){let o=Ve(),a=Ve();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new hh(t,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return dy()?8:Kv(hy())>0?6:4}()}initialize(t,r){this.Zi=t,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(t,r,o,a){const c={result:null};return this.Xi(t,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.es(t,r,a,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new g0;return this.ts(t,r,p).next(g=>{if(c.result=g,this.Hi)return this.ns(t,r,p,g.size)})}).next(()=>c.result)}ns(t,r,o,a){return o.documentReadCount<this.Ji?(ys()<=Ce.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",vs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(ys()<=Ce.DEBUG&&te("QueryEngine","Query:",vs(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.Yi*a?(ys()<=Ce.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",vs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jn(r))):j.resolve())}Xi(t,r){if(ip(r))return j.resolve(null);let o=jn(r);return this.indexManager.getIndexType(t,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=$c(r,null,"F"),o=jn(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const p=Ve(...c);return this.Zi.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,o).next(v=>{const E=this.rs(r,g);return this.ss(r,E,p,v.readTime)?this.Xi(t,$c(r,null,"F")):this.os(t,E,r,v)}))})))}es(t,r,o,a){return ip(r)||a.isEqual(de.min())?j.resolve(null):this.Zi.getDocuments(t,o).next(c=>{const p=this.rs(r,c);return this.ss(r,p,o,a)?j.resolve(null):(ys()<=Ce.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vs(r)),this.os(t,p,r,$v(a,-1)).next(g=>g))})}rs(t,r){let o=new ht(im(t));return r.forEach((a,c)=>{Ua(t,c)&&(o=o.add(c))}),o}ss(t,r,o,a){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(t,r,o){return ys()<=Ce.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",vs(r)),this.Zi.getDocumentsMatchingQuery(t,r,zr.min(),o)}os(t,r,o,a){return this.Zi.getDocumentsMatchingQuery(t,o,a).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,r,o,a){this.persistence=t,this._s=r,this.serializer=a,this.us=new tt(Re),this.cs=new Ii(c=>ih(c),sh),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(o)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new l0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.us))}}function _0(s,t,r,o){return new v0(s,t,r,o)}async function Tm(s,t){const r=Pe(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(c=>(a=c,r.Ps(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let v=Ve();for(const E of a){p.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}for(const E of c){g.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}return r.localDocuments.getDocuments(o,v).next(E=>({Ts:E,removedBatchIds:p,addedBatchIds:g}))})})}function Sm(s){const t=Pe(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Gr.getLastRemoteSnapshotVersion(r))}function E0(s,t){const r=Pe(s),o=t.snapshotVersion;let a=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.hs.newChangeBuffer({trackRemovals:!0});a=r.us;const g=[];t.targetChanges.forEach((A,M)=>{const z=a.get(M);if(!z)return;g.push(r.Gr.removeMatchingKeys(c,A.removedDocuments,M).next(()=>r.Gr.addMatchingKeys(c,A.addedDocuments,M)));let Q=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(M)!==null?Q=Q.withResumeToken(St.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,o)),a=a.insert(M,Q),function(J,q,me){return J.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0}(z,Q,A)&&g.push(r.Gr.updateTargetData(c,Q))});let v=br(),E=Ve();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(w0(c,p,t.documentUpdates).next(A=>{v=A.Is,E=A.Es})),!o.isEqual(de.min())){const A=r.Gr.getLastRemoteSnapshotVersion(c).next(M=>r.Gr.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(A)}return j.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(r.us=a,c))}function w0(s,t,r){let o=Ve(),a=Ve();return r.forEach(c=>o=o.add(c)),t.getEntries(s,o).next(c=>{let p=br();return r.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(g)),v.isNoDocument()&&v.version.isEqual(de.min())?(t.removeEntry(g,v.readTime),p=p.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(v),p=p.insert(g,v)):te("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{Is:p,Es:a}})}function T0(s,t){const r=Pe(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.Gr.getTargetData(o,t).next(c=>c?(a=c,j.resolve(a)):r.Gr.allocateTargetId(o).next(p=>(a=new Mr(t,p,"TargetPurposeListen",o.currentSequenceNumber),r.Gr.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.us.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.us=r.us.insert(o.targetId,o),r.cs.set(t,o.targetId)),o})}async function Kc(s,t,r){const o=Pe(s),a=o.us.get(t),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,a))}catch(p){if(!Ns(p))throw p;te("LocalStore",`Failed to update sequence numbers for target ${t}: ${p}`)}o.us=o.us.remove(t),o.cs.delete(a.target)}function gp(s,t,r){const o=Pe(s);let a=de.min(),c=Ve();return o.persistence.runTransaction("Execute query","readwrite",p=>function(v,E,A){const M=Pe(v),z=M.cs.get(A);return z!==void 0?j.resolve(M.us.get(z)):M.Gr.getTargetData(E,A)}(o,p,jn(t)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(p,g.targetId).next(v=>{c=v})}).next(()=>o._s.getDocumentsMatchingQuery(p,t,r?a:de.min(),r?c:Ve())).next(g=>(S0(o,p_(t),g),{documents:g,ds:c})))}function S0(s,t,r){let o=s.ls.get(t)||de.min();r.forEach((a,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.ls.set(t,o)}class yp{constructor(){this.activeTargetIds=E_()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class I0{constructor(){this._o=new yp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,r,o){this.ao[t]=r}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new yp,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma=null;function Rc(){return ma===null?ma=function(){return 268435456+Math.round(2147483648*Math.random())}():ma++,"0x"+ma.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class P0 extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+r.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(r,o,a,c,p){const g=Rc(),v=this.No(r,o.toUriEncodedString());te("RestConnection",`Sending RPC '${r}' ${g}:`,v,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,p),this.Bo(r,v,E,a).then(A=>(te("RestConnection",`Received RPC '${r}' ${g}: `,A),A),A=>{throw As("RestConnection",`RPC '${r}' ${g} failed with error: `,A,"url: ",v,"request:",a),A})}ko(r,o,a,c,p,g){return this.Oo(r,o,a,c,p)}Lo(r,o,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),a&&a.headers.forEach((c,p)=>r[p]=c)}No(r,o){const a=C0[r];return`${this.Fo}/v1/${o}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,r,o,a){const c=Rc();return new Promise((p,g)=>{const v=new bp;v.setWithCredentials(!0),v.listenOnce(qp.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ya.NO_ERROR:const A=v.getResponseJson();te(Dt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),p(A);break;case ya.TIMEOUT:te(Dt,`RPC '${t}' ${c} timed out`),g(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case ya.HTTP_ERROR:const M=v.getStatus();if(te(Dt,`RPC '${t}' ${c} failed with status:`,M,"response text:",v.getResponseText()),M>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const Q=z==null?void 0:z.error;if(Q&&Q.status&&Q.message){const Z=function(q){const me=q.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(me)>=0?me:X.UNKNOWN}(Q.status);g(new ce(Z,Q.message))}else g(new ce(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ce(X.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{te(Dt,`RPC '${t}' ${c} completed.`)}});const E=JSON.stringify(a);te(Dt,`RPC '${t}' ${c} sending request:`,a),v.send(r,"POST",E,o,15)})}qo(t,r,o){const a=Rc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=Kp(),g=Qp(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Lo(v.initMessageHeaders,r,o),v.encodeInitMessageHeaders=!0;const A=c.join("");te(Dt,`Creating RPC '${t}' stream ${a}: ${A}`,v);const M=p.createWebChannel(A,v);let z=!1,Q=!1;const Z=new R0({Eo:q=>{Q?te(Dt,`Not sending because RPC '${t}' stream ${a} is closed:`,q):(z||(te(Dt,`Opening RPC '${t}' stream ${a} transport.`),M.open(),z=!0),te(Dt,`RPC '${t}' stream ${a} sending:`,q),M.send(q))},Ao:()=>M.close()}),J=(q,me,ge)=>{q.listen(me,_e=>{try{ge(_e)}catch(ye){setTimeout(()=>{throw ye},0)}})};return J(M,xo.EventType.OPEN,()=>{Q||(te(Dt,`RPC '${t}' stream ${a} transport opened.`),Z.So())}),J(M,xo.EventType.CLOSE,()=>{Q||(Q=!0,te(Dt,`RPC '${t}' stream ${a} transport closed`),Z.Do())}),J(M,xo.EventType.ERROR,q=>{Q||(Q=!0,As(Dt,`RPC '${t}' stream ${a} transport errored:`,q),Z.Do(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),J(M,xo.EventType.MESSAGE,q=>{var me;if(!Q){const ge=q.data[0];Ke(!!ge);const _e=ge,ye=(_e==null?void 0:_e.error)||((me=_e[0])===null||me===void 0?void 0:me.error);if(ye){te(Dt,`RPC '${t}' stream ${a} received error:`,ye);const Xe=ye.status;let ke=function(I){const P=it[I];if(P!==void 0)return fm(P)}(Xe),k=ye.message;ke===void 0&&(ke=X.INTERNAL,k="Unknown error status: "+Xe+" with message "+ye.message),Q=!0,Z.Do(new ce(ke,k)),M.close()}else te(Dt,`RPC '${t}' stream ${a} received:`,ge),Z.vo(ge)}}),J(g,Hp.STAT_EVENT,q=>{q.stat===Mc.PROXY?te(Dt,`RPC '${t}' stream ${a} detected buffering proxy`):q.stat===Mc.NOPROXY&&te(Dt,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Z.bo()},0),Z}}function Pc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s){return new U_(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,r,o=1e3,a=1.5,c=6e4){this.li=t,this.timerId=r,this.Qo=o,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const r=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),a=Math.max(0,r-o);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,r,o,a,c,p,g,v){this.li=t,this.Yo=o,this.Zo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Am(t,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(ur(r.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(r)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Xo===r&&this.I_(o,a)},o=>{t(()=>{const a=new ce(X.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(a)})})}I_(t,r){const o=this.T_(this.Xo);this.stream=this.d_(t,r),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{o(()=>this.E_(a))}),this.stream.onMessage(a=>{o(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return te("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return r=>{this.li.enqueueAndForget(()=>this.Xo===t?r():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D0 extends k0{constructor(t,r,o,a,c,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,p),this.serializer=c}d_(t,r){return this.connection.qo("Listen",t,r)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const r=b_(this.serializer,t),o=function(c){if(!("targetChange"in c))return de.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?de.min():p.readTime?Ts(p.readTime):de.min()}(t);return this.listener.R_(r,o)}V_(t){const r={};r.database=dp(this.serializer),r.addTarget=function(c,p){let g;const v=p.target;if(g=jc(v)?{documents:q_(c,v)}:{query:H_(c,v).ct},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=B_(c,p.resumeToken);const E=Hc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(de.min())>0){g.readTime=z_(c,p.snapshotVersion.toTimestamp());const E=Hc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,t);const o=K_(this.serializer,t);o&&(r.labels=o),this.c_(r)}m_(t){const r={};r.database=dp(this.serializer),r.removeTarget=t,this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends class{}{constructor(t,r,o,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Oo(t,Qc(r,o),a,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(X.UNKNOWN,c.toString())})}ko(t,r,o,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.ko(t,Qc(r,o),a,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ce(X.UNKNOWN,p.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class x0{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ur(r),this.C_=!1):te("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,r,o,a,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(p=>{o.enqueueAndForget(async()=>{Wo(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(v){const E=Pe(v);E.k_.add(4),await Ko(E),E.K_.set("Unknown"),E.k_.delete(4),await $a(E)}(this))})}),this.K_=new x0(o,a)}}async function $a(s){if(Wo(s))for(const t of s.q_)await t(!0)}async function Ko(s){for(const t of s.q_)await t(!1)}function Cm(s,t){const r=Pe(s);r.B_.has(t.targetId)||(r.B_.set(t.targetId,t),mh(r)?ph(r):Ls(r).s_()&&dh(r,t))}function fh(s,t){const r=Pe(s),o=Ls(r);r.B_.delete(t),o.s_()&&Rm(r,t),r.B_.size===0&&(o.s_()?o.a_():Wo(r)&&r.K_.set("Unknown"))}function dh(s,t){if(s.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(de.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ls(s).V_(t)}function Rm(s,t){s.U_.xe(t),Ls(s).m_(t)}function ph(s){s.U_=new L_({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>s.B_.get(t)||null,nt:()=>s.datastore.serializer.databaseId}),Ls(s).start(),s.K_.F_()}function mh(s){return Wo(s)&&!Ls(s).i_()&&s.B_.size>0}function Wo(s){return Pe(s).k_.size===0}function Pm(s){s.U_=void 0}async function L0(s){s.K_.set("Online")}async function O0(s){s.B_.forEach((t,r)=>{dh(s,t)})}async function M0(s,t){Pm(s),mh(s)?(s.K_.O_(t),ph(s)):s.K_.set("Unknown")}async function F0(s,t,r){if(s.K_.set("Online"),t instanceof pm&&t.state===2&&t.cause)try{await async function(a,c){const p=c.cause;for(const g of c.targetIds)a.B_.has(g)&&(await a.remoteSyncer.rejectListen(g,p),a.B_.delete(g),a.U_.removeTarget(g))}(s,t)}catch(o){te("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await _p(s,o)}else if(t instanceof Ea?s.U_.$e(t):t instanceof dm?s.U_.Je(t):s.U_.Ge(t),!r.isEqual(de.min()))try{const o=await Sm(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.U_.it(p);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.B_.get(E);A&&c.B_.set(E,A.withResumeToken(v.resumeToken,p))}}),g.targetMismatches.forEach((v,E)=>{const A=c.B_.get(v);if(!A)return;c.B_.set(v,A.withResumeToken(St.EMPTY_BYTE_STRING,A.snapshotVersion)),Rm(c,v);const M=new Mr(A.target,v,E,A.sequenceNumber);dh(c,M)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){te("RemoteStore","Failed to raise snapshot:",o),await _p(s,o)}}async function _p(s,t,r){if(!Ns(t))throw t;s.k_.add(1),await Ko(s),s.K_.set("Offline"),r||(r=()=>Sm(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await r(),s.k_.delete(1),await $a(s)})}async function Ep(s,t){const r=Pe(s);r.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const o=Wo(r);r.k_.add(3),await Ko(r),o&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.k_.delete(3),await $a(r)}async function U0(s,t){const r=Pe(s);t?(r.k_.delete(2),await $a(r)):t||(r.k_.add(2),await Ko(r),r.K_.set("Unknown"))}function Ls(s){return s.W_||(s.W_=function(r,o,a){const c=Pe(r);return c.b_(),new D0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(s.datastore,s.asyncQueue,{Ro:L0.bind(null,s),mo:O0.bind(null,s),po:M0.bind(null,s),R_:F0.bind(null,s)}),s.q_.push(async t=>{t?(s.W_.__(),mh(s)?ph(s):s.K_.set("Unknown")):(await s.W_.stop(),Pm(s))})),s.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,r,o,a,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,a,c){const p=Date.now()+o,g=new gh(t,r,p,a,c);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(s,t){if(ur("AsyncQueue",`${t}: ${s}`),Ns(s))return new ce(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(t){return new Ss(t.comparator)}constructor(t){this.comparator=t?(r,o)=>t(r,o)||he.comparator(r.key,o.key):(r,o)=>he.comparator(r.key,o.key),this.keyedMap=No(),this.sortedSet=new tt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ss)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const o=new Ss;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.z_=new tt(he.comparator)}track(t){const r=t.doc.key,o=this.z_.get(r);o?t.type!==0&&o.type===3?this.z_=this.z_.insert(r,t):t.type===3&&o.type!==1?this.z_=this.z_.insert(r,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.z_=this.z_.insert(r,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.z_=this.z_.remove(r):t.type===1&&o.type===2?this.z_=this.z_.insert(r,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):pe():this.z_=this.z_.insert(r,t)}j_(){const t=[];return this.z_.inorderTraversal((r,o)=>{t.push(o)}),t}}class Ds{constructor(t,r,o,a,c,p,g,v,E){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(t,r,o,a,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Ds(t,r,Ss.emptySet(r),p,o,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class B0{constructor(){this.queries=Tp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,o){const a=Pe(r),c=a.queries;a.queries=Tp(),c.forEach((p,g)=>{for(const v of g.J_)v.onError(o)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function Tp(){return new Ii(s=>rm(s),Fa)}async function j0(s,t){const r=Pe(s);let o=3;const a=t.query;let c=r.queries.get(a);c?!c.Y_()&&t.Z_()&&(o=2):(c=new z0,o=t.Z_()?0:1);try{switch(o){case 0:c.H_=await r.onListen(a,!0);break;case 1:c.H_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(p){const g=km(p,`Initialization of query '${vs(t.query)}' failed`);return void t.onError(g)}r.queries.set(a,c),c.J_.push(t),t.ea(r.onlineState),c.H_&&t.ta(c.H_)&&yh(r)}async function $0(s,t){const r=Pe(s),o=t.query;let a=3;const c=r.queries.get(o);if(c){const p=c.J_.indexOf(t);p>=0&&(c.J_.splice(p,1),c.J_.length===0?a=t.Z_()?0:1:!c.Y_()&&t.Z_()&&(a=2))}switch(a){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function b0(s,t){const r=Pe(s);let o=!1;for(const a of t){const c=a.query,p=r.queries.get(c);if(p){for(const g of p.J_)g.ta(a)&&(o=!0);p.H_=a}}o&&yh(r)}function q0(s,t,r){const o=Pe(s),a=o.queries.get(t);if(a)for(const c of a.J_)c.onError(r);o.queries.delete(t)}function yh(s){s.X_.forEach(t=>{t.next()})}var Wc,Sp;(Sp=Wc||(Wc={})).na="default",Sp.Cache="cache";class H0{constructor(t,r,o){this.query=t,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(t){if(!this.options.includeMetadataChanges){const o=[];for(const a of t.docChanges)a.type!==3&&o.push(a);t=new Ds(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ia?this.oa(t)&&(this.ra.next(t),r=!0):this._a(t,this.onlineState)&&(this.aa(t),r=!0),this.sa=t,r}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),r=!0),r}_a(t,r){if(!t.fromCache||!this.Z_())return!0;const o=r!=="Offline";return(!this.options.ua||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(t){t=Ds.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Wc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t){this.key=t}}class Vm{constructor(t){this.key=t}}class Q0{constructor(t,r){this.query=t,this.da=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=im(t),this.ma=new Ss(this.Va)}get fa(){return this.da}ga(t,r){const o=r?r.pa:new wp,a=r?r.ma:this.ma;let c=r?r.mutatedKeys:this.mutatedKeys,p=a,g=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((A,M)=>{const z=a.get(A),Q=Ua(this.query,M)?M:null,Z=!!z&&this.mutatedKeys.has(z.key),J=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let q=!1;z&&Q?z.data.isEqual(Q.data)?Z!==J&&(o.track({type:3,doc:Q}),q=!0):this.ya(z,Q)||(o.track({type:2,doc:Q}),q=!0,(v&&this.Va(Q,v)>0||E&&this.Va(Q,E)<0)&&(g=!0)):!z&&Q?(o.track({type:0,doc:Q}),q=!0):z&&!Q&&(o.track({type:1,doc:z}),q=!0,(v||E)&&(g=!0)),q&&(Q?(p=p.add(Q),c=J?c.add(A):c.delete(A)):(p=p.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const A=this.query.limitType==="F"?p.last():p.first();p=p.delete(A.key),c=c.delete(A.key),o.track({type:1,doc:A})}return{ma:p,pa:o,ss:g,mutatedKeys:c}}ya(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o,a){const c=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const p=t.pa.j_();p.sort((A,M)=>function(Q,Z){const J=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return J(Q)-J(Z)}(A.type,M.type)||this.Va(A.doc,M.doc)),this.wa(o),a=a!=null&&a;const g=r&&!a?this.Sa():[],v=this.Ra.size===0&&this.current&&!a?1:0,E=v!==this.Aa;return this.Aa=v,p.length!==0||E?{snapshot:new Ds(this.query,t.ma,c,p,t.mutatedKeys,v===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new wp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(r=>this.da=this.da.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.da=this.da.delete(r)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Ve(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const r=[];return t.forEach(o=>{this.Ra.has(o)||r.push(new Vm(o))}),this.Ra.forEach(o=>{t.has(o)||r.push(new Dm(o))}),r}va(t){this.da=t.ds,this.Ra=Ve();const r=this.ga(t.documents);return this.applyChanges(r,!0)}Ca(){return Ds.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class K0{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class W0{constructor(t){this.key=t,this.Fa=!1}}class G0{constructor(t,r,o,a,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ma={},this.xa=new Ii(g=>rm(g),Fa),this.Oa=new Map,this.Na=new Set,this.La=new tt(he.comparator),this.Ba=new Map,this.ka=new uh,this.qa={},this.Qa=new Map,this.Ka=ks.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function X0(s,t,r=!0){const o=Mm(s);let a;const c=o.xa.get(t);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await xm(o,t,r,!0),a}async function Y0(s,t){const r=Mm(s);await xm(r,t,!0,!1)}async function xm(s,t,r,o){const a=await T0(s.localStore,jn(t)),c=a.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await J0(s,t,c,p==="current",a.resumeToken)),s.isPrimaryClient&&r&&Cm(s.remoteStore,a),g}async function J0(s,t,r,o,a){s.Ua=(M,z,Q)=>async function(J,q,me,ge){let _e=q.view.ga(me);_e.ss&&(_e=await gp(J.localStore,q.query,!1).then(({documents:k})=>q.view.ga(k,_e)));const ye=ge&&ge.targetChanges.get(q.targetId),Xe=ge&&ge.targetMismatches.get(q.targetId)!=null,ke=q.view.applyChanges(_e,J.isPrimaryClient,ye,Xe);return Ap(J,q.targetId,ke.ba),ke.snapshot}(s,M,z,Q);const c=await gp(s.localStore,t,!0),p=new Q0(t,c.ds),g=p.ga(c.documents),v=Qo.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",a),E=p.applyChanges(g,s.isPrimaryClient,v);Ap(s,r,E.ba);const A=new K0(t,r,p);return s.xa.set(t,A),s.Oa.has(r)?s.Oa.get(r).push(t):s.Oa.set(r,[t]),E.snapshot}async function Z0(s,t,r){const o=Pe(s),a=o.xa.get(t),c=o.Oa.get(a.targetId);if(c.length>1)return o.Oa.set(a.targetId,c.filter(p=>!Fa(p,t))),void o.xa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await Kc(o.localStore,a.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(a.targetId),r&&fh(o.remoteStore,a.targetId),Gc(o,a.targetId)}).catch(xa)):(Gc(o,a.targetId),await Kc(o.localStore,a.targetId,!0))}async function eE(s,t){const r=Pe(s),o=r.xa.get(t),a=r.Oa.get(o.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),fh(r.remoteStore,o.targetId))}async function Nm(s,t){const r=Pe(s);try{const o=await E0(r.localStore,t);t.targetChanges.forEach((a,c)=>{const p=r.Ba.get(c);p&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Fa=!0:a.modifiedDocuments.size>0?Ke(p.Fa):a.removedDocuments.size>0&&(Ke(p.Fa),p.Fa=!1))}),await Om(r,o,t)}catch(o){await xa(o)}}function Ip(s,t,r){const o=Pe(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.xa.forEach((c,p)=>{const g=p.view.ea(t);g.snapshot&&a.push(g.snapshot)}),function(p,g){const v=Pe(p);v.onlineState=g;let E=!1;v.queries.forEach((A,M)=>{for(const z of M.J_)z.ea(g)&&(E=!0)}),E&&yh(v)}(o.eventManager,t),a.length&&o.Ma.R_(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function tE(s,t,r){const o=Pe(s);o.sharedClientState.updateQueryState(t,"rejected",r);const a=o.Ba.get(t),c=a&&a.key;if(c){let p=new tt(he.comparator);p=p.insert(c,xt.newNoDocument(c,de.min()));const g=Ve().add(c),v=new ja(de.min(),new Map,new tt(Re),p,g);await Nm(o,v),o.La=o.La.remove(c),o.Ba.delete(t),vh(o)}else await Kc(o.localStore,t,!1).then(()=>Gc(o,t,r)).catch(xa)}function Gc(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const o of s.Oa.get(t))s.xa.delete(o),r&&s.Ma.Wa(o,r);s.Oa.delete(t),s.isPrimaryClient&&s.ka.yr(t).forEach(o=>{s.ka.containsKey(o)||Lm(s,o)})}function Lm(s,t){s.Na.delete(t.path.canonicalString());const r=s.La.get(t);r!==null&&(fh(s.remoteStore,r),s.La=s.La.remove(t),s.Ba.delete(r),vh(s))}function Ap(s,t,r){for(const o of r)o instanceof Dm?(s.ka.addReference(o.key,t),nE(s,o)):o instanceof Vm?(te("SyncEngine","Document no longer in limbo: "+o.key),s.ka.removeReference(o.key,t),s.ka.containsKey(o.key)||Lm(s,o.key)):pe()}function nE(s,t){const r=t.key,o=r.path.canonicalString();s.La.get(r)||s.Na.has(o)||(te("SyncEngine","New document in limbo: "+r),s.Na.add(o),vh(s))}function vh(s){for(;s.Na.size>0&&s.La.size<s.maxConcurrentLimboResolutions;){const t=s.Na.values().next().value;s.Na.delete(t);const r=new he(Ge.fromString(t)),o=s.Ka.next();s.Ba.set(o,new W0(r)),s.La=s.La.insert(r,o),Cm(s.remoteStore,new Mr(jn(nm(r.path)),o,"TargetPurposeLimboResolution",Na.oe))}}async function Om(s,t,r){const o=Pe(s),a=[],c=[],p=[];o.xa.isEmpty()||(o.xa.forEach((g,v)=>{p.push(o.Ua(v,t,r).then(E=>{var A;if((E||r)&&o.isPrimaryClient){const M=E?!E.fromCache:(A=r==null?void 0:r.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;o.sharedClientState.updateQueryState(v.targetId,M?"current":"not-current")}if(E){a.push(E);const M=hh.zi(v.targetId,E);c.push(M)}}))}),await Promise.all(p),o.Ma.R_(a),await async function(v,E){const A=Pe(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>j.forEach(E,z=>j.forEach(z.Wi,Q=>A.persistence.referenceDelegate.addReference(M,z.targetId,Q)).next(()=>j.forEach(z.Gi,Q=>A.persistence.referenceDelegate.removeReference(M,z.targetId,Q)))))}catch(M){if(!Ns(M))throw M;te("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const z=M.targetId;if(!M.fromCache){const Q=A.us.get(z),Z=Q.snapshotVersion,J=Q.withLastLimboFreeSnapshotVersion(Z);A.us=A.us.insert(z,J)}}}(o.localStore,c))}async function rE(s,t){const r=Pe(s);if(!r.currentUser.isEqual(t)){te("SyncEngine","User change. New user:",t.toKey());const o=await Tm(r.localStore,t);r.currentUser=t,function(c,p){c.Qa.forEach(g=>{g.forEach(v=>{v.reject(new ce(X.CANCELLED,p))})}),c.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await Om(r,o.Ts)}}function iE(s,t){const r=Pe(s),o=r.Ba.get(t);if(o&&o.Fa)return Ve().add(o.key);{let a=Ve();const c=r.Oa.get(t);if(!c)return a;for(const p of c){const g=r.xa.get(p);a=a.unionWith(g.view.fa)}return a}}function Mm(s){const t=Pe(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tE.bind(null,t),t.Ma.R_=b0.bind(null,t.eventManager),t.Ma.Wa=q0.bind(null,t.eventManager),t}class Da{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Im(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return _0(this.persistence,new y0,t.initialUser,this.serializer)}ja(t){return new wm(ch.ei,this.serializer)}za(t){return new I0}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Da.provider={build:()=>new Da};class sE extends Da{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,r){Ke(this.persistence.referenceDelegate instanceof ka);const o=this.persistence.referenceDelegate.garbageCollector;return new n0(o,t.asyncQueue,r)}ja(t){const r=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new wm(o=>ka.ei(o,r),this.serializer)}}class Xc{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Ip(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=rE.bind(null,this.syncEngine),await U0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new B0}()}createDatastore(t){const r=Im(t.databaseInfo.databaseId),o=function(c){return new P0(c)}(t.databaseInfo);return function(c,p,g,v){return new V0(c,p,g,v)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,a,c,p,g){return new N0(o,a,c,p,g)}(this.localStore,this.datastore,t.asyncQueue,r=>Ip(this.syncEngine,r,0),function(){return vp.p()?new vp:new A0}())}createSyncEngine(t,r){return function(a,c,p,g,v,E,A){const M=new G0(a,c,p,g,v,E);return A&&(M.$a=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const c=Pe(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await Ko(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Xc.provider={build:()=>new Xc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,r,o,a,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Vt.UNAUTHENTICATED,this.clientId=Bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{te("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(te("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=km(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function kc(s,t){s.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async a=>{o.isEqual(a)||(await Tm(t.localStore,a),o=a)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Cp(s,t){s.asyncQueue.verifyOperationInProgress();const r=await aE(s);te("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(o=>Ep(t.remoteStore,o)),s.setAppCheckTokenChangeListener((o,a)=>Ep(t.remoteStore,a)),s._onlineComponents=t}async function aE(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await kc(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;As("Error using user provided cache. Falling back to memory cache: "+r),await kc(s,new Da)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await kc(s,new sE(void 0));return s._offlineComponents}async function uE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Cp(s,s._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Cp(s,new Xc))),s._onlineComponents}async function cE(s){const t=await uE(s),r=t.eventManager;return r.onListen=X0.bind(null,t.syncEngine),r.onUnlisten=Z0.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Y0.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=eE.bind(null,t.syncEngine),r}function hE(s,t,r={}){const o=new wi;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,v,E){const A=new oE({next:z=>{A.eu(),p.enqueueAndForget(()=>$0(c,M)),z.fromCache&&v.source==="server"?E.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(z)},error:z=>E.reject(z)}),M=new H0(g,A,{includeMetadataChanges:!0,ua:!0});return j0(c,M)}(await cE(s),s.asyncQueue,t,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map;function fE(s,t,r,o){if(t===!0&&o===!0)throw new ce(X.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Pp(s){if(he.isDocumentKey(s))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dE(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pe()}function Yc(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dE(s);throw new ce(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fm((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,r,o,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kp(t),t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new xv;switch(o.type){case"firstParty":return new Mv(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Rp.get(r);o&&(te("ComponentProvider","Removing Datastore"),Rp.delete(r),o.terminate())}(this),Promise.resolve()}}function pE(s,t,r,o={}){var a;const c=(s=Yc(s,_h))._getSettings(),p=`${t}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,v;if(typeof o.mockUserToken=="string")g=o.mockUserToken,v=Vt.MOCK_USER;else{g=cy(o.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Vt(E)}s._authCredentials=new Nv(new Wp(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new ba(this.firestore,t,this._query)}}class Os{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Os(this.firestore,t,this._key)}}class Is extends ba{constructor(t,r,o){super(t,r,nm(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Os(this.firestore,null,new he(t))}withConverter(t){return new Is(this.firestore,t,this._path)}}function mE(s,t,...r){if(s=_y(s),s instanceof _h){const o=Ge.fromString(t,...r);return Pp(o),new Is(s,null,o)}{if(!(s instanceof Os||s instanceof Is))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ge.fromString(t,...r));return Pp(o),new Is(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Am(this,"async_queue_retry"),this.fu=()=>{const o=Pc();o&&te("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=t;const r=Pc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const r=Pc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new wi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Ns(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const r=this.gu.then(()=>(this.Ru=!0,t().catch(o=>{this.Au=o,this.Ru=!1;const a=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw ur("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Ru=!1,o))));return this.gu=r,r}enqueueAfterDelay(t,r,o){this.pu(),this.mu.indexOf(t)>-1&&(r=0);const a=gh.createAndSchedule(this,t,r,o,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&pe()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const r of this.du)if(r.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const r=this.du.indexOf(t);this.du.splice(r,1)}}class Um extends _h{constructor(t,r,o,a){super(t,r,o,a),this.type="firestore",this._queue=new Dp,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dp(t),this._firestoreClient=void 0,await t}}}function gE(s,t){const r=typeof s=="object"?s:Ev(),o=typeof s=="string"?s:"(default)",a=gv(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=ay("firestore");c&&pE(a,...c)}return a}function yE(s){if(s._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||vE(s),s._firestoreClient}function vE(s){var t,r,o;const a=s._freezeSettings(),c=function(g,v,E,A){return new Jv(g,v,E,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Fm(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new lE(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Va(St.fromBase64String(t))}catch(r){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Va(St.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Re(this._lat,t._lat)||Re(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0}(this._values,t._values)}}const wE=new RegExp("[~\\*/\\[\\]]");function TE(s,t,r){if(t.search(wE)>=0)throw Vp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new zm(...t.split("."))._internalPath}catch{throw Vp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Vp(s,t,r,o,a){let c=`Function ${t}() called with invalid data`;c+=". ";let p="";return new ce(X.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,r,o,a,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Os(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(jm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class SE extends Bm{data(){return super.data()}}function jm(s,t){return typeof t=="string"?TE(s,t):t instanceof zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AE{convertValue(t,r="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw pe()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return Ho(t,(a,c)=>{o[a]=this.convertValue(c,r)}),o}convertVectorValue(t){var r,o,a;const c=(a=(o=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||a===void 0?void 0:a.map(p=>et(p.doubleValue));return new EE(c)}convertGeoPoint(t){return new _E(et(t.latitude),et(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=Oa(t);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp($o(t));default:return null}}convertTimestamp(t){const r=Br(t);return new Wt(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=Ge.fromString(t);Ke(Em(o));const a=new bo(o.get(1),o.get(3)),c=new he(o.popFirst(5));return a.isEqual(r)||ur(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class CE extends Bm{constructor(t,r,o,a,c,p){super(t,r,o,a,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(jm("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class wa extends CE{data(t={}){return super.data(t)}}class RE{constructor(t,r,o,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new ga(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new wa(this._firestore,this._userDataWriter,o.key,o,new ga(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(g=>{const v=new wa(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ga(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new wa(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ga(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,A=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),A=p.indexOf(g.doc.key)),{type:PE(g.type),doc:v,oldIndex:E,newIndex:A}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function PE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class kE extends AE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Va(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Os(this.firestore,null,r)}}function DE(s){s=Yc(s,ba);const t=Yc(s.firestore,Um),r=yE(t),o=new kE(t);return IE(s._query),hE(r,s._query).then(a=>new RE(t,o,s,a))}(function(t,r=!0){(function(a){xs=a})(_v),Ia(new zo("firestore",(o,{instanceIdentifier:a,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Um(new Lv(o.getProvider("auth-internal")),new Uv(o.getProvider("app-check-internal")),function(E,A){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(E.options.projectId,A)}(p,a),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ws(Kd,"4.7.5",t),ws(Kd,"4.7.5","esm2017")})();const VE={apiKey:"AIzaSyDQy-dO_jnRBJ4zXaW3eFmbvPUGxJWq7f0",authDomain:"yasminmonth2025.firebaseapp.com",projectId:"yasminmonth2025",storageBucket:"yasminmonth2025.firebasestorage.app",messagingSenderId:"641160622036",appId:"1:641160622036:web:9e773420b01b033c9b3041",measurementId:"G-N6LQRK25H7"},xE=zp(VE),NE=gE(xE);function LE(){const[s,t]=zn.useState(0),[r,o]=zn.useState([]),[a,c]=zn.useState([]),[p,g]=zn.useState({next:!1,back:!1}),v=zn.useRef(null),E=zn.useRef(null);zn.useEffect(()=>{A()},[]),zn.useEffect(()=>{r.length>0&&a.length>0&&(M(),z())},[r,a]),zn.useEffect(()=>{z(),Q()},[s]);const A=async()=>{const q=[],me=[];(await DE(mE(NE,"test-collection"))).forEach(_e=>{const ye=_e.data();q.push({id:_e.id,date:ye.date.toDate().toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"short",year:"numeric"}),message:ye.message}),me.push(ye.date.toDate())}),o(q),c(me)},M=()=>{let q=0;for(;q<a.length&&a[q]<=new Date;)q++;q=Math.max(0,q-1),t(q)},z=()=>{const q=new Date,me=s>=r.length-1||a[s]>=q,ge=s<=0;g({next:me,back:ge})},Q=()=>{var me,ge;const q=new Date;if(a[s]>=q){v.current&&(v.current.textContent="You have to wait for tomorrow"),E.current&&(E.current.textContent="Till Next Time");return}v.current&&(v.current.textContent=((me=r[s])==null?void 0:me.message)||""),E.current&&(E.current.textContent=((ge=r[s])==null?void 0:ge.date)||"")},Z=()=>{s<r.length-1&&t(s+1)},J=()=>{s>0&&t(s-1)};return Kt.jsxs("div",{children:[Kt.jsxs("div",{className:"message-box",children:[Kt.jsx("h3",{id:"date",ref:E}),Kt.jsx("p",{id:"statementArea",ref:v})]}),Kt.jsxs("div",{className:"holdButtons",children:[Kt.jsx("button",{id:"backButton",onClick:J,disabled:p.back,className:p.back?"button-disabled":"button-enabled",children:"Past Day"}),Kt.jsx("button",{id:"nextButton",onClick:Z,disabled:p.next,className:p.next?"button-disabled":"button-enabled",children:"Next Day"})]})]})}function OE(){return Kt.jsx(Kt.Fragment,{children:Kt.jsxs("div",{className:"hold-all",children:[Kt.jsx("h1",{children:"Yasmin Month 2025"}),Kt.jsx(LE,{})]})})}Jg.createRoot(document.getElementById("root")).render(Kt.jsx(zn.StrictMode,{children:Kt.jsx(OE,{})}));
//# sourceMappingURL=index-Dg5X7bld.js.map
