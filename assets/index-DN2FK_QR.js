(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var Tc={exports:{}},xo={},Sc={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function ey(){if(Ld)return ye;Ld=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.iterator;function z(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,Z={};function K(V,B,oe){this.props=V,this.context=B,this.refs=Z,this.updater=oe||H}K.prototype.isReactComponent={},K.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function xe(){}xe.prototype=K.prototype;function Re(V,B,oe){this.props=V,this.context=B,this.refs=Z,this.updater=oe||H}var ve=Re.prototype=new xe;ve.constructor=Re,te(ve,K.prototype),ve.isPureReactComponent=!0;var _e=Array.isArray,Xe=Object.prototype.hasOwnProperty,Pe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(V,B,oe){var me,ge={},we=null,Ne=null;if(B!=null)for(me in B.ref!==void 0&&(Ne=B.ref),B.key!==void 0&&(we=""+B.key),B)Xe.call(B,me)&&!k.hasOwnProperty(me)&&(ge[me]=B[me]);var Le=arguments.length-2;if(Le===1)ge.children=oe;else if(1<Le){for(var Ue=Array(Le),ft=0;ft<Le;ft++)Ue[ft]=arguments[ft+2];ge.children=Ue}if(V&&V.defaultProps)for(me in Le=V.defaultProps,Le)ge[me]===void 0&&(ge[me]=Le[me]);return{$$typeof:s,type:V,key:we,ref:Ne,props:ge,_owner:Pe.current}}function I(V,B){return{$$typeof:s,type:V.type,key:B,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function D(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return B[oe]})}var x=/\/+/g;function S(V,B){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):B.toString(36)}function Ye(V,B,oe,me,ge){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var Ne=!1;if(V===null)Ne=!0;else switch(we){case"string":case"number":Ne=!0;break;case"object":switch(V.$$typeof){case s:case e:Ne=!0}}if(Ne)return Ne=V,ge=ge(Ne),V=me===""?"."+S(Ne,0):me,_e(ge)?(oe="",V!=null&&(oe=V.replace(x,"$&/")+"/"),Ye(ge,B,oe,"",function(ft){return ft})):ge!=null&&(P(ge)&&(ge=I(ge,oe+(!ge.key||Ne&&Ne.key===ge.key?"":(""+ge.key).replace(x,"$&/")+"/")+V)),B.push(ge)),1;if(Ne=0,me=me===""?".":me+":",_e(V))for(var Le=0;Le<V.length;Le++){we=V[Le];var Ue=me+S(we,Le);Ne+=Ye(we,B,oe,Ue,ge)}else if(Ue=z(V),typeof Ue=="function")for(V=Ue.call(V),Le=0;!(we=V.next()).done;)we=we.value,Ue=me+S(we,Le++),Ne+=Ye(we,B,oe,Ue,ge);else if(we==="object")throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ne}function It(V,B,oe){if(V==null)return V;var me=[],ge=0;return Ye(V,me,"","",function(we){return B.call(oe,we,ge++)}),me}function At(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var Me={current:null},G={transition:null},le={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:G,ReactCurrentOwner:Pe};function J(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:It,forEach:function(V,B,oe){It(V,function(){B.apply(this,arguments)},oe)},count:function(V){var B=0;return It(V,function(){B++}),B},toArray:function(V){return It(V,function(B){return B})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ye.Component=K,ye.Fragment=r,ye.Profiler=a,ye.PureComponent=Re,ye.StrictMode=o,ye.Suspense=v,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,ye.act=J,ye.cloneElement=function(V,B,oe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var me=te({},V.props),ge=V.key,we=V.ref,Ne=V._owner;if(B!=null){if(B.ref!==void 0&&(we=B.ref,Ne=Pe.current),B.key!==void 0&&(ge=""+B.key),V.type&&V.type.defaultProps)var Le=V.type.defaultProps;for(Ue in B)Xe.call(B,Ue)&&!k.hasOwnProperty(Ue)&&(me[Ue]=B[Ue]===void 0&&Le!==void 0?Le[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)me.children=oe;else if(1<Ue){Le=Array(Ue);for(var ft=0;ft<Ue;ft++)Le[ft]=arguments[ft+2];me.children=Le}return{$$typeof:s,type:V.type,key:ge,ref:we,props:me,_owner:Ne}},ye.createContext=function(V){return V={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},ye.createElement=T,ye.createFactory=function(V){var B=T.bind(null,V);return B.type=V,B},ye.createRef=function(){return{current:null}},ye.forwardRef=function(V){return{$$typeof:g,render:V}},ye.isValidElement=P,ye.lazy=function(V){return{$$typeof:C,_payload:{_status:-1,_result:V},_init:At}},ye.memo=function(V,B){return{$$typeof:E,type:V,compare:B===void 0?null:B}},ye.startTransition=function(V){var B=G.transition;G.transition={};try{V()}finally{G.transition=B}},ye.unstable_act=J,ye.useCallback=function(V,B){return Me.current.useCallback(V,B)},ye.useContext=function(V){return Me.current.useContext(V)},ye.useDebugValue=function(){},ye.useDeferredValue=function(V){return Me.current.useDeferredValue(V)},ye.useEffect=function(V,B){return Me.current.useEffect(V,B)},ye.useId=function(){return Me.current.useId()},ye.useImperativeHandle=function(V,B,oe){return Me.current.useImperativeHandle(V,B,oe)},ye.useInsertionEffect=function(V,B){return Me.current.useInsertionEffect(V,B)},ye.useLayoutEffect=function(V,B){return Me.current.useLayoutEffect(V,B)},ye.useMemo=function(V,B){return Me.current.useMemo(V,B)},ye.useReducer=function(V,B,oe){return Me.current.useReducer(V,B,oe)},ye.useRef=function(V){return Me.current.useRef(V)},ye.useState=function(V){return Me.current.useState(V)},ye.useSyncExternalStore=function(V,B,oe){return Me.current.useSyncExternalStore(V,B,oe)},ye.useTransition=function(){return Me.current.useTransition()},ye.version="18.3.1",ye}var Od;function ih(){return Od||(Od=1,Sc.exports=ey()),Sc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function ty(){if(Md)return xo;Md=1;var s=ih(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,v,E){var C,M={},z=null,H=null;E!==void 0&&(z=""+E),v.key!==void 0&&(z=""+v.key),v.ref!==void 0&&(H=v.ref);for(C in v)o.call(v,C)&&!c.hasOwnProperty(C)&&(M[C]=v[C]);if(g&&g.defaultProps)for(C in v=g.defaultProps,v)M[C]===void 0&&(M[C]=v[C]);return{$$typeof:e,type:g,key:z,ref:H,props:M,_owner:a.current}}return xo.Fragment=r,xo.jsx=p,xo.jsxs=p,xo}var Fd;function ny(){return Fd||(Fd=1,Tc.exports=ty()),Tc.exports}var Wt=ny(),jp=ih(),pa={},Ic={exports:{}},Qt={},Ac={exports:{}},Cc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function ry(){return Ud||(Ud=1,function(s){function e(G,le){var J=G.length;G.push(le);e:for(;0<J;){var V=J-1>>>1,B=G[V];if(0<a(B,le))G[V]=le,G[J]=B,J=V;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var le=G[0],J=G.pop();if(J!==le){G[0]=J;e:for(var V=0,B=G.length,oe=B>>>1;V<oe;){var me=2*(V+1)-1,ge=G[me],we=me+1,Ne=G[we];if(0>a(ge,J))we<B&&0>a(Ne,ge)?(G[V]=Ne,G[we]=J,V=we):(G[V]=ge,G[me]=J,V=me);else if(we<B&&0>a(Ne,J))G[V]=Ne,G[we]=J,V=we;else break e}}return le}function a(G,le){var J=G.sortIndex-le.sortIndex;return J!==0?J:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],E=[],C=1,M=null,z=3,H=!1,te=!1,Z=!1,K=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(G){for(var le=r(E);le!==null;){if(le.callback===null)o(E);else if(le.startTime<=G)o(E),le.sortIndex=le.expirationTime,e(v,le);else break;le=r(E)}}function _e(G){if(Z=!1,ve(G),!te)if(r(v)!==null)te=!0,At(Xe);else{var le=r(E);le!==null&&Me(_e,le.startTime-G)}}function Xe(G,le){te=!1,Z&&(Z=!1,xe(T),T=-1),H=!0;var J=z;try{for(ve(le),M=r(v);M!==null&&(!(M.expirationTime>le)||G&&!D());){var V=M.callback;if(typeof V=="function"){M.callback=null,z=M.priorityLevel;var B=V(M.expirationTime<=le);le=s.unstable_now(),typeof B=="function"?M.callback=B:M===r(v)&&o(v),ve(le)}else o(v);M=r(v)}if(M!==null)var oe=!0;else{var me=r(E);me!==null&&Me(_e,me.startTime-le),oe=!1}return oe}finally{M=null,z=J,H=!1}}var Pe=!1,k=null,T=-1,I=5,P=-1;function D(){return!(s.unstable_now()-P<I)}function x(){if(k!==null){var G=s.unstable_now();P=G;var le=!0;try{le=k(!0,G)}finally{le?S():(Pe=!1,k=null)}}else Pe=!1}var S;if(typeof Re=="function")S=function(){Re(x)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,It=Ye.port2;Ye.port1.onmessage=x,S=function(){It.postMessage(null)}}else S=function(){K(x,0)};function At(G){k=G,Pe||(Pe=!0,S())}function Me(G,le){T=K(function(){G(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){te||H||(te=!0,At(Xe))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_getFirstCallbackNode=function(){return r(v)},s.unstable_next=function(G){switch(z){case 1:case 2:case 3:var le=3;break;default:le=z}var J=z;z=le;try{return G()}finally{z=J}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=z;z=G;try{return le()}finally{z=J}},s.unstable_scheduleCallback=function(G,le,J){var V=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?V+J:V):J=V,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,G={id:C++,callback:le,priorityLevel:G,startTime:J,expirationTime:B,sortIndex:-1},J>V?(G.sortIndex=J,e(E,G),r(v)===null&&G===r(E)&&(Z?(xe(T),T=-1):Z=!0,Me(_e,J-V))):(G.sortIndex=B,e(v,G),te||H||(te=!0,At(Xe))),G},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(G){var le=z;return function(){var J=z;z=le;try{return G.apply(this,arguments)}finally{z=J}}}}(Cc)),Cc}var zd;function iy(){return zd||(zd=1,Ac.exports=ry()),Ac.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function sy(){if(Bd)return Qt;Bd=1;var s=ih(),e=iy();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(t,n){p(t,n),p(t+"Capture",n)}function p(t,n){for(a[t]=n,t=0;t<n.length;t++)o.add(n[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},M={};function z(t){return v.call(M,t)?!0:v.call(C,t)?!1:E.test(t)?M[t]=!0:(C[t]=!0,!1)}function H(t,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function te(t,n,i,u){if(n===null||typeof n>"u"||H(t,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Z(t,n,i,u,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){K[t]=new Z(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];K[n]=new Z(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){K[t]=new Z(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){K[t]=new Z(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){K[t]=new Z(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){K[t]=new Z(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){K[t]=new Z(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){K[t]=new Z(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){K[t]=new Z(t,5,!1,t.toLowerCase(),null,!1,!1)});var xe=/[\-:]([a-z])/g;function Re(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(xe,Re);K[n]=new Z(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(xe,Re);K[n]=new Z(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(xe,Re);K[n]=new Z(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){K[t]=new Z(t,1,!1,t.toLowerCase(),null,!1,!1)}),K.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){K[t]=new Z(t,1,!1,t.toLowerCase(),null,!0,!0)});function ve(t,n,i,u){var h=K.hasOwnProperty(n)?K[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(te(n,i,h,u)&&(i=null),u||h===null?z(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):h.mustUseProperty?t[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,u=h.attributeNamespace,i===null?t.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?t.setAttributeNS(u,n,i):t.setAttribute(n,i))))}var _e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,V;function B(t){if(V===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||""}return`
`+V+t}var oe=!1;function me(t,n){if(!t||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(t,[],n)}else{try{n.call()}catch(F){u=F}t.call(n.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,w=d.length-1;1<=y&&0<=w&&h[y]!==d[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==d[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==d[w]){var A=`
`+h[y].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?B(t):""}function ge(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=me(t.type,!1),t;case 11:return t=me(t.type.render,!1),t;case 1:return t=me(t.type,!0),t;default:return""}}function we(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Pe:return"Portal";case I:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ye:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case x:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case It:return n=t.displayName||null,n!==null?n:we(t.type)||"Memo";case At:n=t._payload,t=t._init;try{return we(t(n))}catch{}}return null}function Ne(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ue(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ft(t){var n=Ue(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qn(t){t._valueTracker||(t._valueTracker=ft(t))}function Ci(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return t&&(u=Ue(t)?t.checked?"true":"false":t.value),t=u,t!==i?(n.setValue(t),!0):!1}function cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hr(t,n){var i=n.checked;return J({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Ri(t,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=Le(n.value!=null?n.value:i),t._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Fs(t,n){n=n.checked,n!=null&&ve(t,"checked",n,!1)}function Us(t,n){Fs(t,n);var i=Le(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Pi(t,n.type,i):n.hasOwnProperty("defaultValue")&&Pi(t,n.type,Le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Zo(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Pi(t,n,i){(n!=="number"||cr(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Hn=Array.isArray;function Qn(t,n,i,u){if(t=t.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=n.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&u&&(t[i].defaultSelected=!0)}else{for(i=""+Le(i),n=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function zs(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ki(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(Hn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:Le(i)}}function Di(t,n){var i=Le(n.value),u=Le(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),u!=null&&(t.defaultValue=""+u)}function Bs(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?st(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kn,js=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,h){MSApp.execUnsafeLocalFunction(function(){return t(n,i,u,h)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Kn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function hr(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kr=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(t){Kr.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Qr[n]=Qr[t]})});function $s(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Qr.hasOwnProperty(t)&&Qr[t]?(""+n).trim():n+"px"}function bs(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=$s(i,n[i],u);i==="float"&&(i="cssFloat"),u?t.setProperty(i,h):t[i]=h}}var qs=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(t,n){if(n){if(qs[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Qs(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wr=null;function Vi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,rn=null,kn=null;function Ni(t){if(t=yo(t)){if(typeof xi!="function")throw Error(r(280));var n=t.stateNode;n&&(n=kl(n),xi(t.stateNode,t.type,n))}}function Dn(t){rn?kn?kn.push(t):kn=[t]:rn=t}function Ks(){if(rn){var t=rn,n=kn;if(kn=rn=null,Ni(t),n)for(t=0;t<n.length;t++)Ni(n[t])}}function Gr(t,n){return t(n)}function Ws(){}var Wn=!1;function Gs(t,n,i){if(Wn)return t(n,i);Wn=!0;try{return Gr(t,n,i)}finally{Wn=!1,(rn!==null||kn!==null)&&(Ws(),Ks())}}function Je(t,n){var i=t.stateNode;if(i===null)return null;var u=kl(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Li=!1;if(g)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){Li=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{Li=!1}function Xr(t,n,i,u,h,d,y,w,A){var F=Array.prototype.slice.call(arguments,3);try{n.apply(i,F)}catch(b){this.onError(b)}}var Yr=!1,Oi=null,mn=!1,Xs=null,Xa={onError:function(t){Yr=!0,Oi=t}};function Mi(t,n,i,u,h,d,y,w,A){Yr=!1,Oi=null,Xr.apply(Xa,arguments)}function el(t,n,i,u,h,d,y,w,A){if(Mi.apply(this,arguments),Yr){if(Yr){var F=Oi;Yr=!1,Oi=null}else throw Error(r(198));mn||(mn=!0,Xs=F)}}function gn(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function Jr(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function yn(t){if(gn(t)!==t)throw Error(r(188))}function tl(t){var n=t.alternate;if(!n){if(n=gn(t),n===null)throw Error(r(188));return n!==t?null:t}for(var i=t,u=n;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return yn(h),t;if(d===u)return yn(h),n;d=d.sibling}throw Error(r(188))}if(i.return!==u.return)i=h,u=d;else{for(var y=!1,w=h.child;w;){if(w===i){y=!0,i=h,u=d;break}if(w===u){y=!0,u=h,i=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===i){y=!0,i=d,u=h;break}if(w===u){y=!0,u=d,i=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:n}function Ys(t){return t=tl(t),t!==null?Fi(t):null}function Fi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Fi(t);if(n!==null)return n;t=t.sibling}return null}var Ui=e.unstable_scheduleCallback,Js=e.unstable_cancelCallback,nl=e.unstable_shouldYield,Ya=e.unstable_requestPaint,ze=e.unstable_now,rl=e.unstable_getCurrentPriorityLevel,Zr=e.unstable_ImmediatePriority,fr=e.unstable_UserBlockingPriority,sn=e.unstable_NormalPriority,Zs=e.unstable_LowPriority,il=e.unstable_IdlePriority,ei=null,Xt=null;function sl(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ei,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:ll,eo=Math.log,ol=Math.LN2;function ll(t){return t>>>=0,t===0?32:31-(eo(t)/ol|0)|0}var zi=64,Bi=4194304;function dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ti(t,n){var i=t.pendingLanes;if(i===0)return 0;var u=0,h=t.suspendedLanes,d=t.pingedLanes,y=i&268435455;if(y!==0){var w=y&~h;w!==0?u=dr(w):(d&=y,d!==0&&(u=dr(d)))}else y=i&~h,y!==0?u=dr(y):d!==0&&(u=dr(d));if(u===0)return 0;if(n!==0&&n!==u&&!(n&h)&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if(u&4&&(u|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)i=31-Lt(n),h=1<<i,u|=t[i],n&=~h;return u}function Ja(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(t,n){for(var i=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes;0<d;){var y=31-Lt(d),w=1<<y,A=h[y];A===-1?(!(w&i)||w&u)&&(h[y]=Ja(w,n)):A<=n&&(t.expiredLanes|=w),d&=~w}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ni(){var t=zi;return zi<<=1,!(zi&4194240)&&(zi=64),t}function pr(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function mr(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Lt(n),t[n]=i}function Fe(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<i;){var h=31-Lt(i),d=1<<h;n[h]=0,u[h]=-1,t[h]=-1,i&=~d}}function gr(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var u=31-Lt(i),h=1<<u;h&n|t[u]&n&&(t[u]|=n),i&=~h}}var Ee=0;function yr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var al,ji,ul,cl,hl,to=!1,Vn=[],vt=null,vn=null,_n=null,vr=new Map,on=new Map,xn=[],Za="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fl(t,n){switch(t){case"focusin":case"focusout":vt=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":vr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":on.delete(n.pointerId)}}function zt(t,n,i,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=yo(n),n!==null&&ji(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function eu(t,n,i,u,h){switch(n){case"focusin":return vt=zt(vt,t,n,i,u,h),!0;case"dragenter":return vn=zt(vn,t,n,i,u,h),!0;case"mouseover":return _n=zt(_n,t,n,i,u,h),!0;case"pointerover":var d=h.pointerId;return vr.set(d,zt(vr.get(d)||null,t,n,i,u,h)),!0;case"gotpointercapture":return d=h.pointerId,on.set(d,zt(on.get(d)||null,t,n,i,u,h)),!0}return!1}function dl(t){var n=li(t.target);if(n!==null){var i=gn(n);if(i!==null){if(n=i.tag,n===13){if(n=Jr(i),n!==null){t.blockedOn=n,hl(t.priority,function(){ul(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xn(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=$i(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var u=new i.constructor(i.type,i);Wr=u,i.target.dispatchEvent(u),Wr=null}else return n=yo(i),n!==null&&ji(n),t.blockedOn=i,!1;n.shift()}return!0}function ri(t,n,i){Xn(t)&&i.delete(n)}function pl(){to=!1,vt!==null&&Xn(vt)&&(vt=null),vn!==null&&Xn(vn)&&(vn=null),_n!==null&&Xn(_n)&&(_n=null),vr.forEach(ri),on.forEach(ri)}function En(t,n){t.blockedOn===n&&(t.blockedOn=null,to||(to=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pl)))}function wn(t){function n(h){return En(h,t)}if(0<Vn.length){En(Vn[0],t);for(var i=1;i<Vn.length;i++){var u=Vn[i];u.blockedOn===t&&(u.blockedOn=null)}}for(vt!==null&&En(vt,t),vn!==null&&En(vn,t),_n!==null&&En(_n,t),vr.forEach(n),on.forEach(n),i=0;i<xn.length;i++)u=xn[i],u.blockedOn===t&&(u.blockedOn=null);for(;0<xn.length&&(i=xn[0],i.blockedOn===null);)dl(i),i.blockedOn===null&&xn.shift()}var Yn=_e.ReactCurrentBatchConfig,_r=!0;function be(t,n,i,u){var h=Ee,d=Yn.transition;Yn.transition=null;try{Ee=1,no(t,n,i,u)}finally{Ee=h,Yn.transition=d}}function tu(t,n,i,u){var h=Ee,d=Yn.transition;Yn.transition=null;try{Ee=4,no(t,n,i,u)}finally{Ee=h,Yn.transition=d}}function no(t,n,i,u){if(_r){var h=$i(t,n,i,u);if(h===null)fu(t,n,u,ii,i),fl(t,u);else if(eu(h,t,n,i,u))u.stopPropagation();else if(fl(t,u),n&4&&-1<Za.indexOf(t)){for(;h!==null;){var d=yo(h);if(d!==null&&al(d),d=$i(t,n,i,u),d===null&&fu(t,n,u,ii,i),d===h)break;h=d}h!==null&&u.stopPropagation()}else fu(t,n,u,null,i)}}var ii=null;function $i(t,n,i,u){if(ii=null,t=Vi(u),t=li(t),t!==null)if(n=gn(t),n===null)t=null;else if(i=n.tag,i===13){if(t=Jr(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return ii=t,null}function ro(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rl()){case Zr:return 1;case fr:return 4;case sn:case Zs:return 16;case il:return 536870912;default:return 16}default:return 16}}var Jt=null,bi=null,Bt=null;function io(){if(Bt)return Bt;var t,n=bi,i=n.length,u,h="value"in Jt?Jt.value:Jt.textContent,d=h.length;for(t=0;t<i&&n[t]===h[t];t++);var y=i-t;for(u=1;u<=y&&n[i-u]===h[d-u];u++);return Bt=h.slice(t,1<u?1-u:void 0)}function qi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Nn(){return!0}function so(){return!1}function _t(t){function n(i,u,h,d,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(i=t[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Nn:so,this.isPropagationStopped=so,this}return J(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),n}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=_t(Tn),Ln=J({},Tn,{view:0,detail:0}),nu=_t(Ln),Qi,Jn,Er,si=J({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Er&&(Er&&t.type==="mousemove"?(Qi=t.screenX-Er.screenX,Jn=t.screenY-Er.screenY):Jn=Qi=0,Er=t),Qi)},movementY:function(t){return"movementY"in t?t.movementY:Jn}}),Ki=_t(si),oo=J({},si,{dataTransfer:0}),ml=_t(oo),Wi=J({},Ln,{relatedTarget:0}),Gi=_t(Wi),gl=J({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zn=_t(gl),yl=J({},Tn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vl=_t(yl),_l=J({},Tn,{data:0}),lo=_t(_l),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},El={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=El[t])?!!n[t]:!1}function On(){return wl}var l=J({},Ln,{key:function(t){if(t.key){var n=Xi[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ot[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return t.type==="keypress"?qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=_t(l),m=J({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=_t(m),N=J({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On}),U=_t(N),W=J({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=_t(W),lt=J({},si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Te=_t(lt),dt=[9,13,27,32],nt=g&&"CompositionEvent"in window,ln=null;g&&"documentMode"in document&&(ln=document.documentMode);var Zt=g&&"TextEvent"in window&&!ln,oi=g&&(!nt||ln&&8<ln&&11>=ln),Yi=" ",Rh=!1;function Ph(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function Jm(t,n){switch(t){case"compositionend":return kh(n);case"keypress":return n.which!==32?null:(Rh=!0,Yi);case"textInput":return t=n.data,t===Yi&&Rh?null:t;default:return null}}function Zm(t,n){if(Ji)return t==="compositionend"||!nt&&Ph(t,n)?(t=io(),Bt=bi=Jt=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eg[t.type]:n==="textarea"}function Vh(t,n,i,u){Dn(u),n=Cl(n,"onChange"),0<n.length&&(i=new Hi("onChange","change",null,i,u),t.push({event:i,listeners:n}))}var ao=null,uo=null;function tg(t){Gh(t,0)}function Tl(t){var n=rs(t);if(Ci(n))return t}function ng(t,n){if(t==="change")return n}var xh=!1;if(g){var ru;if(g){var iu="oninput"in document;if(!iu){var Nh=document.createElement("div");Nh.setAttribute("oninput","return;"),iu=typeof Nh.oninput=="function"}ru=iu}else ru=!1;xh=ru&&(!document.documentMode||9<document.documentMode)}function Lh(){ao&&(ao.detachEvent("onpropertychange",Oh),uo=ao=null)}function Oh(t){if(t.propertyName==="value"&&Tl(uo)){var n=[];Vh(n,uo,t,Vi(t)),Gs(tg,n)}}function rg(t,n,i){t==="focusin"?(Lh(),ao=n,uo=i,ao.attachEvent("onpropertychange",Oh)):t==="focusout"&&Lh()}function ig(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(uo)}function sg(t,n){if(t==="click")return Tl(n)}function og(t,n){if(t==="input"||t==="change")return Tl(n)}function lg(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:lg;function co(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!v.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function Mh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fh(t,n){var i=Mh(t);t=0;for(var u;i;){if(i.nodeType===3){if(u=t+i.textContent.length,t<=n&&u>=n)return{node:i,offset:n-t};t=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Mh(i)}}function Uh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Uh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zh(){for(var t=window,n=cr();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=cr(t.document)}return n}function su(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ag(t){var n=zh(),i=t.focusedElem,u=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&Uh(i.ownerDocument.documentElement,i)){if(u!==null&&su(i)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=i.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!t.extend&&d>u&&(h=u,u=d,d=h),h=Fh(i,d);var y=Fh(i,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),d>u?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ug=g&&"documentMode"in document&&11>=document.documentMode,Zi=null,ou=null,ho=null,lu=!1;function Bh(t,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;lu||Zi==null||Zi!==cr(u)||(u=Zi,"selectionStart"in u&&su(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ho&&co(ho,u)||(ho=u,u=Cl(ou,"onSelect"),0<u.length&&(n=new Hi("onSelect","select",null,n,i),t.push({event:n,listeners:u}),n.target=Zi)))}function Sl(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var es={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionend:Sl("Transition","TransitionEnd")},au={},jh={};g&&(jh=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Il(t){if(au[t])return au[t];if(!es[t])return t;var n=es[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in jh)return au[t]=n[i];return t}var $h=Il("animationend"),bh=Il("animationiteration"),qh=Il("animationstart"),Hh=Il("transitionend"),Qh=new Map,Kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,n){Qh.set(t,n),c(n,[t])}for(var uu=0;uu<Kh.length;uu++){var cu=Kh[uu],cg=cu.toLowerCase(),hg=cu[0].toUpperCase()+cu.slice(1);wr(cg,"on"+hg)}wr($h,"onAnimationEnd"),wr(bh,"onAnimationIteration"),wr(qh,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Hh,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Wh(t,n,i){var u=t.type||"unknown-event";t.currentTarget=i,el(u,n,void 0,t),t.currentTarget=null}function Gh(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var u=t[i],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],A=w.instance,F=w.currentTarget;if(w=w.listener,A!==d&&h.isPropagationStopped())break e;Wh(h,w,F),d=A}else for(y=0;y<u.length;y++){if(w=u[y],A=w.instance,F=w.currentTarget,w=w.listener,A!==d&&h.isPropagationStopped())break e;Wh(h,w,F),d=A}}}if(mn)throw t=Xs,mn=!1,Xs=null,t}function je(t,n){var i=n[vu];i===void 0&&(i=n[vu]=new Set);var u=t+"__bubble";i.has(u)||(Xh(n,t,2,!1),i.add(u))}function hu(t,n,i){var u=0;n&&(u|=4),Xh(i,t,u,n)}var Al="_reactListening"+Math.random().toString(36).slice(2);function po(t){if(!t[Al]){t[Al]=!0,o.forEach(function(i){i!=="selectionchange"&&(fg.has(i)||hu(i,!1,t),hu(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Al]||(n[Al]=!0,hu("selectionchange",!1,n))}}function Xh(t,n,i,u){switch(ro(n)){case 1:var h=be;break;case 4:h=tu;break;default:h=no}i=h.bind(null,n,i,t),h=void 0,!Li||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(n,i,{capture:!0,passive:h}):t.addEventListener(n,i,!0):h!==void 0?t.addEventListener(n,i,{passive:h}):t.addEventListener(n,i,!1)}function fu(t,n,i,u,h){var d=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;w!==null;){if(y=li(w),y===null)return;if(A=y.tag,A===5||A===6){u=d=y;continue e}w=w.parentNode}}u=u.return}Gs(function(){var F=d,b=Vi(i),q=[];e:{var $=Qh.get(t);if($!==void 0){var Y=Hi,re=t;switch(t){case"keypress":if(qi(i)===0)break e;case"keydown":case"keyup":Y=f;break;case"focusin":re="focus",Y=Gi;break;case"focusout":re="blur",Y=Gi;break;case"beforeblur":case"afterblur":Y=Gi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=U;break;case $h:case bh:case qh:Y=Zn;break;case Hh:Y=Oe;break;case"scroll":Y=nu;break;case"wheel":Y=Te;break;case"copy":case"cut":case"paste":Y=vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=_}var ie=(n&4)!==0,Ze=!ie&&t==="scroll",L=ie?$!==null?$+"Capture":null:$;ie=[];for(var R=F,O;R!==null;){O=R;var Q=O.stateNode;if(O.tag===5&&Q!==null&&(O=Q,L!==null&&(Q=Je(R,L),Q!=null&&ie.push(mo(R,Q,O)))),Ze)break;R=R.return}0<ie.length&&($=new Y($,re,null,i,b),q.push({event:$,listeners:ie}))}}if(!(n&7)){e:{if($=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",$&&i!==Wr&&(re=i.relatedTarget||i.fromElement)&&(li(re)||re[er]))break e;if((Y||$)&&($=b.window===b?b:($=b.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(re=i.relatedTarget||i.toElement,Y=F,re=re?li(re):null,re!==null&&(Ze=gn(re),re!==Ze||re.tag!==5&&re.tag!==6)&&(re=null)):(Y=null,re=F),Y!==re)){if(ie=Ki,Q="onMouseLeave",L="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ie=_,Q="onPointerLeave",L="onPointerEnter",R="pointer"),Ze=Y==null?$:rs(Y),O=re==null?$:rs(re),$=new ie(Q,R+"leave",Y,i,b),$.target=Ze,$.relatedTarget=O,Q=null,li(b)===F&&(ie=new ie(L,R+"enter",re,i,b),ie.target=O,ie.relatedTarget=Ze,Q=ie),Ze=Q,Y&&re)t:{for(ie=Y,L=re,R=0,O=ie;O;O=ts(O))R++;for(O=0,Q=L;Q;Q=ts(Q))O++;for(;0<R-O;)ie=ts(ie),R--;for(;0<O-R;)L=ts(L),O--;for(;R--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=ts(ie),L=ts(L)}ie=null}else ie=null;Y!==null&&Yh(q,$,Y,ie,!1),re!==null&&Ze!==null&&Yh(q,Ze,re,ie,!0)}}e:{if($=F?rs(F):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var se=ng;else if(Dh($))if(xh)se=og;else{se=ig;var ae=rg}else(Y=$.nodeName)&&Y.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=sg);if(se&&(se=se(t,F))){Vh(q,se,i,b);break e}ae&&ae(t,$,F),t==="focusout"&&(ae=$._wrapperState)&&ae.controlled&&$.type==="number"&&Pi($,"number",$.value)}switch(ae=F?rs(F):window,t){case"focusin":(Dh(ae)||ae.contentEditable==="true")&&(Zi=ae,ou=F,ho=null);break;case"focusout":ho=ou=Zi=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,Bh(q,i,b);break;case"selectionchange":if(ug)break;case"keydown":case"keyup":Bh(q,i,b)}var ue;if(nt)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Ji?Ph(t,i)&&(fe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(oi&&i.locale!=="ko"&&(Ji||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Ji&&(ue=io()):(Jt=b,bi="value"in Jt?Jt.value:Jt.textContent,Ji=!0)),ae=Cl(F,fe),0<ae.length&&(fe=new lo(fe,t,null,i,b),q.push({event:fe,listeners:ae}),ue?fe.data=ue:(ue=kh(i),ue!==null&&(fe.data=ue)))),(ue=Zt?Jm(t,i):Zm(t,i))&&(F=Cl(F,"onBeforeInput"),0<F.length&&(b=new lo("onBeforeInput","beforeinput",null,i,b),q.push({event:b,listeners:F}),b.data=ue))}Gh(q,n)})}function mo(t,n,i){return{instance:t,listener:n,currentTarget:i}}function Cl(t,n){for(var i=n+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Je(t,i),d!=null&&u.unshift(mo(t,d,h)),d=Je(t,n),d!=null&&u.push(mo(t,d,h))),t=t.return}return u}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yh(t,n,i,u,h){for(var d=n._reactName,y=[];i!==null&&i!==u;){var w=i,A=w.alternate,F=w.stateNode;if(A!==null&&A===u)break;w.tag===5&&F!==null&&(w=F,h?(A=Je(i,d),A!=null&&y.unshift(mo(i,A,w))):h||(A=Je(i,d),A!=null&&y.push(mo(i,A,w)))),i=i.return}y.length!==0&&t.push({event:n,listeners:y})}var dg=/\r\n?/g,pg=/\u0000|\uFFFD/g;function Jh(t){return(typeof t=="string"?t:""+t).replace(dg,`
`).replace(pg,"")}function Rl(t,n,i){if(n=Jh(n),Jh(t)!==n&&i)throw Error(r(425))}function Pl(){}var du=null,pu=null;function mu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,mg=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,gg=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(t){return Zh.resolve(null).then(t).catch(yg)}:gu;function yg(t){setTimeout(function(){throw t})}function yu(t,n){var i=n,u=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){t.removeChild(h),wn(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);wn(n)}function Tr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function ef(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),Mn="__reactFiber$"+ns,go="__reactProps$"+ns,er="__reactContainer$"+ns,vu="__reactEvents$"+ns,vg="__reactListeners$"+ns,_g="__reactHandles$"+ns;function li(t){var n=t[Mn];if(n)return n;for(var i=t.parentNode;i;){if(n=i[er]||i[Mn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=ef(t);t!==null;){if(i=t[Mn])return i;t=ef(t)}return n}t=i,i=t.parentNode}return null}function yo(t){return t=t[Mn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function kl(t){return t[go]||null}var _u=[],is=-1;function Sr(t){return{current:t}}function $e(t){0>is||(t.current=_u[is],_u[is]=null,is--)}function Be(t,n){is++,_u[is]=t.current,t.current=n}var Ir={},Ct=Sr(Ir),jt=Sr(!1),ai=Ir;function ss(t,n){var i=t.type.contextTypes;if(!i)return Ir;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in i)h[d]=n[d];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function $t(t){return t=t.childContextTypes,t!=null}function Dl(){$e(jt),$e(Ct)}function tf(t,n,i){if(Ct.current!==Ir)throw Error(r(168));Be(Ct,n),Be(jt,i)}function nf(t,n,i){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Ne(t)||"Unknown",h));return J({},i,u)}function Vl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,ai=Ct.current,Be(Ct,t),Be(jt,jt.current),!0}function rf(t,n,i){var u=t.stateNode;if(!u)throw Error(r(169));i?(t=nf(t,n,ai),u.__reactInternalMemoizedMergedChildContext=t,$e(jt),$e(Ct),Be(Ct,t)):$e(jt),Be(jt,i)}var tr=null,xl=!1,Eu=!1;function sf(t){tr===null?tr=[t]:tr.push(t)}function Eg(t){xl=!0,sf(t)}function Ar(){if(!Eu&&tr!==null){Eu=!0;var t=0,n=Ee;try{var i=tr;for(Ee=1;t<i.length;t++){var u=i[t];do u=u(!0);while(u!==null)}tr=null,xl=!1}catch(h){throw tr!==null&&(tr=tr.slice(t+1)),Ui(Zr,Ar),h}finally{Ee=n,Eu=!1}}return null}var os=[],ls=0,Nl=null,Ll=0,an=[],un=0,ui=null,nr=1,rr="";function ci(t,n){os[ls++]=Ll,os[ls++]=Nl,Nl=t,Ll=n}function of(t,n,i){an[un++]=nr,an[un++]=rr,an[un++]=ui,ui=t;var u=nr;t=rr;var h=32-Lt(u)-1;u&=~(1<<h),i+=1;var d=32-Lt(n)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,nr=1<<32-Lt(n)+h|i<<h|u,rr=d+t}else nr=1<<d|i<<h|u,rr=t}function wu(t){t.return!==null&&(ci(t,1),of(t,1,0))}function Tu(t){for(;t===Nl;)Nl=os[--ls],os[ls]=null,Ll=os[--ls],os[ls]=null;for(;t===ui;)ui=an[--un],an[un]=null,rr=an[--un],an[un]=null,nr=an[--un],an[un]=null}var en=null,tn=null,qe=!1,In=null;function lf(t,n){var i=dn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function af(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,en=t,tn=Tr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,en=t,tn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ui!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=dn(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,en=t,tn=null,!0):!1;default:return!1}}function Su(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iu(t){if(qe){var n=tn;if(n){var i=n;if(!af(t,n)){if(Su(t))throw Error(r(418));n=Tr(i.nextSibling);var u=en;n&&af(t,n)?lf(u,i):(t.flags=t.flags&-4097|2,qe=!1,en=t)}}else{if(Su(t))throw Error(r(418));t.flags=t.flags&-4097|2,qe=!1,en=t}}}function uf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Ol(t){if(t!==en)return!1;if(!qe)return uf(t),qe=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!mu(t.type,t.memoizedProps)),n&&(n=tn)){if(Su(t))throw cf(),Error(r(418));for(;n;)lf(t,n),n=Tr(n.nextSibling)}if(uf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){tn=Tr(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}tn=null}}else tn=en?Tr(t.stateNode.nextSibling):null;return!0}function cf(){for(var t=tn;t;)t=Tr(t.nextSibling)}function as(){tn=en=null,qe=!1}function Au(t){In===null?In=[t]:In.push(t)}var wg=_e.ReactCurrentBatchConfig;function vo(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,t));var h=u,d=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var w=h.refs;y===null?delete w[d]:w[d]=y},n._stringRef=d,n)}if(typeof t!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,t))}return t}function Ml(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function hf(t){var n=t._init;return n(t._payload)}function ff(t){function n(L,R){if(t){var O=L.deletions;O===null?(L.deletions=[R],L.flags|=16):O.push(R)}}function i(L,R){if(!t)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function u(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function h(L,R){return L=Nr(L,R),L.index=0,L.sibling=null,L}function d(L,R,O){return L.index=O,t?(O=L.alternate,O!==null?(O=O.index,O<R?(L.flags|=2,R):O):(L.flags|=2,R)):(L.flags|=1048576,R)}function y(L){return t&&L.alternate===null&&(L.flags|=2),L}function w(L,R,O,Q){return R===null||R.tag!==6?(R=gc(O,L.mode,Q),R.return=L,R):(R=h(R,O),R.return=L,R)}function A(L,R,O,Q){var se=O.type;return se===k?b(L,R,O.props.children,Q,O.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&hf(se)===R.type)?(Q=h(R,O.props),Q.ref=vo(L,R,O),Q.return=L,Q):(Q=oa(O.type,O.key,O.props,null,L.mode,Q),Q.ref=vo(L,R,O),Q.return=L,Q)}function F(L,R,O,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==O.containerInfo||R.stateNode.implementation!==O.implementation?(R=yc(O,L.mode,Q),R.return=L,R):(R=h(R,O.children||[]),R.return=L,R)}function b(L,R,O,Q,se){return R===null||R.tag!==7?(R=vi(O,L.mode,Q,se),R.return=L,R):(R=h(R,O),R.return=L,R)}function q(L,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return R=gc(""+R,L.mode,O),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xe:return O=oa(R.type,R.key,R.props,null,L.mode,O),O.ref=vo(L,null,R),O.return=L,O;case Pe:return R=yc(R,L.mode,O),R.return=L,R;case At:var Q=R._init;return q(L,Q(R._payload),O)}if(Hn(R)||le(R))return R=vi(R,L.mode,O,null),R.return=L,R;Ml(L,R)}return null}function $(L,R,O,Q){var se=R!==null?R.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return se!==null?null:w(L,R,""+O,Q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Xe:return O.key===se?A(L,R,O,Q):null;case Pe:return O.key===se?F(L,R,O,Q):null;case At:return se=O._init,$(L,R,se(O._payload),Q)}if(Hn(O)||le(O))return se!==null?null:b(L,R,O,Q,null);Ml(L,O)}return null}function Y(L,R,O,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(O)||null,w(R,L,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xe:return L=L.get(Q.key===null?O:Q.key)||null,A(R,L,Q,se);case Pe:return L=L.get(Q.key===null?O:Q.key)||null,F(R,L,Q,se);case At:var ae=Q._init;return Y(L,R,O,ae(Q._payload),se)}if(Hn(Q)||le(Q))return L=L.get(O)||null,b(R,L,Q,se,null);Ml(R,Q)}return null}function re(L,R,O,Q){for(var se=null,ae=null,ue=R,fe=R=0,gt=null;ue!==null&&fe<O.length;fe++){ue.index>fe?(gt=ue,ue=null):gt=ue.sibling;var Ve=$(L,ue,O[fe],Q);if(Ve===null){ue===null&&(ue=gt);break}t&&ue&&Ve.alternate===null&&n(L,ue),R=d(Ve,R,fe),ae===null?se=Ve:ae.sibling=Ve,ae=Ve,ue=gt}if(fe===O.length)return i(L,ue),qe&&ci(L,fe),se;if(ue===null){for(;fe<O.length;fe++)ue=q(L,O[fe],Q),ue!==null&&(R=d(ue,R,fe),ae===null?se=ue:ae.sibling=ue,ae=ue);return qe&&ci(L,fe),se}for(ue=u(L,ue);fe<O.length;fe++)gt=Y(ue,L,fe,O[fe],Q),gt!==null&&(t&&gt.alternate!==null&&ue.delete(gt.key===null?fe:gt.key),R=d(gt,R,fe),ae===null?se=gt:ae.sibling=gt,ae=gt);return t&&ue.forEach(function(Lr){return n(L,Lr)}),qe&&ci(L,fe),se}function ie(L,R,O,Q){var se=le(O);if(typeof se!="function")throw Error(r(150));if(O=se.call(O),O==null)throw Error(r(151));for(var ae=se=null,ue=R,fe=R=0,gt=null,Ve=O.next();ue!==null&&!Ve.done;fe++,Ve=O.next()){ue.index>fe?(gt=ue,ue=null):gt=ue.sibling;var Lr=$(L,ue,Ve.value,Q);if(Lr===null){ue===null&&(ue=gt);break}t&&ue&&Lr.alternate===null&&n(L,ue),R=d(Lr,R,fe),ae===null?se=Lr:ae.sibling=Lr,ae=Lr,ue=gt}if(Ve.done)return i(L,ue),qe&&ci(L,fe),se;if(ue===null){for(;!Ve.done;fe++,Ve=O.next())Ve=q(L,Ve.value,Q),Ve!==null&&(R=d(Ve,R,fe),ae===null?se=Ve:ae.sibling=Ve,ae=Ve);return qe&&ci(L,fe),se}for(ue=u(L,ue);!Ve.done;fe++,Ve=O.next())Ve=Y(ue,L,fe,Ve.value,Q),Ve!==null&&(t&&Ve.alternate!==null&&ue.delete(Ve.key===null?fe:Ve.key),R=d(Ve,R,fe),ae===null?se=Ve:ae.sibling=Ve,ae=Ve);return t&&ue.forEach(function(Zg){return n(L,Zg)}),qe&&ci(L,fe),se}function Ze(L,R,O,Q){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Xe:e:{for(var se=O.key,ae=R;ae!==null;){if(ae.key===se){if(se=O.type,se===k){if(ae.tag===7){i(L,ae.sibling),R=h(ae,O.props.children),R.return=L,L=R;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&hf(se)===ae.type){i(L,ae.sibling),R=h(ae,O.props),R.ref=vo(L,ae,O),R.return=L,L=R;break e}i(L,ae);break}else n(L,ae);ae=ae.sibling}O.type===k?(R=vi(O.props.children,L.mode,Q,O.key),R.return=L,L=R):(Q=oa(O.type,O.key,O.props,null,L.mode,Q),Q.ref=vo(L,R,O),Q.return=L,L=Q)}return y(L);case Pe:e:{for(ae=O.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===O.containerInfo&&R.stateNode.implementation===O.implementation){i(L,R.sibling),R=h(R,O.children||[]),R.return=L,L=R;break e}else{i(L,R);break}else n(L,R);R=R.sibling}R=yc(O,L.mode,Q),R.return=L,L=R}return y(L);case At:return ae=O._init,Ze(L,R,ae(O._payload),Q)}if(Hn(O))return re(L,R,O,Q);if(le(O))return ie(L,R,O,Q);Ml(L,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,R!==null&&R.tag===6?(i(L,R.sibling),R=h(R,O),R.return=L,L=R):(i(L,R),R=gc(O,L.mode,Q),R.return=L,L=R),y(L)):i(L,R)}return Ze}var us=ff(!0),df=ff(!1),Fl=Sr(null),Ul=null,cs=null,Cu=null;function Ru(){Cu=cs=Ul=null}function Pu(t){var n=Fl.current;$e(Fl),t._currentValue=n}function ku(t,n,i){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===i)break;t=t.return}}function hs(t,n){Ul=t,Cu=cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(bt=!0),t.firstContext=null)}function cn(t){var n=t._currentValue;if(Cu!==t)if(t={context:t,memoizedValue:n,next:null},cs===null){if(Ul===null)throw Error(r(308));cs=t,Ul.dependencies={lanes:0,firstContext:t}}else cs=cs.next=t;return n}var hi=null;function Du(t){hi===null?hi=[t]:hi.push(t)}function pf(t,n,i,u){var h=n.interleaved;return h===null?(i.next=i,Du(n)):(i.next=h.next,h.next=i),n.interleaved=i,ir(t,u)}function ir(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Cr=!1;function Vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(t,n,i){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,ke&2){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,ir(t,i)}return h=u.interleaved,h===null?(n.next=n,Du(u)):(n.next=h.next,h.next=n),u.interleaved=n,ir(t,i)}function zl(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,i|=u,n.lanes=i,gr(t,i)}}function gf(t,n){var i=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?h=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?h=d=n:d=d.next=n}else h=d=n;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function Bl(t,n,i,u){var h=t.updateQueue;Cr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var A=w,F=A.next;A.next=null,y===null?d=F:y.next=F,y=A;var b=t.alternate;b!==null&&(b=b.updateQueue,w=b.lastBaseUpdate,w!==y&&(w===null?b.firstBaseUpdate=F:w.next=F,b.lastBaseUpdate=A))}if(d!==null){var q=h.baseState;y=0,b=F=A=null,w=d;do{var $=w.lane,Y=w.eventTime;if((u&$)===$){b!==null&&(b=b.next={eventTime:Y,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch($=n,Y=i,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){q=re.call(Y,q,$);break e}q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Y,q,$):re,$==null)break e;q=J({},q,$);break e;case 2:Cr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else Y={eventTime:Y,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},b===null?(F=b=Y,A=q):b=b.next=Y,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(b===null&&(A=q),h.baseState=A,h.firstBaseUpdate=F,h.lastBaseUpdate=b,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);pi|=y,t.lanes=y,t.memoizedState=q}}function yf(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var _o={},Fn=Sr(_o),Eo=Sr(_o),wo=Sr(_o);function fi(t){if(t===_o)throw Error(r(174));return t}function xu(t,n){switch(Be(wo,n),Be(Eo,t),Be(Fn,_o),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ot(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=ot(n,t)}$e(Fn),Be(Fn,n)}function fs(){$e(Fn),$e(Eo),$e(wo)}function vf(t){fi(wo.current);var n=fi(Fn.current),i=ot(n,t.type);n!==i&&(Be(Eo,t),Be(Fn,i))}function Nu(t){Eo.current===t&&($e(Fn),$e(Eo))}var He=Sr(0);function jl(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Lu=[];function Ou(){for(var t=0;t<Lu.length;t++)Lu[t]._workInProgressVersionPrimary=null;Lu.length=0}var $l=_e.ReactCurrentDispatcher,Mu=_e.ReactCurrentBatchConfig,di=0,Qe=null,at=null,pt=null,bl=!1,To=!1,So=0,Tg=0;function Rt(){throw Error(r(321))}function Fu(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Sn(t[i],n[i]))return!1;return!0}function Uu(t,n,i,u,h,d){if(di=d,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$l.current=t===null||t.memoizedState===null?Cg:Rg,t=i(u,h),To){d=0;do{if(To=!1,So=0,25<=d)throw Error(r(301));d+=1,pt=at=null,n.updateQueue=null,$l.current=Pg,t=i(u,h)}while(To)}if($l.current=Ql,n=at!==null&&at.next!==null,di=0,pt=at=Qe=null,bl=!1,n)throw Error(r(300));return t}function zu(){var t=So!==0;return So=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Qe.memoizedState=pt=t:pt=pt.next=t,pt}function hn(){if(at===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=pt===null?Qe.memoizedState:pt.next;if(n!==null)pt=n,at=t;else{if(t===null)throw Error(r(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?Qe.memoizedState=pt=t:pt=pt.next=t}return pt}function Io(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=hn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var u=at,h=u.baseQueue,d=i.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,i.pending=null}if(h!==null){d=h.next,u=u.baseState;var w=y=null,A=null,F=d;do{var b=F.lane;if((di&b)===b)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var q={lane:b,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(w=A=q,y=u):A=A.next=q,Qe.lanes|=b,pi|=b}F=F.next}while(F!==null&&F!==d);A===null?y=u:A.next=w,Sn(u,n.memoizedState)||(bt=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=A,i.lastRenderedState=u}if(t=i.interleaved,t!==null){h=t;do d=h.lane,Qe.lanes|=d,pi|=d,h=h.next;while(h!==t)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function ju(t){var n=hn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var u=i.dispatch,h=i.pending,d=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);Sn(d,n.memoizedState)||(bt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,u]}function _f(){}function Ef(t,n){var i=Qe,u=hn(),h=n(),d=!Sn(u.memoizedState,h);if(d&&(u.memoizedState=h,bt=!0),u=u.queue,$u(Sf.bind(null,i,u,t),[t]),u.getSnapshot!==n||d||pt!==null&&pt.memoizedState.tag&1){if(i.flags|=2048,Ao(9,Tf.bind(null,i,u,h,n),void 0,null),mt===null)throw Error(r(349));di&30||wf(i,n,h)}return h}function wf(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Tf(t,n,i,u){n.value=i,n.getSnapshot=u,If(n)&&Af(t)}function Sf(t,n,i){return i(function(){If(n)&&Af(t)})}function If(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Sn(t,i)}catch{return!0}}function Af(t){var n=ir(t,1);n!==null&&Pn(n,t,1,-1)}function Cf(t){var n=Un();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:t},n.queue=t,t=t.dispatch=Ag.bind(null,Qe,t),[n.memoizedState,t]}function Ao(t,n,i,u){return t={tag:t,create:n,destroy:i,deps:u,next:null},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(u=i.next,i.next=t,t.next=u,n.lastEffect=t)),t}function Rf(){return hn().memoizedState}function ql(t,n,i,u){var h=Un();Qe.flags|=t,h.memoizedState=Ao(1|n,i,void 0,u===void 0?null:u)}function Hl(t,n,i,u){var h=hn();u=u===void 0?null:u;var d=void 0;if(at!==null){var y=at.memoizedState;if(d=y.destroy,u!==null&&Fu(u,y.deps)){h.memoizedState=Ao(n,i,d,u);return}}Qe.flags|=t,h.memoizedState=Ao(1|n,i,d,u)}function Pf(t,n){return ql(8390656,8,t,n)}function $u(t,n){return Hl(2048,8,t,n)}function kf(t,n){return Hl(4,2,t,n)}function Df(t,n){return Hl(4,4,t,n)}function Vf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xf(t,n,i){return i=i!=null?i.concat([t]):null,Hl(4,4,Vf.bind(null,n,t),i)}function bu(){}function Nf(t,n){var i=hn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Fu(n,u[1])?u[0]:(i.memoizedState=[t,n],t)}function Lf(t,n){var i=hn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Fu(n,u[1])?u[0]:(t=t(),i.memoizedState=[t,n],t)}function Of(t,n,i){return di&21?(Sn(i,n)||(i=ni(),Qe.lanes|=i,pi|=i,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=i)}function Sg(t,n){var i=Ee;Ee=i!==0&&4>i?i:4,t(!0);var u=Mu.transition;Mu.transition={};try{t(!1),n()}finally{Ee=i,Mu.transition=u}}function Mf(){return hn().memoizedState}function Ig(t,n,i){var u=Vr(t);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Ff(t))Uf(n,i);else if(i=pf(t,n,i,u),i!==null){var h=Ft();Pn(i,t,u,h),zf(i,n,u)}}function Ag(t,n,i){var u=Vr(t),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ff(t))Uf(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,w=d(y,i);if(h.hasEagerState=!0,h.eagerState=w,Sn(w,y)){var A=n.interleaved;A===null?(h.next=h,Du(n)):(h.next=A.next,A.next=h),n.interleaved=h;return}}catch{}finally{}i=pf(t,n,h,u),i!==null&&(h=Ft(),Pn(i,t,u,h),zf(i,n,u))}}function Ff(t){var n=t.alternate;return t===Qe||n!==null&&n===Qe}function Uf(t,n){To=bl=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function zf(t,n,i){if(i&4194240){var u=n.lanes;u&=t.pendingLanes,i|=u,n.lanes=i,gr(t,i)}}var Ql={readContext:cn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Cg={readContext:cn,useCallback:function(t,n){return Un().memoizedState=[t,n===void 0?null:n],t},useContext:cn,useEffect:Pf,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,ql(4194308,4,Vf.bind(null,n,t),i)},useLayoutEffect:function(t,n){return ql(4194308,4,t,n)},useInsertionEffect:function(t,n){return ql(4,2,t,n)},useMemo:function(t,n){var i=Un();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var u=Un();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=Ig.bind(null,Qe,t),[u.memoizedState,t]},useRef:function(t){var n=Un();return t={current:t},n.memoizedState=t},useState:Cf,useDebugValue:bu,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=Cf(!1),n=t[0];return t=Sg.bind(null,t[1]),Un().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var u=Qe,h=Un();if(qe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),mt===null)throw Error(r(349));di&30||wf(u,n,i)}h.memoizedState=i;var d={value:i,getSnapshot:n};return h.queue=d,Pf(Sf.bind(null,u,d,t),[t]),u.flags|=2048,Ao(9,Tf.bind(null,u,d,i,n),void 0,null),i},useId:function(){var t=Un(),n=mt.identifierPrefix;if(qe){var i=rr,u=nr;i=(u&~(1<<32-Lt(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=So++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Tg++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Rg={readContext:cn,useCallback:Nf,useContext:cn,useEffect:$u,useImperativeHandle:xf,useInsertionEffect:kf,useLayoutEffect:Df,useMemo:Lf,useReducer:Bu,useRef:Rf,useState:function(){return Bu(Io)},useDebugValue:bu,useDeferredValue:function(t){var n=hn();return Of(n,at.memoizedState,t)},useTransition:function(){var t=Bu(Io)[0],n=hn().memoizedState;return[t,n]},useMutableSource:_f,useSyncExternalStore:Ef,useId:Mf,unstable_isNewReconciler:!1},Pg={readContext:cn,useCallback:Nf,useContext:cn,useEffect:$u,useImperativeHandle:xf,useInsertionEffect:kf,useLayoutEffect:Df,useMemo:Lf,useReducer:ju,useRef:Rf,useState:function(){return ju(Io)},useDebugValue:bu,useDeferredValue:function(t){var n=hn();return at===null?n.memoizedState=t:Of(n,at.memoizedState,t)},useTransition:function(){var t=ju(Io)[0],n=hn().memoizedState;return[t,n]},useMutableSource:_f,useSyncExternalStore:Ef,useId:Mf,unstable_isNewReconciler:!1};function An(t,n){if(t&&t.defaultProps){n=J({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function qu(t,n,i,u){n=t.memoizedState,i=i(u,n),i=i==null?n:J({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Kl={isMounted:function(t){return(t=t._reactInternals)?gn(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var u=Ft(),h=Vr(t),d=sr(u,h);d.payload=n,i!=null&&(d.callback=i),n=Rr(t,d,h),n!==null&&(Pn(n,t,h,u),zl(n,t,h))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var u=Ft(),h=Vr(t),d=sr(u,h);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Rr(t,d,h),n!==null&&(Pn(n,t,h,u),zl(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Ft(),u=Vr(t),h=sr(i,u);h.tag=2,n!=null&&(h.callback=n),n=Rr(t,h,u),n!==null&&(Pn(n,t,u,i),zl(n,t,u))}};function Bf(t,n,i,u,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,y):n.prototype&&n.prototype.isPureReactComponent?!co(i,u)||!co(h,d):!0}function jf(t,n,i){var u=!1,h=Ir,d=n.contextType;return typeof d=="object"&&d!==null?d=cn(d):(h=$t(n)?ai:Ct.current,u=n.contextTypes,d=(u=u!=null)?ss(t,h):Ir),n=new n(i,d),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Kl,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=d),n}function $f(t,n,i,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==t&&Kl.enqueueReplaceState(n,n.state,null)}function Hu(t,n,i,u){var h=t.stateNode;h.props=i,h.state=t.memoizedState,h.refs={},Vu(t);var d=n.contextType;typeof d=="object"&&d!==null?h.context=cn(d):(d=$t(n)?ai:Ct.current,h.context=ss(t,d)),h.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(qu(t,n,d,i),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Kl.enqueueReplaceState(h,h.state,null),Bl(t,i,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ds(t,n){try{var i="",u=n;do i+=ge(u),u=u.return;while(u);var h=i}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:n,stack:h,digest:null}}function Qu(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function Ku(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var kg=typeof WeakMap=="function"?WeakMap:Map;function bf(t,n,i){i=sr(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){ea||(ea=!0,ac=u),Ku(t,n)},i}function qf(t,n,i){i=sr(-1,i),i.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;i.payload=function(){return u(h)},i.callback=function(){Ku(t,n)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Ku(t,n),typeof u!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function Hf(t,n,i){var u=t.pingCache;if(u===null){u=t.pingCache=new kg;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(i)||(h.add(i),t=bg.bind(null,t,n,i),n.then(t,t))}function Qf(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Kf(t,n,i,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=sr(-1,1),n.tag=2,Rr(i,n,1))),i.lanes|=1),t)}var Dg=_e.ReactCurrentOwner,bt=!1;function Mt(t,n,i,u){n.child=t===null?df(n,null,i,u):us(n,t.child,i,u)}function Wf(t,n,i,u,h){i=i.render;var d=n.ref;return hs(n,h),u=Uu(t,n,i,u,d,h),i=zu(),t!==null&&!bt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,or(t,n,h)):(qe&&i&&wu(n),n.flags|=1,Mt(t,n,u,h),n.child)}function Gf(t,n,i,u,h){if(t===null){var d=i.type;return typeof d=="function"&&!mc(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,Xf(t,n,d,u,h)):(t=oa(i.type,null,u,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!(t.lanes&h)){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:co,i(y,u)&&t.ref===n.ref)return or(t,n,h)}return n.flags|=1,t=Nr(d,u),t.ref=n.ref,t.return=n,n.child=t}function Xf(t,n,i,u,h){if(t!==null){var d=t.memoizedProps;if(co(d,u)&&t.ref===n.ref)if(bt=!1,n.pendingProps=u=d,(t.lanes&h)!==0)t.flags&131072&&(bt=!0);else return n.lanes=t.lanes,or(t,n,h)}return Wu(t,n,i,u,h)}function Yf(t,n,i){var u=n.pendingProps,h=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ms,nn),nn|=i;else{if(!(i&1073741824))return t=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Be(ms,nn),nn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:i,Be(ms,nn),nn|=u}else d!==null?(u=d.baseLanes|i,n.memoizedState=null):u=i,Be(ms,nn),nn|=u;return Mt(t,n,h,i),n.child}function Jf(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Wu(t,n,i,u,h){var d=$t(i)?ai:Ct.current;return d=ss(n,d),hs(n,h),i=Uu(t,n,i,u,d,h),u=zu(),t!==null&&!bt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,or(t,n,h)):(qe&&u&&wu(n),n.flags|=1,Mt(t,n,i,h),n.child)}function Zf(t,n,i,u,h){if($t(i)){var d=!0;Vl(n)}else d=!1;if(hs(n,h),n.stateNode===null)Gl(t,n),jf(n,i,u),Hu(n,i,u,h),u=!0;else if(t===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var A=y.context,F=i.contextType;typeof F=="object"&&F!==null?F=cn(F):(F=$t(i)?ai:Ct.current,F=ss(n,F));var b=i.getDerivedStateFromProps,q=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function";q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||A!==F)&&$f(n,y,u,F),Cr=!1;var $=n.memoizedState;y.state=$,Bl(n,u,y,h),A=n.memoizedState,w!==u||$!==A||jt.current||Cr?(typeof b=="function"&&(qu(n,i,b,u),A=n.memoizedState),(w=Cr||Bf(n,i,w,u,$,A,F))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=A),y.props=u,y.state=A,y.context=F,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,mf(t,n),w=n.memoizedProps,F=n.type===n.elementType?w:An(n.type,w),y.props=F,q=n.pendingProps,$=y.context,A=i.contextType,typeof A=="object"&&A!==null?A=cn(A):(A=$t(i)?ai:Ct.current,A=ss(n,A));var Y=i.getDerivedStateFromProps;(b=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==q||$!==A)&&$f(n,y,u,A),Cr=!1,$=n.memoizedState,y.state=$,Bl(n,u,y,h);var re=n.memoizedState;w!==q||$!==re||jt.current||Cr?(typeof Y=="function"&&(qu(n,i,Y,u),re=n.memoizedState),(F=Cr||Bf(n,i,F,u,$,re,A)||!1)?(b||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=A,u=F):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),u=!1)}return Gu(t,n,i,u,d,h)}function Gu(t,n,i,u,h,d){Jf(t,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&rf(n,i,!1),or(t,n,d);u=n.stateNode,Dg.current=n;var w=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&y?(n.child=us(n,t.child,null,d),n.child=us(n,null,w,d)):Mt(t,n,w,d),n.memoizedState=u.state,h&&rf(n,i,!0),n.child}function ed(t){var n=t.stateNode;n.pendingContext?tf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&tf(t,n.context,!1),xu(t,n.containerInfo)}function td(t,n,i,u,h){return as(),Au(h),n.flags|=256,Mt(t,n,i,u),n.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function Yu(t){return{baseLanes:t,cachePool:null,transitions:null}}function nd(t,n,i){var u=n.pendingProps,h=He.current,d=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(d=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Be(He,h&1),t===null)return Iu(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=u.children,t=u.fallback,d?(u=n.mode,d=n.child,y={mode:"hidden",children:y},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=y):d=la(y,u,0,null),t=vi(t,u,i,null),d.return=n,t.return=n,d.sibling=t,n.child=d,n.child.memoizedState=Yu(i),n.memoizedState=Xu,t):Ju(n,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return Vg(t,n,y,u,w,h,i);if(d){d=u.fallback,y=n.mode,h=t.child,w=h.sibling;var A={mode:"hidden",children:u.children};return!(y&1)&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=A,n.deletions=null):(u=Nr(h,A),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?d=Nr(w,d):(d=vi(d,y,i,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,y=t.child.memoizedState,y=y===null?Yu(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=t.childLanes&~i,n.memoizedState=Xu,u}return d=t.child,t=d.sibling,u=Nr(d,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=i),u.return=n,u.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=u,n.memoizedState=null,u}function Ju(t,n){return n=la({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Wl(t,n,i,u){return u!==null&&Au(u),us(n,t.child,null,i),t=Ju(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Vg(t,n,i,u,h,d,y){if(i)return n.flags&256?(n.flags&=-257,u=Qu(Error(r(422))),Wl(t,n,y,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=la({mode:"visible",children:u.children},h,0,null),d=vi(d,h,y,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,n.mode&1&&us(n,t.child,null,y),n.child.memoizedState=Yu(y),n.memoizedState=Xu,d);if(!(n.mode&1))return Wl(t,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,d=Error(r(419)),u=Qu(d,u,void 0),Wl(t,n,y,u)}if(w=(y&t.childLanes)!==0,bt||w){if(u=mt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,ir(t,h),Pn(u,t,h,-1))}return pc(),u=Qu(Error(r(421))),Wl(t,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=qg.bind(null,t),h._reactRetry=n,null):(t=d.treeContext,tn=Tr(h.nextSibling),en=n,qe=!0,In=null,t!==null&&(an[un++]=nr,an[un++]=rr,an[un++]=ui,nr=t.id,rr=t.overflow,ui=n),n=Ju(n,u.children),n.flags|=4096,n)}function rd(t,n,i){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),ku(t.return,n,i)}function Zu(t,n,i,u,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=i,d.tailMode=h)}function id(t,n,i){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Mt(t,n,u.children,i),u=He.current,u&2)u=u&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rd(t,i,n);else if(t.tag===19)rd(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Be(He,u),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)t=i.alternate,t!==null&&jl(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Zu(n,!1,h,i,d);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&jl(t)===null){n.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Zu(n,!0,i,null,d);break;case"together":Zu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gl(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function or(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),pi|=n.lanes,!(i&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,i=Nr(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Nr(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function xg(t,n,i){switch(n.tag){case 3:ed(n),as();break;case 5:vf(n);break;case 1:$t(n.type)&&Vl(n);break;case 4:xu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Be(Fl,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Be(He,He.current&1),n.flags|=128,null):i&n.child.childLanes?nd(t,n,i):(Be(He,He.current&1),t=or(t,n,i),t!==null?t.sibling:null);Be(He,He.current&1);break;case 19:if(u=(i&n.childLanes)!==0,t.flags&128){if(u)return id(t,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(He,He.current),u)break;return null;case 22:case 23:return n.lanes=0,Yf(t,n,i)}return or(t,n,i)}var sd,ec,od,ld;sd=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ec=function(){},od=function(t,n,i,u){var h=t.memoizedProps;if(h!==u){t=n.stateNode,fi(Fn.current);var d=null;switch(i){case"input":h=Hr(t,h),u=Hr(t,u),d=[];break;case"select":h=J({},h,{value:void 0}),u=J({},u,{value:void 0}),d=[];break;case"textarea":h=zs(t,h),u=zs(t,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Pl)}Hs(i,u);var y;i=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(y in w)w.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?d||(d=[]):(d=d||[]).push(F,null));for(F in u){var A=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&A!==w&&(A!=null||w!=null))if(F==="style")if(w){for(y in w)!w.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in A)A.hasOwnProperty(y)&&w[y]!==A[y]&&(i||(i={}),i[y]=A[y])}else i||(d||(d=[]),d.push(F,i)),i=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,w=w?w.__html:void 0,A!=null&&w!==A&&(d=d||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(d=d||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&je("scroll",t),d||w===A||(d=[])):(d=d||[]).push(F,A))}i&&(d=d||[]).push("style",i);var F=d;(n.updateQueue=F)&&(n.flags|=4)}},ld=function(t,n,i,u){i!==u&&(n.flags|=4)};function Co(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,u=0;if(n)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=i,n}function Ng(t,n,i){var u=n.pendingProps;switch(Tu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return $t(n.type)&&Dl(),Pt(n),null;case 3:return u=n.stateNode,fs(),$e(jt),$e(Ct),Ou(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ol(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,In!==null&&(hc(In),In=null))),ec(t,n),Pt(n),null;case 5:Nu(n);var h=fi(wo.current);if(i=n.type,t!==null&&n.stateNode!=null)od(t,n,i,u,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Pt(n),null}if(t=fi(Fn.current),Ol(n)){u=n.stateNode,i=n.type;var d=n.memoizedProps;switch(u[Mn]=n,u[go]=d,t=(n.mode&1)!==0,i){case"dialog":je("cancel",u),je("close",u);break;case"iframe":case"object":case"embed":je("load",u);break;case"video":case"audio":for(h=0;h<fo.length;h++)je(fo[h],u);break;case"source":je("error",u);break;case"img":case"image":case"link":je("error",u),je("load",u);break;case"details":je("toggle",u);break;case"input":Ri(u,d),je("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},je("invalid",u);break;case"textarea":ki(u,d),je("invalid",u)}Hs(i,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var w=d[y];y==="children"?typeof w=="string"?u.textContent!==w&&(d.suppressHydrationWarning!==!0&&Rl(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Rl(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&je("scroll",u)}switch(i){case"input":qn(u),Zo(u,d,!0);break;case"textarea":qn(u),Bs(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Pl)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=st(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(i,{is:u.is}):(t=y.createElement(i),i==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,i),t[Mn]=n,t[go]=u,sd(t,n,!1,!1),n.stateNode=t;e:{switch(y=Qs(i,u),i){case"dialog":je("cancel",t),je("close",t),h=u;break;case"iframe":case"object":case"embed":je("load",t),h=u;break;case"video":case"audio":for(h=0;h<fo.length;h++)je(fo[h],t);h=u;break;case"source":je("error",t),h=u;break;case"img":case"image":case"link":je("error",t),je("load",t),h=u;break;case"details":je("toggle",t),h=u;break;case"input":Ri(t,u),h=Hr(t,u),je("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=J({},u,{value:void 0}),je("invalid",t);break;case"textarea":ki(t,u),h=zs(t,u),je("invalid",t);break;default:h=u}Hs(i,h),w=h;for(d in w)if(w.hasOwnProperty(d)){var A=w[d];d==="style"?bs(t,A):d==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&js(t,A)):d==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&hr(t,A):typeof A=="number"&&hr(t,""+A):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?A!=null&&d==="onScroll"&&je("scroll",t):A!=null&&ve(t,d,A,y))}switch(i){case"input":qn(t),Zo(t,u,!1);break;case"textarea":qn(t),Bs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,d=u.value,d!=null?Qn(t,!!u.multiple,d,!1):u.defaultValue!=null&&Qn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Pl)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(t&&n.stateNode!=null)ld(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=fi(wo.current),fi(Fn.current),Ol(n)){if(u=n.stateNode,i=n.memoizedProps,u[Mn]=n,(d=u.nodeValue!==i)&&(t=en,t!==null))switch(t.tag){case 3:Rl(u.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rl(u.nodeValue,i,(t.mode&1)!==0)}d&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Mn]=n,n.stateNode=u}return Pt(n),null;case 13:if($e(He),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&tn!==null&&n.mode&1&&!(n.flags&128))cf(),as(),n.flags|=98560,d=!1;else if(d=Ol(n),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Mn]=n}else as(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pt(n),d=!1}else In!==null&&(hc(In),In=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(t===null||He.current&1?ut===0&&(ut=3):pc())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return fs(),ec(t,n),t===null&&po(n.stateNode.containerInfo),Pt(n),null;case 10:return Pu(n.type._context),Pt(n),null;case 17:return $t(n.type)&&Dl(),Pt(n),null;case 19:if($e(He),d=n.memoizedState,d===null)return Pt(n),null;if(u=(n.flags&128)!==0,y=d.rendering,y===null)if(u)Co(d,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(y=jl(t),y!==null){for(n.flags|=128,Co(d,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)d=i,t=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,t=y.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Be(He,He.current&1|2),n.child}t=t.sibling}d.tail!==null&&ze()>gs&&(n.flags|=128,u=!0,Co(d,!1),n.lanes=4194304)}else{if(!u)if(t=jl(y),t!==null){if(n.flags|=128,u=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Co(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!qe)return Pt(n),null}else 2*ze()-d.renderingStartTime>gs&&i!==1073741824&&(n.flags|=128,u=!0,Co(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(i=d.last,i!==null?i.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ze(),n.sibling=null,i=He.current,Be(He,u?i&1|2:i&1),n):(Pt(n),null);case 22:case 23:return dc(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?nn&1073741824&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Lg(t,n){switch(Tu(n),n.tag){case 1:return $t(n.type)&&Dl(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return fs(),$e(jt),$e(Ct),Ou(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return Nu(n),null;case 13:if($e(He),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));as()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $e(He),null;case 4:return fs(),null;case 10:return Pu(n.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var Xl=!1,kt=!1,Og=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ps(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){We(t,n,u)}else i.current=null}function tc(t,n,i){try{i()}catch(u){We(t,n,u)}}var ad=!1;function Mg(t,n){if(du=_r,t=zh(),su(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,w=-1,A=-1,F=0,b=0,q=t,$=null;t:for(;;){for(var Y;q!==i||h!==0&&q.nodeType!==3||(w=y+h),q!==d||u!==0&&q.nodeType!==3||(A=y+u),q.nodeType===3&&(y+=q.nodeValue.length),(Y=q.firstChild)!==null;)$=q,q=Y;for(;;){if(q===t)break t;if($===i&&++F===h&&(w=y),$===d&&++b===u&&(A=y),(Y=q.nextSibling)!==null)break;q=$,$=q.parentNode}q=Y}i=w===-1||A===-1?null:{start:w,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(pu={focusedElem:t,selectionRange:i},_r=!1,ne=n;ne!==null;)if(n=ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ne=t;else for(;ne!==null;){n=ne;try{var re=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,Ze=re.memoizedState,L=n.stateNode,R=L.getSnapshotBeforeUpdate(n.elementType===n.type?ie:An(n.type,ie),Ze);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var O=n.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){We(n,n.return,Q)}if(t=n.sibling,t!==null){t.return=n.return,ne=t;break}ne=n.return}return re=ad,ad=!1,re}function Ro(t,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var d=h.destroy;h.destroy=void 0,d!==void 0&&tc(n,i,d)}h=h.next}while(h!==u)}}function Yl(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function nc(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function ud(t){var n=t.alternate;n!==null&&(t.alternate=null,ud(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Mn],delete n[go],delete n[vu],delete n[vg],delete n[_g])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cd(t){return t.tag===5||t.tag===3||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rc(t,n,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Pl));else if(u!==4&&(t=t.child,t!==null))for(rc(t,n,i),t=t.sibling;t!==null;)rc(t,n,i),t=t.sibling}function ic(t,n,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(ic(t,n,i),t=t.sibling;t!==null;)ic(t,n,i),t=t.sibling}var Et=null,Cn=!1;function Pr(t,n,i){for(i=i.child;i!==null;)fd(t,n,i),i=i.sibling}function fd(t,n,i){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ei,i)}catch{}switch(i.tag){case 5:kt||ps(i,n);case 6:var u=Et,h=Cn;Et=null,Pr(t,n,i),Et=u,Cn=h,Et!==null&&(Cn?(t=Et,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):Et.removeChild(i.stateNode));break;case 18:Et!==null&&(Cn?(t=Et,i=i.stateNode,t.nodeType===8?yu(t.parentNode,i):t.nodeType===1&&yu(t,i),wn(t)):yu(Et,i.stateNode));break;case 4:u=Et,h=Cn,Et=i.stateNode.containerInfo,Cn=!0,Pr(t,n,i),Et=u,Cn=h;break;case 0:case 11:case 14:case 15:if(!kt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&(d&2||d&4)&&tc(i,n,y),h=h.next}while(h!==u)}Pr(t,n,i);break;case 1:if(!kt&&(ps(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(w){We(i,n,w)}Pr(t,n,i);break;case 21:Pr(t,n,i);break;case 22:i.mode&1?(kt=(u=kt)||i.memoizedState!==null,Pr(t,n,i),kt=u):Pr(t,n,i);break;default:Pr(t,n,i)}}function dd(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Og),n.forEach(function(u){var h=Hg.bind(null,t,u);i.has(u)||(i.add(u),u.then(h,h))})}}function Rn(t,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var d=t,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:Et=w.stateNode,Cn=!1;break e;case 3:Et=w.stateNode.containerInfo,Cn=!0;break e;case 4:Et=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(Et===null)throw Error(r(160));fd(d,y,h),Et=null,Cn=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(F){We(h,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)pd(n,t),n=n.sibling}function pd(t,n){var i=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(n,t),zn(t),u&4){try{Ro(3,t,t.return),Yl(3,t)}catch(ie){We(t,t.return,ie)}try{Ro(5,t,t.return)}catch(ie){We(t,t.return,ie)}}break;case 1:Rn(n,t),zn(t),u&512&&i!==null&&ps(i,i.return);break;case 5:if(Rn(n,t),zn(t),u&512&&i!==null&&ps(i,i.return),t.flags&32){var h=t.stateNode;try{hr(h,"")}catch(ie){We(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var d=t.memoizedProps,y=i!==null?i.memoizedProps:d,w=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Fs(h,d),Qs(w,y);var F=Qs(w,d);for(y=0;y<A.length;y+=2){var b=A[y],q=A[y+1];b==="style"?bs(h,q):b==="dangerouslySetInnerHTML"?js(h,q):b==="children"?hr(h,q):ve(h,b,q,F)}switch(w){case"input":Us(h,d);break;case"textarea":Di(h,d);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?Qn(h,!!d.multiple,Y,!1):$!==!!d.multiple&&(d.defaultValue!=null?Qn(h,!!d.multiple,d.defaultValue,!0):Qn(h,!!d.multiple,d.multiple?[]:"",!1))}h[go]=d}catch(ie){We(t,t.return,ie)}}break;case 6:if(Rn(n,t),zn(t),u&4){if(t.stateNode===null)throw Error(r(162));h=t.stateNode,d=t.memoizedProps;try{h.nodeValue=d}catch(ie){We(t,t.return,ie)}}break;case 3:if(Rn(n,t),zn(t),u&4&&i!==null&&i.memoizedState.isDehydrated)try{wn(n.containerInfo)}catch(ie){We(t,t.return,ie)}break;case 4:Rn(n,t),zn(t);break;case 13:Rn(n,t),zn(t),h=t.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(lc=ze())),u&4&&dd(t);break;case 22:if(b=i!==null&&i.memoizedState!==null,t.mode&1?(kt=(F=kt)||b,Rn(n,t),kt=F):Rn(n,t),zn(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!b&&t.mode&1)for(ne=t,b=t.child;b!==null;){for(q=ne=b;ne!==null;){switch($=ne,Y=$.child,$.tag){case 0:case 11:case 14:case 15:Ro(4,$,$.return);break;case 1:ps($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,i=$.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){We(u,i,ie)}}break;case 5:ps($,$.return);break;case 22:if($.memoizedState!==null){yd(q);continue}}Y!==null?(Y.return=$,ne=Y):yd(q)}b=b.sibling}e:for(b=null,q=t;;){if(q.tag===5){if(b===null){b=q;try{h=q.stateNode,F?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=q.stateNode,A=q.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,w.style.display=$s("display",y))}catch(ie){We(t,t.return,ie)}}}else if(q.tag===6){if(b===null)try{q.stateNode.nodeValue=F?"":q.memoizedProps}catch(ie){We(t,t.return,ie)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===t)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===t)break e;for(;q.sibling===null;){if(q.return===null||q.return===t)break e;b===q&&(b=null),q=q.return}b===q&&(b=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Rn(n,t),zn(t),u&4&&dd(t);break;case 21:break;default:Rn(n,t),zn(t)}}function zn(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(cd(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(hr(h,""),u.flags&=-33);var d=hd(t);ic(t,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=hd(t);rc(t,w,y);break;default:throw Error(r(161))}}catch(A){We(t,t.return,A)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fg(t,n,i){ne=t,md(t)}function md(t,n,i){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Xl;if(!y){var w=h.alternate,A=w!==null&&w.memoizedState!==null||kt;w=Xl;var F=kt;if(Xl=y,(kt=A)&&!F)for(ne=h;ne!==null;)y=ne,A=y.child,y.tag===22&&y.memoizedState!==null?vd(h):A!==null?(A.return=y,ne=A):vd(h);for(;d!==null;)ne=d,md(d),d=d.sibling;ne=h,Xl=w,kt=F}gd(t)}else h.subtreeFlags&8772&&d!==null?(d.return=h,ne=d):gd(t)}}function gd(t){for(;ne!==null;){var n=ne;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:kt||Yl(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!kt)if(i===null)u.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:An(n.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&yf(n,d,u);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}yf(n,y,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var b=F.memoizedState;if(b!==null){var q=b.dehydrated;q!==null&&wn(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}kt||n.flags&512&&nc(n)}catch($){We(n,n.return,$)}}if(n===t){ne=null;break}if(i=n.sibling,i!==null){i.return=n.return,ne=i;break}ne=n.return}}function yd(t){for(;ne!==null;){var n=ne;if(n===t){ne=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ne=i;break}ne=n.return}}function vd(t){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Yl(4,n)}catch(A){We(n,i,A)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(A){We(n,h,A)}}var d=n.return;try{nc(n)}catch(A){We(n,d,A)}break;case 5:var y=n.return;try{nc(n)}catch(A){We(n,y,A)}}}catch(A){We(n,n.return,A)}if(n===t){ne=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ne=w;break}ne=n.return}}var Ug=Math.ceil,Jl=_e.ReactCurrentDispatcher,sc=_e.ReactCurrentOwner,fn=_e.ReactCurrentBatchConfig,ke=0,mt=null,rt=null,wt=0,nn=0,ms=Sr(0),ut=0,Po=null,pi=0,Zl=0,oc=0,ko=null,qt=null,lc=0,gs=1/0,lr=null,ea=!1,ac=null,kr=null,ta=!1,Dr=null,na=0,Do=0,uc=null,ra=-1,ia=0;function Ft(){return ke&6?ze():ra!==-1?ra:ra=ze()}function Vr(t){return t.mode&1?ke&2&&wt!==0?wt&-wt:wg.transition!==null?(ia===0&&(ia=ni()),ia):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:ro(t.type)),t):1}function Pn(t,n,i,u){if(50<Do)throw Do=0,uc=null,Error(r(185));mr(t,i,u),(!(ke&2)||t!==mt)&&(t===mt&&(!(ke&2)&&(Zl|=i),ut===4&&xr(t,wt)),Ht(t,u),i===1&&ke===0&&!(n.mode&1)&&(gs=ze()+500,xl&&Ar()))}function Ht(t,n){var i=t.callbackNode;Gn(t,n);var u=ti(t,t===mt?wt:0);if(u===0)i!==null&&Js(i),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(i!=null&&Js(i),n===1)t.tag===0?Eg(Ed.bind(null,t)):sf(Ed.bind(null,t)),gg(function(){!(ke&6)&&Ar()}),i=null;else{switch(yr(u)){case 1:i=Zr;break;case 4:i=fr;break;case 16:i=sn;break;case 536870912:i=il;break;default:i=sn}i=Pd(i,_d.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function _d(t,n){if(ra=-1,ia=0,ke&6)throw Error(r(327));var i=t.callbackNode;if(ys()&&t.callbackNode!==i)return null;var u=ti(t,t===mt?wt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||n)n=sa(t,u);else{n=u;var h=ke;ke|=2;var d=Td();(mt!==t||wt!==n)&&(lr=null,gs=ze()+500,gi(t,n));do try{jg();break}catch(w){wd(t,w)}while(!0);Ru(),Jl.current=d,ke=h,rt!==null?n=0:(mt=null,wt=0,n=ut)}if(n!==0){if(n===2&&(h=Yt(t),h!==0&&(u=h,n=cc(t,h))),n===1)throw i=Po,gi(t,0),xr(t,u),Ht(t,ze()),i;if(n===6)xr(t,u);else{if(h=t.current.alternate,!(u&30)&&!zg(h)&&(n=sa(t,u),n===2&&(d=Yt(t),d!==0&&(u=d,n=cc(t,d))),n===1))throw i=Po,gi(t,0),xr(t,u),Ht(t,ze()),i;switch(t.finishedWork=h,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:yi(t,qt,lr);break;case 3:if(xr(t,u),(u&130023424)===u&&(n=lc+500-ze(),10<n)){if(ti(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ft(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=gu(yi.bind(null,t,qt,lr),n);break}yi(t,qt,lr);break;case 4:if(xr(t,u),(u&4194240)===u)break;for(n=t.eventTimes,h=-1;0<u;){var y=31-Lt(u);d=1<<y,y=n[y],y>h&&(h=y),u&=~d}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ug(u/1960))-u,10<u){t.timeoutHandle=gu(yi.bind(null,t,qt,lr),u);break}yi(t,qt,lr);break;case 5:yi(t,qt,lr);break;default:throw Error(r(329))}}}return Ht(t,ze()),t.callbackNode===i?_d.bind(null,t):null}function cc(t,n){var i=ko;return t.current.memoizedState.isDehydrated&&(gi(t,n).flags|=256),t=sa(t,n),t!==2&&(n=qt,qt=i,n!==null&&hc(n)),t}function hc(t){qt===null?qt=t:qt.push.apply(qt,t)}function zg(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xr(t,n){for(n&=~oc,n&=~Zl,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-Lt(n),u=1<<i;t[i]=-1,n&=~u}}function Ed(t){if(ke&6)throw Error(r(327));ys();var n=ti(t,0);if(!(n&1))return Ht(t,ze()),null;var i=sa(t,n);if(t.tag!==0&&i===2){var u=Yt(t);u!==0&&(n=u,i=cc(t,u))}if(i===1)throw i=Po,gi(t,0),xr(t,n),Ht(t,ze()),i;if(i===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,yi(t,qt,lr),Ht(t,ze()),null}function fc(t,n){var i=ke;ke|=1;try{return t(n)}finally{ke=i,ke===0&&(gs=ze()+500,xl&&Ar())}}function mi(t){Dr!==null&&Dr.tag===0&&!(ke&6)&&ys();var n=ke;ke|=1;var i=fn.transition,u=Ee;try{if(fn.transition=null,Ee=1,t)return t()}finally{Ee=u,fn.transition=i,ke=n,!(ke&6)&&Ar()}}function dc(){nn=ms.current,$e(ms)}function gi(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,mg(i)),rt!==null)for(i=rt.return;i!==null;){var u=i;switch(Tu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Dl();break;case 3:fs(),$e(jt),$e(Ct),Ou();break;case 5:Nu(u);break;case 4:fs();break;case 13:$e(He);break;case 19:$e(He);break;case 10:Pu(u.type._context);break;case 22:case 23:dc()}i=i.return}if(mt=t,rt=t=Nr(t.current,null),wt=nn=n,ut=0,Po=null,oc=Zl=pi=0,qt=ko=null,hi!==null){for(n=0;n<hi.length;n++)if(i=hi[n],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,d=i.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}i.pending=u}hi=null}return t}function wd(t,n){do{var i=rt;try{if(Ru(),$l.current=Ql,bl){for(var u=Qe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}bl=!1}if(di=0,pt=at=Qe=null,To=!1,So=0,sc.current=null,i===null||i.return===null){ut=1,Po=n,rt=null;break}e:{var d=t,y=i.return,w=i,A=n;if(n=wt,w.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,b=w,q=b.tag;if(!(b.mode&1)&&(q===0||q===11||q===15)){var $=b.alternate;$?(b.updateQueue=$.updateQueue,b.memoizedState=$.memoizedState,b.lanes=$.lanes):(b.updateQueue=null,b.memoizedState=null)}var Y=Qf(y);if(Y!==null){Y.flags&=-257,Kf(Y,y,w,d,n),Y.mode&1&&Hf(d,F,n),n=Y,A=F;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(A),n.updateQueue=ie}else re.add(A);break e}else{if(!(n&1)){Hf(d,F,n),pc();break e}A=Error(r(426))}}else if(qe&&w.mode&1){var Ze=Qf(y);if(Ze!==null){!(Ze.flags&65536)&&(Ze.flags|=256),Kf(Ze,y,w,d,n),Au(ds(A,w));break e}}d=A=ds(A,w),ut!==4&&(ut=2),ko===null?ko=[d]:ko.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var L=bf(d,A,n);gf(d,L);break e;case 1:w=A;var R=d.type,O=d.stateNode;if(!(d.flags&128)&&(typeof R.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(kr===null||!kr.has(O)))){d.flags|=65536,n&=-n,d.lanes|=n;var Q=qf(d,w,n);gf(d,Q);break e}}d=d.return}while(d!==null)}Id(i)}catch(se){n=se,rt===i&&i!==null&&(rt=i=i.return);continue}break}while(!0)}function Td(){var t=Jl.current;return Jl.current=Ql,t===null?Ql:t}function pc(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(pi&268435455)&&!(Zl&268435455)||xr(mt,wt)}function sa(t,n){var i=ke;ke|=2;var u=Td();(mt!==t||wt!==n)&&(lr=null,gi(t,n));do try{Bg();break}catch(h){wd(t,h)}while(!0);if(Ru(),ke=i,Jl.current=u,rt!==null)throw Error(r(261));return mt=null,wt=0,ut}function Bg(){for(;rt!==null;)Sd(rt)}function jg(){for(;rt!==null&&!nl();)Sd(rt)}function Sd(t){var n=Rd(t.alternate,t,nn);t.memoizedProps=t.pendingProps,n===null?Id(t):rt=n,sc.current=null}function Id(t){var n=t;do{var i=n.alternate;if(t=n.return,n.flags&32768){if(i=Lg(i,n),i!==null){i.flags&=32767,rt=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,rt=null;return}}else if(i=Ng(i,n,nn),i!==null){rt=i;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=t}while(n!==null);ut===0&&(ut=5)}function yi(t,n,i){var u=Ee,h=fn.transition;try{fn.transition=null,Ee=1,$g(t,n,i,u)}finally{fn.transition=h,Ee=u}return null}function $g(t,n,i,u){do ys();while(Dr!==null);if(ke&6)throw Error(r(327));i=t.finishedWork;var h=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var d=i.lanes|i.childLanes;if(Fe(t,d),t===mt&&(rt=mt=null,wt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ta||(ta=!0,Pd(sn,function(){return ys(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=fn.transition,fn.transition=null;var y=Ee;Ee=1;var w=ke;ke|=4,sc.current=null,Mg(t,i),pd(i,t),ag(pu),_r=!!du,pu=du=null,t.current=i,Fg(i),Ya(),ke=w,Ee=y,fn.transition=d}else t.current=i;if(ta&&(ta=!1,Dr=t,na=h),d=t.pendingLanes,d===0&&(kr=null),sl(i.stateNode),Ht(t,ze()),n!==null)for(u=t.onRecoverableError,i=0;i<n.length;i++)h=n[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(ea)throw ea=!1,t=ac,ac=null,t;return na&1&&t.tag!==0&&ys(),d=t.pendingLanes,d&1?t===uc?Do++:(Do=0,uc=t):Do=0,Ar(),null}function ys(){if(Dr!==null){var t=yr(na),n=fn.transition,i=Ee;try{if(fn.transition=null,Ee=16>t?16:t,Dr===null)var u=!1;else{if(t=Dr,Dr=null,na=0,ke&6)throw Error(r(331));var h=ke;for(ke|=4,ne=t.current;ne!==null;){var d=ne,y=d.child;if(ne.flags&16){var w=d.deletions;if(w!==null){for(var A=0;A<w.length;A++){var F=w[A];for(ne=F;ne!==null;){var b=ne;switch(b.tag){case 0:case 11:case 15:Ro(8,b,d)}var q=b.child;if(q!==null)q.return=b,ne=q;else for(;ne!==null;){b=ne;var $=b.sibling,Y=b.return;if(ud(b),b===F){ne=null;break}if($!==null){$.return=Y,ne=$;break}ne=Y}}}var re=d.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var Ze=ie.sibling;ie.sibling=null,ie=Ze}while(ie!==null)}}ne=d}}if(d.subtreeFlags&2064&&y!==null)y.return=d,ne=y;else e:for(;ne!==null;){if(d=ne,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ro(9,d,d.return)}var L=d.sibling;if(L!==null){L.return=d.return,ne=L;break e}ne=d.return}}var R=t.current;for(ne=R;ne!==null;){y=ne;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,ne=O;else e:for(y=R;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Yl(9,w)}}catch(se){We(w,w.return,se)}if(w===y){ne=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,ne=Q;break e}ne=w.return}}if(ke=h,Ar(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ei,t)}catch{}u=!0}return u}finally{Ee=i,fn.transition=n}}return!1}function Ad(t,n,i){n=ds(i,n),n=bf(t,n,1),t=Rr(t,n,1),n=Ft(),t!==null&&(mr(t,1,n),Ht(t,n))}function We(t,n,i){if(t.tag===3)Ad(t,t,i);else for(;n!==null;){if(n.tag===3){Ad(n,t,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kr===null||!kr.has(u))){t=ds(i,t),t=qf(n,t,1),n=Rr(n,t,1),t=Ft(),n!==null&&(mr(n,1,t),Ht(n,t));break}}n=n.return}}function bg(t,n,i){var u=t.pingCache;u!==null&&u.delete(n),n=Ft(),t.pingedLanes|=t.suspendedLanes&i,mt===t&&(wt&i)===i&&(ut===4||ut===3&&(wt&130023424)===wt&&500>ze()-lc?gi(t,0):oc|=i),Ht(t,n)}function Cd(t,n){n===0&&(t.mode&1?(n=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):n=1);var i=Ft();t=ir(t,n),t!==null&&(mr(t,n,i),Ht(t,i))}function qg(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),Cd(t,i)}function Hg(t,n){var i=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Cd(t,i)}var Rd;Rd=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||jt.current)bt=!0;else{if(!(t.lanes&i)&&!(n.flags&128))return bt=!1,xg(t,n,i);bt=!!(t.flags&131072)}else bt=!1,qe&&n.flags&1048576&&of(n,Ll,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Gl(t,n),t=n.pendingProps;var h=ss(n,Ct.current);hs(n,i),h=Uu(null,n,u,t,h,i);var d=zu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$t(u)?(d=!0,Vl(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Vu(n),h.updater=Kl,n.stateNode=h,h._reactInternals=n,Hu(n,u,t,i),n=Gu(null,n,u,!0,d,i)):(n.tag=0,qe&&d&&wu(n),Mt(null,n,h,i),n=n.child),n;case 16:u=n.elementType;e:{switch(Gl(t,n),t=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Kg(u),t=An(u,t),h){case 0:n=Wu(null,n,u,t,i);break e;case 1:n=Zf(null,n,u,t,i);break e;case 11:n=Wf(null,n,u,t,i);break e;case 14:n=Gf(null,n,u,An(u.type,t),i);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Wu(t,n,u,h,i);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Zf(t,n,u,h,i);case 3:e:{if(ed(n),t===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,mf(t,n),Bl(n,u,null,i);var y=n.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=ds(Error(r(423)),n),n=td(t,n,u,i,h);break e}else if(u!==h){h=ds(Error(r(424)),n),n=td(t,n,u,i,h);break e}else for(tn=Tr(n.stateNode.containerInfo.firstChild),en=n,qe=!0,In=null,i=df(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(as(),u===h){n=or(t,n,i);break e}Mt(t,n,u,i)}n=n.child}return n;case 5:return vf(n),t===null&&Iu(n),u=n.type,h=n.pendingProps,d=t!==null?t.memoizedProps:null,y=h.children,mu(u,h)?y=null:d!==null&&mu(u,d)&&(n.flags|=32),Jf(t,n),Mt(t,n,y,i),n.child;case 6:return t===null&&Iu(n),null;case 13:return nd(t,n,i);case 4:return xu(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=us(n,null,u,i):Mt(t,n,u,i),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Wf(t,n,u,h,i);case 7:return Mt(t,n,n.pendingProps,i),n.child;case 8:return Mt(t,n,n.pendingProps.children,i),n.child;case 12:return Mt(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,Be(Fl,u._currentValue),u._currentValue=y,d!==null)if(Sn(d.value,y)){if(d.children===h.children&&!jt.current){n=or(t,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){y=d.child;for(var A=w.firstContext;A!==null;){if(A.context===u){if(d.tag===1){A=sr(-1,i&-i),A.tag=2;var F=d.updateQueue;if(F!==null){F=F.shared;var b=F.pending;b===null?A.next=A:(A.next=b.next,b.next=A),F.pending=A}}d.lanes|=i,A=d.alternate,A!==null&&(A.lanes|=i),ku(d.return,i,n),w.lanes|=i;break}A=A.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=i,w=y.alternate,w!==null&&(w.lanes|=i),ku(y,i,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Mt(t,n,h.children,i),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,hs(n,i),h=cn(h),u=u(h),n.flags|=1,Mt(t,n,u,i),n.child;case 14:return u=n.type,h=An(u,n.pendingProps),h=An(u.type,h),Gf(t,n,u,h,i);case 15:return Xf(t,n,n.type,n.pendingProps,i);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Gl(t,n),n.tag=1,$t(u)?(t=!0,Vl(n)):t=!1,hs(n,i),jf(n,u,h),Hu(n,u,h,i),Gu(null,n,u,!0,t,i);case 19:return id(t,n,i);case 22:return Yf(t,n,i)}throw Error(r(156,n.tag))};function Pd(t,n){return Ui(t,n)}function Qg(t,n,i,u){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,i,u){return new Qg(t,n,i,u)}function mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kg(t){if(typeof t=="function")return mc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===It)return 14}return 2}function Nr(t,n){var i=t.alternate;return i===null?(i=dn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function oa(t,n,i,u,h,d){var y=2;if(u=t,typeof t=="function")mc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return vi(i.children,h,d,n);case T:y=8,h|=8;break;case I:return t=dn(12,i,n,h|2),t.elementType=I,t.lanes=d,t;case S:return t=dn(13,i,n,h),t.elementType=S,t.lanes=d,t;case Ye:return t=dn(19,i,n,h),t.elementType=Ye,t.lanes=d,t;case Me:return la(i,h,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:y=10;break e;case D:y=9;break e;case x:y=11;break e;case It:y=14;break e;case At:y=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=dn(y,i,n,h),n.elementType=t,n.type=u,n.lanes=d,n}function vi(t,n,i,u){return t=dn(7,t,u,n),t.lanes=i,t}function la(t,n,i,u){return t=dn(22,t,u,n),t.elementType=Me,t.lanes=i,t.stateNode={isHidden:!1},t}function gc(t,n,i){return t=dn(6,t,null,n),t.lanes=i,t}function yc(t,n,i){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Wg(t,n,i,u,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function vc(t,n,i,u,h,d,y,w,A){return t=new Wg(t,n,i,w,A),n===1?(n=1,d===!0&&(n|=8)):n=0,d=dn(3,null,null,n),t.current=d,d.stateNode=t,d.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(d),t}function Gg(t,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:u==null?null:""+u,children:t,containerInfo:n,implementation:i}}function kd(t){if(!t)return Ir;t=t._reactInternals;e:{if(gn(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($t(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var i=t.type;if($t(i))return nf(t,i,n)}return n}function Dd(t,n,i,u,h,d,y,w,A){return t=vc(i,u,!0,t,h,d,y,w,A),t.context=kd(null),i=t.current,u=Ft(),h=Vr(i),d=sr(u,h),d.callback=n??null,Rr(i,d,h),t.current.lanes=h,mr(t,h,u),Ht(t,u),t}function aa(t,n,i,u){var h=n.current,d=Ft(),y=Vr(h);return i=kd(i),n.context===null?n.context=i:n.pendingContext=i,n=sr(d,y),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=Rr(h,n,y),t!==null&&(Pn(t,h,y,d),zl(t,h,y)),y}function ua(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vd(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function _c(t,n){Vd(t,n),(t=t.alternate)&&Vd(t,n)}var xd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ec(t){this._internalRoot=t}ca.prototype.render=Ec.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));aa(t,n,null,null)},ca.prototype.unmount=Ec.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;mi(function(){aa(null,t,null,null)}),n[er]=null}};function ca(t){this._internalRoot=t}ca.prototype.unstable_scheduleHydration=function(t){if(t){var n=cl();t={blockedOn:null,target:t,priority:n};for(var i=0;i<xn.length&&n!==0&&n<xn[i].priority;i++);xn.splice(i,0,t),i===0&&dl(t)}};function wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ha(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nd(){}function Xg(t,n,i,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var F=ua(y);d.call(F)}}var y=Dd(n,u,t,0,null,!1,!1,"",Nd);return t._reactRootContainer=y,t[er]=y.current,po(t.nodeType===8?t.parentNode:t),mi(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=ua(A);w.call(F)}}var A=vc(t,0,!1,null,null,!1,!1,"",Nd);return t._reactRootContainer=A,t[er]=A.current,po(t.nodeType===8?t.parentNode:t),mi(function(){aa(n,A,i,u)}),A}function fa(t,n,i,u,h){var d=i._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var w=h;h=function(){var A=ua(y);w.call(A)}}aa(n,y,t,h)}else y=Xg(i,n,t,h,u);return ua(y)}al=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=dr(n.pendingLanes);i!==0&&(gr(n,i|1),Ht(n,ze()),!(ke&6)&&(gs=ze()+500,Ar()))}break;case 13:mi(function(){var u=ir(t,1);if(u!==null){var h=Ft();Pn(u,t,1,h)}}),_c(t,1)}},ji=function(t){if(t.tag===13){var n=ir(t,134217728);if(n!==null){var i=Ft();Pn(n,t,134217728,i)}_c(t,134217728)}},ul=function(t){if(t.tag===13){var n=Vr(t),i=ir(t,n);if(i!==null){var u=Ft();Pn(i,t,n,u)}_c(t,n)}},cl=function(){return Ee},hl=function(t,n){var i=Ee;try{return Ee=t,n()}finally{Ee=i}},xi=function(t,n,i){switch(n){case"input":if(Us(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==t&&u.form===t.form){var h=kl(u);if(!h)throw Error(r(90));Ci(u),Us(u,h)}}}break;case"textarea":Di(t,i);break;case"select":n=i.value,n!=null&&Qn(t,!!i.multiple,n,!1)}},Gr=fc,Ws=mi;var Yg={usingClientEntryPoint:!1,Events:[yo,rs,kl,Dn,Ks,fc]},Vo={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jg={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ys(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{ei=da.inject(Jg),Xt=da}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yg,Qt.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(n))throw Error(r(200));return Gg(t,n,null,i)},Qt.createRoot=function(t,n){if(!wc(t))throw Error(r(299));var i=!1,u="",h=xd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=vc(t,1,!1,null,null,i,!1,u,h),t[er]=n.current,po(t.nodeType===8?t.parentNode:t),new Ec(n)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Ys(n),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return mi(t)},Qt.hydrate=function(t,n,i){if(!ha(n))throw Error(r(200));return fa(null,t,n,!0,i)},Qt.hydrateRoot=function(t,n,i){if(!wc(t))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,h=!1,d="",y=xd;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=Dd(n,null,t,1,i??null,h,!1,d,y),t[er]=n.current,po(t),u)for(t=0;t<u.length;t++)i=u[t],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new ca(n)},Qt.render=function(t,n,i){if(!ha(n))throw Error(r(200));return fa(null,t,n,!1,i)},Qt.unmountComponentAtNode=function(t){if(!ha(t))throw Error(r(40));return t._reactRootContainer?(mi(function(){fa(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1},Qt.unstable_batchedUpdates=fc,Qt.unstable_renderSubtreeIntoContainer=function(t,n,i,u){if(!ha(i))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return fa(t,n,i,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var jd;function oy(){if(jd)return Ic.exports;jd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ic.exports=sy(),Ic.exports}var $d;function ly(){if($d)return pa;$d=1;var s=oy();return pa.createRoot=s.createRoot,pa.hydrateRoot=s.hydrateRoot,pa}var ay=ly(),bd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=function(s){const e=[];let r=0;for(let o=0;o<s.length;o++){let a=s.charCodeAt(o);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++o)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},uy=function(s){const e=[];let r=0,o=0;for(;r<s.length;){const a=s[r++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=s[r++];e[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=s[r++],p=s[r++],g=s[r++],v=((a&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const c=s[r++],p=s[r++];e[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|p&63)}}return e.join("")},bp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<s.length;a+=3){const c=s[a],p=a+1<s.length,g=p?s[a+1]:0,v=a+2<s.length,E=v?s[a+2]:0,C=c>>2,M=(c&3)<<4|g>>4;let z=(g&15)<<2|E>>6,H=E&63;v||(H=64,p||(z=64)),o.push(r[C],r[M],r[z],r[H])}return o.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($p(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):uy(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<s.length;){const c=r[s.charAt(a++)],g=a<s.length?r[s.charAt(a)]:0;++a;const E=a<s.length?r[s.charAt(a)]:64;++a;const M=a<s.length?r[s.charAt(a)]:64;if(++a,c==null||g==null||E==null||M==null)throw new cy;const z=c<<2|g>>4;if(o.push(z),E!==64){const H=g<<4&240|E>>2;if(o.push(H),M!==64){const te=E<<6&192|M;o.push(te)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hy=function(s){const e=$p(s);return bp.encodeByteArray(e,!0)},Ca=function(s){return hy(s).replace(/\./g,"")},fy=function(s){try{return bp.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=()=>dy().__FIREBASE_DEFAULTS__,my=()=>{if(typeof process>"u"||typeof bd>"u")return;const s=bd.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gy=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&fy(s[1]);return e&&JSON.parse(e)},sh=()=>{try{return py()||my()||gy()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},yy=s=>{var e,r;return(r=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[s]},vy=s=>{const e=yy(s);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},qp=()=>{var s;return(s=sh())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",a=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ca(JSON.stringify(r)),Ca(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ty(){var s;const e=(s=sh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sy(){return!Ty()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iy(){try{return typeof indexedDB=="object"}catch{return!1}}function Ay(){return new Promise((s,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="FirebaseError";class xs extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=Cy,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hp.prototype.create)}}class Hp{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},a=`${this.service}/${e}`,c=this.errors[e],p=c?Ry(c,o):"Error",g=`${this.serviceName}: ${p} (${a}).`;return new xs(a,g,o)}}function Ry(s,e){return s.replace(Py,(r,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const Py=/\{\$([^}]+)}/g;function Mc(s,e){if(s===e)return!0;const r=Object.keys(s),o=Object.keys(e);for(const a of r){if(!o.includes(a))return!1;const c=s[a],p=e[a];if(qd(c)&&qd(p)){if(!Mc(c,p))return!1}else if(c!==p)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function qd(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(s){return s&&s._delegate?s._delegate:s}class $o{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new _y;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xy(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(a)}return a}onInit(e,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(a,c);const p=this.instances.get(a);return p&&e(p,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Vy(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vy(s){return s===_i?void 0:s}function xy(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Dy(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ie||(Ie={}));const Ly={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Oy=Ie.INFO,My={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Fy=(s,e,...r)=>{if(e<s.logLevel)return;const o=new Date().toISOString(),a=My[e];if(a)console[a](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=Oy,this._logHandler=Fy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ly[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const Uy=(s,e)=>e.some(r=>s instanceof r);let Hd,Qd;function zy(){return Hd||(Hd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function By(){return Qd||(Qd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kp=new WeakMap,Fc=new WeakMap,Wp=new WeakMap,Rc=new WeakMap,oh=new WeakMap;function jy(s){const e=new Promise((r,o)=>{const a=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(Fr(s.result)),a()},p=()=>{o(s.error),a()};s.addEventListener("success",c),s.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&Kp.set(r,s)}).catch(()=>{}),oh.set(e,s),e}function $y(s){if(Fc.has(s))return;const e=new Promise((r,o)=>{const a=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),a()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});Fc.set(s,e)}let Uc={get(s,e,r){if(s instanceof IDBTransaction){if(e==="done")return Fc.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Wp.get(s);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fr(s[e])},set(s,e,r){return s[e]=r,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function by(s){Uc=s(Uc)}function qy(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=s.call(Pc(this),e,...r);return Wp.set(o,e.sort?e.sort():[e]),Fr(o)}:By().includes(s)?function(...e){return s.apply(Pc(this),e),Fr(Kp.get(this))}:function(...e){return Fr(s.apply(Pc(this),e))}}function Hy(s){return typeof s=="function"?qy(s):(s instanceof IDBTransaction&&$y(s),Uy(s,zy())?new Proxy(s,Uc):s)}function Fr(s){if(s instanceof IDBRequest)return jy(s);if(Rc.has(s))return Rc.get(s);const e=Hy(s);return e!==s&&(Rc.set(s,e),oh.set(e,s)),e}const Pc=s=>oh.get(s);function Qy(s,e,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const p=indexedDB.open(s,e),g=Fr(p);return o&&p.addEventListener("upgradeneeded",v=>{o(Fr(p.result),v.oldVersion,v.newVersion,Fr(p.transaction),v)}),r&&p.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),a&&v.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Ky=["get","getKey","getAll","getAllKeys","count"],Wy=["put","add","delete","clear"],kc=new Map;function Kd(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(kc.get(e))return kc.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,a=Wy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Ky.includes(r)))return;const c=async function(p,...g){const v=this.transaction(p,a?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),a&&v.done]))[0]};return kc.set(e,c),c}by(s=>({...s,get:(e,r,o)=>Kd(e,r)||s.get(e,r,o),has:(e,r)=>!!Kd(e,r)||s.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Xy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Xy(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zc="@firebase/app",Wd="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Qp("@firebase/app"),Yy="@firebase/app-compat",Jy="@firebase/analytics-compat",Zy="@firebase/analytics",ev="@firebase/app-check-compat",tv="@firebase/app-check",nv="@firebase/auth",rv="@firebase/auth-compat",iv="@firebase/database",sv="@firebase/data-connect",ov="@firebase/database-compat",lv="@firebase/functions",av="@firebase/functions-compat",uv="@firebase/installations",cv="@firebase/installations-compat",hv="@firebase/messaging",fv="@firebase/messaging-compat",dv="@firebase/performance",pv="@firebase/performance-compat",mv="@firebase/remote-config",gv="@firebase/remote-config-compat",yv="@firebase/storage",vv="@firebase/storage-compat",_v="@firebase/firestore",Ev="@firebase/vertexai",wv="@firebase/firestore-compat",Tv="firebase",Sv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="[DEFAULT]",Iv={[zc]:"fire-core",[Yy]:"fire-core-compat",[Zy]:"fire-analytics",[Jy]:"fire-analytics-compat",[tv]:"fire-app-check",[ev]:"fire-app-check-compat",[nv]:"fire-auth",[rv]:"fire-auth-compat",[iv]:"fire-rtdb",[sv]:"fire-data-connect",[ov]:"fire-rtdb-compat",[lv]:"fire-fn",[av]:"fire-fn-compat",[uv]:"fire-iid",[cv]:"fire-iid-compat",[hv]:"fire-fcm",[fv]:"fire-fcm-compat",[dv]:"fire-perf",[pv]:"fire-perf-compat",[mv]:"fire-rc",[gv]:"fire-rc-compat",[yv]:"fire-gcs",[vv]:"fire-gcs-compat",[_v]:"fire-fst",[wv]:"fire-fst-compat",[Ev]:"fire-vertex","fire-js":"fire-js",[Tv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Map,Av=new Map,jc=new Map;function Gd(s,e){try{s.container.addComponent(e)}catch(r){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,r)}}function Pa(s){const e=s.name;if(jc.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;jc.set(e,s);for(const r of Ra.values())Gd(r,s);for(const r of Av.values())Gd(r,s);return!0}function Cv(s,e){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Hp("app","Firebase",Rv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=Sv;function Gp(s,e={}){let r=s;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Bc,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw Ur.create("bad-app-name",{appName:String(a)});if(r||(r=qp()),!r)throw Ur.create("no-options");const c=Ra.get(a);if(c){if(Mc(r,c.options)&&Mc(o,c.config))return c;throw Ur.create("duplicate-app",{appName:a})}const p=new Ny(a);for(const v of jc.values())p.addComponent(v);const g=new Pv(r,o,p);return Ra.set(a,g),g}function Dv(s=Bc){const e=Ra.get(s);if(!e&&s===Bc&&qp())return Gp();if(!e)throw Ur.create("no-app",{appName:s});return e}function Ts(s,e,r){var o;let a=(o=Iv[s])!==null&&o!==void 0?o:s;r&&(a+=`-${r}`);const c=a.match(/\s|\//),p=e.match(/\s|\//);if(c||p){const g=[`Unable to register library "${a}" with version "${e}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(g.join(" "));return}Pa(new $o(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="firebase-heartbeat-database",xv=1,bo="firebase-heartbeat-store";let Dc=null;function Xp(){return Dc||(Dc=Qy(Vv,xv,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(bo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Ur.create("idb-open",{originalErrorMessage:s.message})})),Dc}async function Nv(s){try{const r=(await Xp()).transaction(bo),o=await r.objectStore(bo).get(Yp(s));return await r.done,o}catch(e){if(e instanceof xs)ar.warn(e.message);else{const r=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(r.message)}}}async function Xd(s,e){try{const o=(await Xp()).transaction(bo,"readwrite");await o.objectStore(bo).put(e,Yp(s)),await o.done}catch(r){if(r instanceof xs)ar.warn(r.message);else{const o=Ur.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ar.warn(o.message)}}}function Yp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=1024,Ov=30*24*60*60*1e3;class Mv{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Uv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Yd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=Ov}),this._storage.overwrite(this._heartbeatsCache))}catch(o){ar.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Yd(),{heartbeatsToSend:o,unsentEntries:a}=Fv(this._heartbeatsCache.heartbeats),c=Ca(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return ar.warn(r),""}}}function Yd(){return new Date().toISOString().substring(0,10)}function Fv(s,e=Lv){const r=[];let o=s.slice();for(const a of s){const c=r.find(p=>p.agent===a.agent);if(c){if(c.dates.push(a.date),Jd(r)>e){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Jd(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Uv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iy()?Ay().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Nv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Xd(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Xd(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Jd(s){return Ca(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(s){Pa(new $o("platform-logger",e=>new Gy(e),"PRIVATE")),Pa(new $o("heartbeat",e=>new Mv(e),"PRIVATE")),Ts(zc,Wd,s),Ts(zc,Wd,"esm2017"),Ts("fire-js","")}zv("");var Bv="firebase",jv="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(Bv,jv,"app");var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,Jp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(P,D,x){for(var S=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)S[Ye-2]=arguments[Ye];return T.prototype[D].apply(P,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)P[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],D=k.g[2];var x=k.g[3],S=T+(x^I&(D^x))+P[0]+3614090360&4294967295;T=I+(S<<7&4294967295|S>>>25),S=x+(D^T&(I^D))+P[1]+3905402710&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(I^x&(T^I))+P[2]+606105819&4294967295,D=x+(S<<17&4294967295|S>>>15),S=I+(T^D&(x^T))+P[3]+3250441966&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(x^I&(D^x))+P[4]+4118548399&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(D^T&(I^D))+P[5]+1200080426&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(I^x&(T^I))+P[6]+2821735955&4294967295,D=x+(S<<17&4294967295|S>>>15),S=I+(T^D&(x^T))+P[7]+4249261313&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(x^I&(D^x))+P[8]+1770035416&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(D^T&(I^D))+P[9]+2336552879&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(I^x&(T^I))+P[10]+4294925233&4294967295,D=x+(S<<17&4294967295|S>>>15),S=I+(T^D&(x^T))+P[11]+2304563134&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(x^I&(D^x))+P[12]+1804603682&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(D^T&(I^D))+P[13]+4254626195&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(I^x&(T^I))+P[14]+2792965006&4294967295,D=x+(S<<17&4294967295|S>>>15),S=I+(T^D&(x^T))+P[15]+1236535329&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(D^x&(I^D))+P[1]+4129170786&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^D&(T^I))+P[6]+3225465664&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(x^T))+P[11]+643717713&4294967295,D=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(D^x))+P[0]+3921069994&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(I^D))+P[5]+3593408605&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^D&(T^I))+P[10]+38016083&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(x^T))+P[15]+3634488961&4294967295,D=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(D^x))+P[4]+3889429448&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(I^D))+P[9]+568446438&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^D&(T^I))+P[14]+3275163606&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(x^T))+P[3]+4107603335&4294967295,D=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(D^x))+P[8]+1163531501&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(I^D))+P[13]+2850285829&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^D&(T^I))+P[2]+4243563512&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(x^T))+P[7]+1735328473&4294967295,D=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(D^x))+P[12]+2368359562&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(I^D^x)+P[5]+4294588738&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^D)+P[8]+2272392833&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^I)+P[11]+1839030562&4294967295,D=x+(S<<16&4294967295|S>>>16),S=I+(D^x^T)+P[14]+4259657740&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^x)+P[1]+2763975236&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^D)+P[4]+1272893353&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^I)+P[7]+4139469664&4294967295,D=x+(S<<16&4294967295|S>>>16),S=I+(D^x^T)+P[10]+3200236656&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^x)+P[13]+681279174&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^D)+P[0]+3936430074&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^I)+P[3]+3572445317&4294967295,D=x+(S<<16&4294967295|S>>>16),S=I+(D^x^T)+P[6]+76029189&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^x)+P[9]+3654602809&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^D)+P[12]+3873151461&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^I)+P[15]+530742520&4294967295,D=x+(S<<16&4294967295|S>>>16),S=I+(D^x^T)+P[2]+3299628645&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(D^(I|~x))+P[0]+4096336452&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~D))+P[7]+1126891415&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~I))+P[14]+2878612391&4294967295,D=x+(S<<15&4294967295|S>>>17),S=I+(x^(D|~T))+P[5]+4237533241&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~x))+P[12]+1700485571&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~D))+P[3]+2399980690&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~I))+P[10]+4293915773&4294967295,D=x+(S<<15&4294967295|S>>>17),S=I+(x^(D|~T))+P[1]+2240044497&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~x))+P[8]+1873313359&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~D))+P[15]+4264355552&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~I))+P[6]+2734768916&4294967295,D=x+(S<<15&4294967295|S>>>17),S=I+(x^(D|~T))+P[13]+1309151649&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~x))+P[4]+4149444226&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~D))+P[11]+3174756917&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~I))+P[2]+718787259&4294967295,D=x+(S<<15&4294967295|S>>>17),S=I+(x^(D|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+x&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,P=this.B,D=this.h,x=0;x<T;){if(D==0)for(;x<=I;)a(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<T;)if(P[D++]=k.charCodeAt(x++),D==this.blockSize){a(this,P),D=0;break}}else for(;x<T;)if(P[D++]=k[x++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)k[I++]=this.g[T]>>>P&255;return k};function c(k,T){var I=g;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function p(k,T){this.h=T;for(var I=[],P=!0,D=k.length-1;0<=D;D--){var x=k[D]|0;P&&x==T||(I[D]=x,P=!1)}this.g=I}var g={};function v(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return M;if(0>k)return K(E(-k));for(var T=[],I=1,P=0;k>=I;P++)T[P]=k/I|0,I*=4294967296;return new p(T,0)}function C(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return K(C(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=E(Math.pow(T,8)),P=M,D=0;D<k.length;D+=8){var x=Math.min(8,k.length-D),S=parseInt(k.substring(D,D+x),T);8>x?(x=E(Math.pow(T,x)),P=P.j(x).add(E(S))):(P=P.j(I),P=P.add(E(S)))}return P}var M=v(0),z=v(1),H=v(16777216);s=p.prototype,s.m=function(){if(Z(this))return-K(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(te(this))return"0";if(Z(this))return"-"+K(this).toString(k);for(var T=E(Math.pow(k,6)),I=this,P="";;){var D=_e(I,T).g;I=xe(I,D.j(T));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=D,te(I))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function te(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function Z(k){return k.h==-1}s.l=function(k){return k=xe(this,k),Z(k)?-1:te(k)?0:1};function K(k){for(var T=k.g.length,I=[],P=0;P<T;P++)I[P]=~k.g[P];return new p(I,~k.h).add(z)}s.abs=function(){return Z(this)?K(this):this},s.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0,D=0;D<=T;D++){var x=P+(this.i(D)&65535)+(k.i(D)&65535),S=(x>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);P=S>>>16,x&=65535,S&=65535,I[D]=S<<16|x}return new p(I,I[I.length-1]&-2147483648?-1:0)};function xe(k,T){return k.add(K(T))}s.j=function(k){if(te(this)||te(k))return M;if(Z(this))return Z(k)?K(this).j(K(k)):K(K(this).j(k));if(Z(k))return K(this.j(K(k)));if(0>this.l(H)&&0>k.l(H))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<k.g.length;D++){var x=this.i(P)>>>16,S=this.i(P)&65535,Ye=k.i(D)>>>16,It=k.i(D)&65535;I[2*P+2*D]+=S*It,Re(I,2*P+2*D),I[2*P+2*D+1]+=x*It,Re(I,2*P+2*D+1),I[2*P+2*D+1]+=S*Ye,Re(I,2*P+2*D+1),I[2*P+2*D+2]+=x*Ye,Re(I,2*P+2*D+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new p(I,0)};function Re(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ve(k,T){this.g=k,this.h=T}function _e(k,T){if(te(T))throw Error("division by zero");if(te(k))return new ve(M,M);if(Z(k))return T=_e(K(k),T),new ve(K(T.g),K(T.h));if(Z(T))return T=_e(k,K(T)),new ve(K(T.g),T.h);if(30<k.g.length){if(Z(k)||Z(T))throw Error("slowDivide_ only works with positive integers.");for(var I=z,P=T;0>=P.l(k);)I=Xe(I),P=Xe(P);var D=Pe(I,1),x=Pe(P,1);for(P=Pe(P,2),I=Pe(I,2);!te(P);){var S=x.add(P);0>=S.l(k)&&(D=D.add(I),x=S),P=Pe(P,1),I=Pe(I,1)}return T=xe(k,D.j(T)),new ve(D,T)}for(D=M;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=E(I),S=x.j(T);Z(S)||0<S.l(k);)I-=P,x=E(I),S=x.j(T);te(x)&&(x=z),D=D.add(x),k=xe(k,S)}return new ve(D,k)}s.A=function(k){return _e(this,k).h},s.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&k.i(P);return new p(I,this.h&k.h)},s.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|k.i(P);return new p(I,this.h|k.h)},s.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^k.i(P);return new p(I,this.h^k.h)};function Xe(k){for(var T=k.g.length+1,I=[],P=0;P<T;P++)I[P]=k.i(P)<<1|k.i(P-1)>>>31;return new p(I,k.h)}function Pe(k,T){var I=T>>5;T%=32;for(var P=k.g.length-I,D=[],x=0;x<P;x++)D[x]=0<T?k.i(x+I)>>>T|k.i(x+I+1)<<32-T:k.i(x+I);return new p(D,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Jp=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=C,wi=p}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});var ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zp,Oo,em,wa,$c,tm,nm,rm;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ma=="object"&&ma];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function a(l,f){if(f)e:{var m=o;l=l.split(".");for(var _=0;_<l.length-1;_++){var N=l[_];if(!(N in m))break e;m=m[N]}l=l[l.length-1],_=m[l],f=f(_),f!=_&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var m=0,_=!1,N={next:function(){if(!_&&m<l.length){var U=m++;return{value:f(U,l[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function v(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function E(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function C(l,f,m){return l.call.apply(l.bind,arguments)}function M(l,f,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,_),l.apply(f,N)}}return function(){return l.apply(f,arguments)}}function z(l,f,m){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C:M,z.apply(null,arguments)}function H(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function te(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,N,U){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return f.prototype[N].apply(_,W)}}function Z(l){const f=l.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=l[_];return m}return[]}function K(l,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const N=l.length||0,U=_.length||0;l.length=N+U;for(let W=0;W<U;W++)l[N+W]=_[W]}else l.push(_)}}class xe{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Re(l){return/^[\s\xa0]*$/.test(l)}function ve(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function _e(l){return _e[" "](l),l}_e[" "]=function(){};var Xe=ve().indexOf("Gecko")!=-1&&!(ve().toLowerCase().indexOf("webkit")!=-1&&ve().indexOf("Edge")==-1)&&!(ve().indexOf("Trident")!=-1||ve().indexOf("MSIE")!=-1)&&ve().indexOf("Edge")==-1;function Pe(l,f,m){for(const _ in l)f.call(m,l[_],_,l)}function k(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function T(l){const f={};for(const m in l)f[m]=l[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let m,_;for(let N=1;N<arguments.length;N++){_=arguments[N];for(m in _)l[m]=_[m];for(let U=0;U<I.length;U++)m=I[U],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function D(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function x(l){g.setTimeout(()=>{throw l},0)}function S(){var l=le;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ye{constructor(){this.h=this.g=null}add(f,m){const _=It.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var It=new xe(()=>new At,l=>l.reset());class At{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,G=!1,le=new Ye,J=()=>{const l=g.Promise.resolve(void 0);Me=()=>{l.then(V)}};var V=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){x(m)}var f=It;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}G=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return l}();function ge(l,f){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Xe){e:{try{_e(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:we[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ge.aa.h.call(this)}}te(ge,oe);var we={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Ue(l,f,m,_,N){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=N,this.key=++Le,this.da=this.fa=!1}function ft(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function qn(l){this.src=l,this.g={},this.h=0}qn.prototype.add=function(l,f,m,_,N){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var W=cr(l,f,_,N);return-1<W?(f=l[W],m||(f.fa=!1)):(f=new Ue(f,this.src,U,!!_,N),f.fa=m,l.push(f)),f};function Ci(l,f){var m=f.type;if(m in l.g){var _=l.g[m],N=Array.prototype.indexOf.call(_,f,void 0),U;(U=0<=N)&&Array.prototype.splice.call(_,N,1),U&&(ft(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function cr(l,f,m,_){for(var N=0;N<l.length;++N){var U=l[N];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==_)return N}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),Ri={};function Fs(l,f,m,_,N){if(Array.isArray(f)){for(var U=0;U<f.length;U++)Fs(l,f[U],m,_,N);return null}return m=Bs(m),l&&l[Ne]?l.K(f,m,E(_)?!!_.capture:!!_,N):Us(l,f,m,!1,_,N)}function Us(l,f,m,_,N,U){if(!f)throw Error("Invalid event type");var W=E(N)?!!N.capture:!!N,Oe=ki(l);if(Oe||(l[Hr]=Oe=new qn(l)),m=Oe.add(f,m,_,W,U),m.proxy)return m;if(_=Zo(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)me||(N=W),N===void 0&&(N=!1),l.addEventListener(f.toString(),_,N);else if(l.attachEvent)l.attachEvent(Qn(f.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Zo(){function l(m){return f.call(l.src,l.listener,m)}const f=zs;return l}function Pi(l,f,m,_,N){if(Array.isArray(f))for(var U=0;U<f.length;U++)Pi(l,f[U],m,_,N);else _=E(_)?!!_.capture:!!_,m=Bs(m),l&&l[Ne]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],m=cr(U,m,_,N),-1<m&&(ft(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=ki(l))&&(f=l.g[f.toString()],l=-1,f&&(l=cr(f,m,_,N)),(m=-1<l?f[l]:null)&&Hn(m))}function Hn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ne])Ci(f.i,l);else{var m=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(m,_,l.capture):f.detachEvent?f.detachEvent(Qn(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=ki(f))?(Ci(m,l),m.h==0&&(m.src=null,f[Hr]=null)):ft(l)}}}function Qn(l){return l in Ri?Ri[l]:Ri[l]="on"+l}function zs(l,f){if(l.da)l=!0;else{f=new ge(f,this);var m=l.listener,_=l.ha||l.src;l.fa&&Hn(l),l=m.call(_,f)}return l}function ki(l){return l=l[Hr],l instanceof qn?l:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(l){return typeof l=="function"?l:(l[Di]||(l[Di]=function(f){return l.handleEvent(f)}),l[Di])}function st(){B.call(this),this.i=new qn(this),this.M=this,this.F=null}te(st,B),st.prototype[Ne]=!0,st.prototype.removeEventListener=function(l,f,m,_){Pi(this,l,f,m,_)};function ot(l,f){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=f.type||f,typeof f=="string")f=new oe(f,l);else if(f instanceof oe)f.target=f.target||l;else{var N=f;f=new oe(_,l),P(f,N)}if(N=!0,m)for(var U=m.length-1;0<=U;U--){var W=f.g=m[U];N=Kn(W,_,!0,f)&&N}if(W=f.g=l,N=Kn(W,_,!0,f)&&N,N=Kn(W,_,!1,f)&&N,m)for(U=0;U<m.length;U++)W=f.g=m[U],N=Kn(W,_,!1,f)&&N}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],_=0;_<m.length;_++)ft(m[_]);delete l.g[f],l.h--}}this.F=null},st.prototype.K=function(l,f,m,_){return this.i.add(String(l),f,!1,m,_)},st.prototype.L=function(l,f,m,_){return this.i.add(String(l),f,!0,m,_)};function Kn(l,f,m,_){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,U=0;U<f.length;++U){var W=f[U];if(W&&!W.da&&W.capture==m){var Oe=W.listener,lt=W.ha||W.src;W.fa&&Ci(l.i,W),N=Oe.call(lt,_)!==!1&&N}}return N&&!_.defaultPrevented}function js(l,f,m){if(typeof l=="function")m&&(l=z(l,m));else if(l&&typeof l.handleEvent=="function")l=z(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(l,f||0)}function hr(l){l.g=js(()=>{l.g=null,l.i&&(l.i=!1,hr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Qr extends B{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(l){B.call(this),this.h=l,this.g={}}te(Kr,B);var $s=[];function bs(l){Pe(l.g,function(f,m){this.g.hasOwnProperty(m)&&Hn(f)},l),l.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),bs(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=g.JSON.stringify,Hs=g.JSON.parse,Qs=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function Wr(){}Wr.prototype.h=null;function Vi(l){return l.h||(l.h=l.i())}function xi(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){oe.call(this,"d")}te(kn,oe);function Ni(){oe.call(this,"c")}te(Ni,oe);var Dn={},Ks=null;function Gr(){return Ks=Ks||new st}Dn.La="serverreachability";function Ws(l){oe.call(this,Dn.La,l)}te(Ws,oe);function Wn(l){const f=Gr();ot(f,new Ws(f))}Dn.STAT_EVENT="statevent";function Gs(l,f){oe.call(this,Dn.STAT_EVENT,l),this.stat=f}te(Gs,oe);function Je(l){const f=Gr();ot(f,new Gs(f,l))}Dn.Ma="timingevent";function Li(l,f){oe.call(this,Dn.Ma,l),this.size=f}te(Li,oe);function pn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},f)}function Xr(){this.g=!0}Xr.prototype.xa=function(){this.g=!1};function Yr(l,f,m,_,N,U){l.info(function(){if(l.g)if(U)for(var W="",Oe=U.split("&"),lt=0;lt<Oe.length;lt++){var Te=Oe[lt].split("=");if(1<Te.length){var dt=Te[0];Te=Te[1];var nt=dt.split("_");W=2<=nt.length&&nt[1]=="type"?W+(dt+"="+Te+"&"):W+(dt+"=redacted&")}}else W=null;else W=U;return"XMLHTTP REQ ("+_+") [attempt "+N+"]: "+f+`
`+m+`
`+W})}function Oi(l,f,m,_,N,U,W){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+N+"]: "+f+`
`+m+`
`+U+" "+W})}function mn(l,f,m,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Xa(l,m)+(_?" "+_:"")})}function Xs(l,f){l.info(function(){return"TIMEOUT: "+f})}Xr.prototype.info=function(){};function Xa(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var N=_[1];if(Array.isArray(N)&&!(1>N.length)){var U=N[0];if(U!="noop"&&U!="stop"&&U!="close")for(var W=1;W<N.length;W++)N[W]=""}}}}return qs(m)}catch{return f}}var Mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},el={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function Jr(){}te(Jr,Wr),Jr.prototype.g=function(){return new XMLHttpRequest},Jr.prototype.i=function(){return{}},gn=new Jr;function yn(l,f,m,_){this.j=l,this.i=f,this.l=m,this.R=_||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tl}function tl(){this.i=null,this.g="",this.h=!1}var Ys={},Fi={};function Ui(l,f,m){l.L=1,l.v=gr(Yt(f)),l.m=m,l.P=!0,Js(l,null)}function Js(l,f){l.F=Date.now(),ze(l),l.A=Yt(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),vr(m.i,"t",_),l.C=0,m=l.j.J,l.h=new tl,l.g=_l(l.j,m?f:null,!l.m),0<l.O&&(l.M=new Qr(z(l.Y,l,l.g),l.O)),f=l.U,m=l.g,_=l.ca;var N="readystatechange";Array.isArray(N)||(N&&($s[0]=N.toString()),N=$s);for(var U=0;U<N.length;U++){var W=Fs(m,N[U],_||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Wn(),Yr(l.i,l.u,l.A,l.l,l.R,l.m)}yn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Bt(l)==3?f.j():this.Y(l)},yn.prototype.Y=function(l){try{if(l==this.g)e:{const nt=Bt(this.g);var f=this.g.Ba();const ln=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||io(this.g)))){this.J||nt!=4||f==7||(f==8||0>=ln?Wn(3):Wn(2)),Zr(this);var m=this.g.Z();this.X=m;t:if(nl(this)){var _=io(this.g);l="";var N=_.length,U=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),fr(this);var W="";break t}this.h.i=new g.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(U&&f==N-1)});_.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Oi(this.i,this.u,this.A,this.l,this.R,nt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,lt=this.g;if((Oe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Re(Oe)){var Te=Oe;break t}}Te=null}if(m=Te)mn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,m);else{this.o=!1,this.s=3,Je(12),sn(this),fr(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<W.length;)if(Zt=Ya(this,W),Zt==Fi){nt==4&&(this.s=4,Je(14),m=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Ys){this.s=4,Je(15),mn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else mn(this.i,this.l,Zt,null),Zs(this,Zt);if(nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||W.length!=0||this.h.h||(this.s=1,Je(16),m=!1),this.o=this.o&&m,!m)mn(this.i,this.l,W,"[Invalid Chunked Response]"),sn(this),fr(this);else if(0<W.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),oo(dt),dt.M=!0,Je(11))}}else mn(this.i,this.l,W,null),Zs(this,W);nt==4&&sn(this),this.o&&!this.J&&(nt==4?Gi(this.j,this):(this.o=!1,ze(this)))}else qi(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),sn(this),fr(this)}}}catch{}finally{}};function nl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ya(l,f){var m=l.C,_=f.indexOf(`
`,m);return _==-1?Fi:(m=Number(f.substring(m,_)),isNaN(m)?Ys:(_+=1,_+m>f.length?Fi:(f=f.slice(_,_+m),l.C=_+m,f)))}yn.prototype.cancel=function(){this.J=!0,sn(this)};function ze(l){l.S=Date.now()+l.I,rl(l,l.I)}function rl(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=pn(z(l.ba,l),f)}function Zr(l){l.B&&(g.clearTimeout(l.B),l.B=null)}yn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Xs(this.i,this.A),this.L!=2&&(Wn(),Je(17)),sn(this),this.s=2,fr(this)):rl(this,this.S-l)};function fr(l){l.j.G==0||l.J||Gi(l.j,l)}function sn(l){Zr(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,bs(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Zs(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Lt(m.h,l))){if(!l.K&&Lt(m.h,l)&&m.G==3){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var N=_;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Wi(m),Tn(m);else break e;Ki(m),Je(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=pn(z(m.Za,m),6e3));if(1>=sl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zn(m,11)}else if((l.K||m.g==l)&&Wi(m),!Re(f))for(N=m.Da.g.parse(f),f=0;f<N.length;f++){let Te=N[f];if(m.T=Te[0],Te=Te[1],m.G==2)if(Te[0]=="c"){m.K=Te[1],m.ia=Te[2];const dt=Te[3];dt!=null&&(m.la=dt,m.j.info("VER="+m.la));const nt=Te[4];nt!=null&&(m.Aa=nt,m.j.info("SVER="+m.Aa));const ln=Te[5];ln!=null&&typeof ln=="number"&&0<ln&&(_=1.5*ln,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Zt=l.g;if(Zt){const oi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var U=_.h;U.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(eo(U,U.h),U.h=null))}if(_.D){const Yi=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yi&&(_.ya=Yi,Fe(_.I,_.D,Yi))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var W=l;if(_.qa=vl(_,_.J?_.ia:null,_.W),W.K){ol(_.h,W);var Oe=W,lt=_.L;lt&&(Oe.I=lt),Oe.B&&(Zr(Oe),ze(Oe)),_.g=W}else si(_);0<m.i.length&&Ln(m)}else Te[0]!="stop"&&Te[0]!="close"||Zn(m,7);else m.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Zn(m,7):_t(m):Te[0]!="noop"&&m.l&&m.l.ta(Te),m.v=0)}}Wn(4)}catch{}}var il=class{constructor(l,f){this.g=l,this.map=f}};function ei(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function sl(l){return l.h?1:l.g?l.g.size:0}function Lt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function eo(l,f){l.g?l.g.add(f):l.h=f}function ol(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}ei.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ll(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return Z(l.i)}function zi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(v(l)){for(var f=[],m=l.length,_=0;_<m;_++)f.push(l[_]);return f}f=[],m=0;for(_ in l)f[m++]=l[_];return f}function Bi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(v(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const _ in l)f[m++]=_;return f}}}function dr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(v(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=Bi(l),_=zi(l),N=_.length,U=0;U<N;U++)f.call(void 0,_[U],m&&m[U],l)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),N=null;if(0<=_){var U=l[m].substring(0,_);N=l[m].substring(_+1)}else U=l[m];f(U,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Gn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Gn){this.h=l.h,ni(this,l.j),this.o=l.o,this.g=l.g,pr(this,l.s),this.l=l.l;var f=l.i,m=new Vn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),mr(this,m),this.m=l.m}else l&&(f=String(l).match(ti))?(this.h=!1,ni(this,f[1]||"",!0),this.o=Ee(f[2]||""),this.g=Ee(f[3]||"",!0),pr(this,f[4]),this.l=Ee(f[5]||"",!0),mr(this,f[6]||"",!0),this.m=Ee(f[7]||"")):(this.h=!1,this.i=new Vn(null,this.h))}Gn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(yr(f,ji,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(yr(f,ji,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(yr(m,m.charAt(0)=="/"?cl:ul,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",yr(m,to)),l.join("")};function Yt(l){return new Gn(l)}function ni(l,f,m){l.j=m?Ee(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function pr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function mr(l,f,m){f instanceof Vn?(l.i=f,xn(l.i,l.h)):(m||(f=yr(f,hl)),l.i=new Vn(f,l.h))}function Fe(l,f,m){l.i.set(f,m)}function gr(l){return Fe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ee(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function yr(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,al),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function al(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ji=/[#\/\?@]/g,ul=/[#\?:]/g,cl=/[#\?]/g,hl=/[#\?@]/g,to=/#/g;function Vn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function vt(l){l.g||(l.g=new Map,l.h=0,l.i&&Ja(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}s=Vn.prototype,s.add=function(l,f){vt(this),this.i=null,l=on(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function vn(l,f){vt(l),f=on(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function _n(l,f){return vt(l),f=on(l,f),l.g.has(f)}s.forEach=function(l,f){vt(this),this.g.forEach(function(m,_){m.forEach(function(N){l.call(f,N,_,this)},this)},this)},s.na=function(){vt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const N=l[_];for(let U=0;U<N.length;U++)m.push(f[_])}return m},s.V=function(l){vt(this);let f=[];if(typeof l=="string")_n(this,l)&&(f=f.concat(this.g.get(on(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},s.set=function(l,f){return vt(this),this.i=null,l=on(this,l),_n(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},s.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function vr(l,f,m){vn(l,f),0<m.length&&(l.i=null,l.g.set(on(l,f),Z(m)),l.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const U=encodeURIComponent(String(_)),W=this.V(_);for(_=0;_<W.length;_++){var N=U;W[_]!==""&&(N+="="+encodeURIComponent(String(W[_]))),l.push(N)}}return this.i=l.join("&")};function on(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function xn(l,f){f&&!l.j&&(vt(l),l.i=null,l.g.forEach(function(m,_){var N=_.toLowerCase();_!=N&&(vn(this,_),vr(this,N,m))},l)),l.j=f}function Za(l,f){const m=new Xr;if(g.Image){const _=new Image;_.onload=H(zt,m,"TestLoadImage: loaded",!0,f,_),_.onerror=H(zt,m,"TestLoadImage: error",!1,f,_),_.onabort=H(zt,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=H(zt,m,"TestLoadImage: timeout",!1,f,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}function fl(l,f){const m=new Xr,_=new AbortController,N=setTimeout(()=>{_.abort(),zt(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:_.signal}).then(U=>{clearTimeout(N),U.ok?zt(m,"TestPingServer: ok",!0,f):zt(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),zt(m,"TestPingServer: error",!1,f)})}function zt(l,f,m,_,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),_(m)}catch{}}function eu(){this.g=new Qs}function dl(l,f,m){const _=m||"";try{dr(l,function(N,U){let W=N;E(N)&&(W=qs(N)),f.push(_+U+"="+encodeURIComponent(W))})}catch(N){throw f.push(_+"type="+encodeURIComponent("_badmap")),N}}function Xn(l){this.l=l.Ub||null,this.j=l.eb||!1}te(Xn,Wr),Xn.prototype.g=function(){return new ri(this.l,this.j)},Xn.prototype.i=function(l){return function(){return l}}({});function ri(l,f){st.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}te(ri,st),s=ri.prototype,s.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,wn(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?En(this):wn(this),this.readyState==3&&pl(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,En(this))},s.Qa=function(l){this.g&&(this.response=l,En(this))},s.ga=function(){this.g&&En(this)};function En(l){l.readyState=4,l.l=null,l.j=null,l.v=null,wn(l)}s.setRequestHeader=function(l,f){this.u.append(l,f)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function wn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Yn(l){let f="";return Pe(l,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function _r(l,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Yn(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Fe(l,f,m))}function be(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}te(be,st);var tu=/^https?$/i,no=["POST","PUT"];s=be.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?Vi(this.o):Vi(gn),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){ii(this,U);return}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var N in _)m.set(N,_[N]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const U of _.keys())m.set(U,_.get(U));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),N=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(no,f,void 0))||_||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,W]of m)this.g.setRequestHeader(U,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bi(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){ii(this,U)}};function ii(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,$i(l),Jt(l)}function $i(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ot(this,"complete"),ot(this,"abort"),Jt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),be.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},s.bb=function(){ro(this)};function ro(l){if(l.h&&typeof p<"u"&&(!l.v[1]||Bt(l)!=4||l.Z()!=2)){if(l.u&&Bt(l)==4)js(l.Ea,0,l);else if(ot(l,"readystatechange"),Bt(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=W===0){var N=String(l.D).match(ti)[1]||null;!N&&g.self&&g.self.location&&(N=g.self.location.protocol.slice(0,-1)),_=!tu.test(N?N.toLowerCase():"")}m=_}if(m)ot(l,"complete"),ot(l,"success");else{l.m=6;try{var U=2<Bt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",$i(l)}}finally{Jt(l)}}}}function Jt(l,f){if(l.g){bi(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ot(l,"ready");try{m.onreadystatechange=_}catch{}}}function bi(l){l.I&&(g.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function Bt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Hs(f)}};function io(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(l){const f={};l=(l.g&&2<=Bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(Re(l[_]))continue;var m=D(l[_]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[N]||[];f[N]=U,U.push(m)}k(f,function(_){return _.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nn(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function so(l){this.Aa=0,this.i=[],this.j=new Xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nn("baseRetryDelayMs",5e3,l),this.cb=Nn("retryDelaySeedMs",1e4,l),this.Wa=Nn("forwardChannelMaxRetries",2,l),this.wa=Nn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(l&&l.concurrentRequestLimit),this.Da=new eu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=so.prototype,s.la=8,s.G=1,s.connect=function(l,f,m,_){Je(0),this.W=l,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=vl(this,null,this.W),Ln(this)};function _t(l){if(Hi(l),l.G==3){var f=l.U++,m=Yt(l.I);if(Fe(m,"SID",l.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),Jn(l,m),f=new yn(l,l.j,f),f.L=2,f.v=gr(Yt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=_l(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}yl(l)}function Tn(l){l.g&&(oo(l),l.g.cancel(),l.g=null)}function Hi(l){Tn(l),l.u&&(g.clearTimeout(l.u),l.u=null),Wi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Ln(l){if(!Xt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Me||J(),G||(Me(),G=!0),le.add(f,l),l.B=0}}function nu(l,f){return sl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=pn(z(l.Ga,l,f),gl(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const N=new yn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(N.H=U,U=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Er(this,N,f),m=Yt(this.I),Fe(m,"RID",l),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),Jn(this,m),U&&(this.O?f="headers="+encodeURIComponent(String(Yn(U)))+"&"+f:this.m&&_r(m,this.m,U)),eo(this.h,N),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),N.T=!0,Ui(N,m,null)):Ui(N,m,f),this.G=2}}else this.G==3&&(l?Qi(this,l):this.i.length==0||Xt(this.h)||Qi(this))};function Qi(l,f){var m;f?m=f.l:m=l.U++;const _=Yt(l.I);Fe(_,"SID",l.K),Fe(_,"RID",m),Fe(_,"AID",l.T),Jn(l,_),l.m&&l.o&&_r(_,l.m,l.o),m=new yn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Er(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),eo(l.h,m),Ui(m,_,f)}function Jn(l,f){l.H&&Pe(l.H,function(m,_){Fe(f,_,m)}),l.l&&dr({},function(m,_){Fe(f,_,m)})}function Er(l,f,m){m=Math.min(l.i.length,m);var _=l.l?z(l.l.Na,l.l,l):null;e:{var N=l.i;let U=-1;for(;;){const W=["count="+m];U==-1?0<m?(U=N[0].g,W.push("ofs="+U)):U=0:W.push("ofs="+U);let Oe=!0;for(let lt=0;lt<m;lt++){let Te=N[lt].g;const dt=N[lt].map;if(Te-=U,0>Te)U=Math.max(0,N[lt].g-100),Oe=!1;else try{dl(dt,W,"req"+Te+"_")}catch{_&&_(dt)}}if(Oe){_=W.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,_}function si(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Me||J(),G||(Me(),G=!0),le.add(f,l),l.v=0}}function Ki(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=pn(z(l.Fa,l),gl(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,ml(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=pn(z(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Tn(this),ml(this))};function oo(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function ml(l){l.g=new yn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Yt(l.qa);Fe(f,"RID","rpc"),Fe(f,"SID",l.K),Fe(f,"AID",l.T),Fe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Fe(f,"TO",l.ja),Fe(f,"TYPE","xmlhttp"),Jn(l,f),l.m&&l.o&&_r(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=gr(Yt(f)),m.m=null,m.P=!0,Js(m,l)}s.Za=function(){this.C!=null&&(this.C=null,Tn(this),Ki(this),Je(19))};function Wi(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function Gi(l,f){var m=null;if(l.g==f){Wi(l),oo(l),l.g=null;var _=2}else if(Lt(l.h,f))m=f.D,ol(l.h,f),_=1;else return;if(l.G!=0){if(f.o)if(_==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var N=l.B;_=Gr(),ot(_,new Li(_,m)),Ln(l)}else si(l);else if(N=f.s,N==3||N==0&&0<f.X||!(_==1&&nu(l,f)||_==2&&Ki(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),N){case 1:Zn(l,5);break;case 4:Zn(l,10);break;case 3:Zn(l,6);break;default:Zn(l,2)}}}function gl(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Zn(l,f){if(l.j.info("Error code "+f),f==2){var m=z(l.fb,l),_=l.Xa;const N=!_;_=new Gn(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ni(_,"https"),gr(_),N?Za(_.toString(),m):fl(_.toString(),m)}else Je(2);l.G=0,l.l&&l.l.sa(f),yl(l),Hi(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function yl(l){if(l.G=0,l.ka=[],l.l){const f=ll(l.h);(f.length!=0||l.i.length!=0)&&(K(l.ka,f),K(l.ka,l.i),l.h.i.length=0,Z(l.i),l.i.length=0),l.l.ra()}}function vl(l,f,m){var _=m instanceof Gn?Yt(m):new Gn(m);if(_.g!="")f&&(_.g=f+"."+_.g),pr(_,_.s);else{var N=g.location;_=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var U=new Gn(null);_&&ni(U,_),f&&(U.g=f),N&&pr(U,N),m&&(U.l=m),_=U}return m=l.D,f=l.ya,m&&f&&Fe(_,m,f),Fe(_,"VER",l.la),Jn(l,_),_}function _l(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new be(new Xn({eb:m})):new be(l.pa),f.Ha(l.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function lo(){}s=lo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Xi(){}Xi.prototype.g=function(l,f){return new Ot(l,f)};function Ot(l,f){st.call(this),this.g=new so(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!Re(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Re(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new On(this)}te(Ot,st),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){_t(this.g)},Ot.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=qs(l),l=m);f.i.push(new il(f.Ya++,l)),f.G==3&&Ln(f)},Ot.prototype.N=function(){this.g.l=null,delete this.j,_t(this.g),delete this.g,Ot.aa.N.call(this)};function El(l){kn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}te(El,kn);function wl(){Ni.call(this),this.status=1}te(wl,Ni);function On(l){this.g=l}te(On,lo),On.prototype.ua=function(){ot(this.g,"a")},On.prototype.ta=function(l){ot(this.g,new El(l))},On.prototype.sa=function(l){ot(this.g,new wl)},On.prototype.ra=function(){ot(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,rm=function(){return new Xi},nm=function(){return Gr()},tm=Dn,$c={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mi.NO_ERROR=0,Mi.TIMEOUT=8,Mi.HTTP_ERROR=6,wa=Mi,el.COMPLETE="complete",em=el,xi.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",st.prototype.listen=st.prototype.K,Oo=xi,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Zp=be}).apply(typeof ma<"u"?ma:typeof self<"u"?self:typeof window<"u"?window:{});const ep="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Qp("@firebase/firestore");function vs(){return Ii.logLevel}function ee(s,...e){if(Ii.logLevel<=Ie.DEBUG){const r=e.map(lh);Ii.debug(`Firestore (${Ns}): ${s}`,...r)}}function ur(s,...e){if(Ii.logLevel<=Ie.ERROR){const r=e.map(lh);Ii.error(`Firestore (${Ns}): ${s}`,...r)}}function Cs(s,...e){if(Ii.logLevel<=Ie.WARN){const r=e.map(lh);Ii.warn(`Firestore (${Ns}): ${s}`,...r)}}function lh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s="Unexpected state"){const e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+s;throw ur(e),new Error(e)}function Ke(s,e){s||pe()}function Ce(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends xs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $v{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Vt.UNAUTHENTICATED))}shutdown(){}}class bv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class qv{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ke(this.o===void 0);let o=this.i;const a=v=>this.i!==o?(o=this.i,r(v)):Promise.resolve();let c=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ti,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const v=c;e.enqueueRetryable(async()=>{await v.promise,await a(this.currentUser)})},g=v=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ti)}},0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ke(typeof o.accessToken=="string"),new im(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Vt(e)}}class Hv{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Qv{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new Hv(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ke(this.o===void 0);const o=c=>{c.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,ee("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const a=c=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ke(typeof r.token=="string"),this.R=r.token,new Kv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=Gv(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<r&&(o+=e.charAt(a[c]%e.length))}return o}}function Ae(s,e){return s<e?-1:s>e?1:0}function Rs(s,e,r){return s.length===e.length&&s.every((o,a)=>r(o,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Gt(r,o)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Gt(0,0))}static max(){return new de(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,r,o){r===void 0?r=0:r>e.length&&pe(),o===void 0?o=e.length-r:o>e.length-r&&pe(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return qo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof qo?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let a=0;a<o;a++){const c=e.get(a),p=r.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ge extends qo{construct(e,r,o){return new Ge(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new Ge(r)}static emptyPath(){return new Ge([])}}const Yv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends qo{construct(e,r,o){return new Ut(e,r,o)}static isValidIdentifier(e){return Yv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const r=[];let o="",a=0;const c=()=>{if(o.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=v,a+=2}else g==="`"?(p=!p,a++):g!=="."||p?(o+=g,a++):(c(),a++)}if(c(),p)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(r)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ge.fromString(e))}static fromName(e){return new he(Ge.fromString(e).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ge.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ge(e.slice()))}}function Jv(s,e){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,a=de.fromTimestamp(o===1e9?new Gt(r+1,0):new Gt(r,o));return new Br(a,he.empty(),e)}function Zv(s){return new Br(s.readTime,s.key,-1)}class Br{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Br(de.min(),he.empty(),-1)}static max(){return new Br(de.max(),he.empty(),-1)}}function e_(s,e){let r=s.readTime.compareTo(e.readTime);return r!==0?r:(r=he.comparator(s.documentKey,e.documentKey),r!==0?r:Ae(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==t_)throw s;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new j((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof j?r:j.resolve(r)}catch(r){return j.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):j.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):j.reject(r)}static resolve(e){return new j((r,o)=>{r(e)})}static reject(e){return new j((r,o)=>{o(e)})}static waitFor(e){return new j((r,o)=>{let a=0,c=0,p=!1;e.forEach(g=>{++a,g.next(()=>{++c,p&&c===a&&r()},v=>o(v))}),p=!0,c===a&&r()})}static or(e){let r=j.resolve(!1);for(const o of e)r=r.next(a=>a?j.resolve(a):o());return r}static forEach(e,r){const o=[];return e.forEach((a,c)=>{o.push(r.call(this,a,c))}),this.waitFor(o)}static mapArray(e,r){return new j((o,a)=>{const c=e.length,p=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;r(e[E]).next(C=>{p[E]=C,++g,g===c&&o(p)},C=>a(C))}})}static doWhile(e,r){return new j((o,a)=>{const c=()=>{e()===!0?r().next(()=>{c()},a):o()};c()})}}function r_(s){const e=s.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ls(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ua.oe=-1;function za(s){return s==null}function bc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=tp(e)),e=s_(s.get(r),e);return tp(e)}function s_(s,e){let r=e;const o=s.length;for(let a=0;a<o;a++){const c=s.charAt(a);switch(c){case"\0":r+="";break;case"":r+="";break;default:r+=c}}return r}function tp(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function Go(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function o_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,r){this.comparator=e,this.root=r||Tt.EMPTY}insert(e,r){return new tt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ga(this.root,e,this.comparator,!0)}}class ga{constructor(e,r,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?o(e.key,r):1,r&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,r,o,a,c){this.key=e,this.value=r,this.color=o??Tt.RED,this.left=a??Tt.EMPTY,this.right=c??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,a,c){return new Tt(e??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let a=this;const c=o(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,r,o),null):c===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Tt.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,r,o,a,c){return this}insert(e,r,o){return new Tt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new rp(this.data.getIterator())}getIteratorFrom(e){return new rp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ht(this.comparator);return r.data=e,r}}class rp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Or([])}unionWith(e){let r=new ht(Ut.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Or(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sm("Invalid base64 string: "+c):c}}(e);return new St(r)}static fromUint8Array(e){const r=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(e);return new St(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const l_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(s){if(Ke(!!s),typeof s=="string"){let e=0;const r=l_.exec(s);if(Ke(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:et(s.seconds),nanos:et(s.nanos)}}function et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function $r(s){return typeof s=="string"?St.fromBase64String(s):St.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(s){var e,r;return((r=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Ba(s){const e=s.mapValue.fields.__previous_value__;return ah(e)?Ba(e):e}function Ho(s){const e=jr(s.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,r,o,a,c,p,g,v,E){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E}}class Qo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Qo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ah(s)?4:c_(s)?9007199254740991:u_(s)?10:11:pe()}function $n(s,e){if(s===e)return!0;const r=br(s);if(r!==br(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ho(s).isEqual(Ho(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=jr(a.timestampValue),g=jr(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(a,c){return $r(a.bytesValue).isEqual($r(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,c){return et(a.geoPointValue.latitude)===et(c.geoPointValue.latitude)&&et(a.geoPointValue.longitude)===et(c.geoPointValue.longitude)}(s,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return et(a.integerValue)===et(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=et(a.doubleValue),g=et(c.doubleValue);return p===g?bc(p)===bc(g):isNaN(p)&&isNaN(g)}return!1}(s,e);case 9:return Rs(s.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(a,c){const p=a.mapValue.fields||{},g=c.mapValue.fields||{};if(np(p)!==np(g))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(g[v]===void 0||!$n(p[v],g[v])))return!1;return!0}(s,e);default:return pe()}}function Ko(s,e){return(s.values||[]).find(r=>$n(r,e))!==void 0}function Ps(s,e){if(s===e)return 0;const r=br(s),o=br(e);if(r!==o)return Ae(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ae(s.booleanValue,e.booleanValue);case 2:return function(c,p){const g=et(c.integerValue||c.doubleValue),v=et(p.integerValue||p.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return ip(s.timestampValue,e.timestampValue);case 4:return ip(Ho(s),Ho(e));case 5:return Ae(s.stringValue,e.stringValue);case 6:return function(c,p){const g=$r(c),v=$r(p);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(c,p){const g=c.split("/"),v=p.split("/");for(let E=0;E<g.length&&E<v.length;E++){const C=Ae(g[E],v[E]);if(C!==0)return C}return Ae(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,p){const g=Ae(et(c.latitude),et(p.latitude));return g!==0?g:Ae(et(c.longitude),et(p.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return sp(s.arrayValue,e.arrayValue);case 10:return function(c,p){var g,v,E,C;const M=c.fields||{},z=p.fields||{},H=(g=M.value)===null||g===void 0?void 0:g.arrayValue,te=(v=z.value)===null||v===void 0?void 0:v.arrayValue,Z=Ae(((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0,((C=te==null?void 0:te.values)===null||C===void 0?void 0:C.length)||0);return Z!==0?Z:sp(H,te)}(s.mapValue,e.mapValue);case 11:return function(c,p){if(c===ya.mapValue&&p===ya.mapValue)return 0;if(c===ya.mapValue)return 1;if(p===ya.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=p.fields||{},C=Object.keys(E);v.sort(),C.sort();for(let M=0;M<v.length&&M<C.length;++M){const z=Ae(v[M],C[M]);if(z!==0)return z;const H=Ps(g[v[M]],E[C[M]]);if(H!==0)return H}return Ae(v.length,C.length)}(s.mapValue,e.mapValue);default:throw pe()}}function ip(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ae(s,e);const r=jr(s),o=jr(e),a=Ae(r.seconds,o.seconds);return a!==0?a:Ae(r.nanos,o.nanos)}function sp(s,e){const r=s.values||[],o=e.values||[];for(let a=0;a<r.length&&a<o.length;++a){const c=Ps(r[a],o[a]);if(c)return c}return Ae(r.length,o.length)}function ks(s){return qc(s)}function qc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=jr(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return $r(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return he.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",a=!0;for(const c of r.values||[])a?a=!1:o+=",",o+=qc(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of o)c?c=!1:a+=",",a+=`${p}:${qc(r.fields[p])}`;return a+"}"}(s.mapValue):pe()}function Ta(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ba(s);return e?16+Ta(e):16;case 5:return 2*s.stringValue.length;case 6:return $r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((a,c)=>a+Ta(c),0)}(s.arrayValue);case 10:case 11:return function(o){let a=0;return Go(o.fields,(c,p)=>{a+=c.length+Ta(p)}),a}(s.mapValue);default:throw pe()}}function Hc(s){return!!s&&"integerValue"in s}function uh(s){return!!s&&"arrayValue"in s}function op(s){return!!s&&"nullValue"in s}function lp(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vc(s){return!!s&&"mapValue"in s}function u_(s){var e,r;return((r=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Uo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Go(s.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Uo(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Uo(s.arrayValue.values[r]);return e}return Object.assign({},s)}function c_(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Vc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(r)}setAll(e){let r=Ut.emptyPath(),o={},a=[];e.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,o,a),o={},a=[],r=g.popLast()}p?o[g.lastSegment()]=Uo(p):a.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,a)}delete(e){const r=this.field(e.popLast());Vc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=r.mapValue.fields[e.get(o)];Vc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,o){Go(r,(a,c)=>e[a]=c);for(const a of o)delete e[a]}clone(){return new Bn(Uo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r,o,a,c,p,g){this.key=e,this.documentType=r,this.version=o,this.readTime=a,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(e){return new xt(e,0,de.min(),de.min(),de.min(),Bn.empty(),0)}static newFoundDocument(e,r,o,a){return new xt(e,1,r,de.min(),o,a,0)}static newNoDocument(e,r){return new xt(e,2,r,de.min(),de.min(),Bn.empty(),0)}static newUnknownDocument(e,r){return new xt(e,3,r,de.min(),de.min(),Bn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,r){this.position=e,this.inclusive=r}}function ap(s,e,r){let o=0;for(let a=0;a<s.position.length;a++){const c=e[a],p=s.position[a];if(c.field.isKeyField()?o=he.comparator(he.fromName(p.referenceValue),r.key):o=Ps(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function up(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!$n(s.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,r="asc"){this.field=e,this.dir=r}}function h_(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{}class ct extends om{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new d_(e,r,o):r==="array-contains"?new g_(e,o):r==="in"?new y_(e,o):r==="not-in"?new v_(e,o):r==="array-contains-any"?new __(e,o):new ct(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new p_(e,o):new m_(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ps(r,this.value)):r!==null&&br(this.value)===br(r)&&this.matchesComparison(Ps(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends om{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new bn(e,r)}matches(e){return lm(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lm(s){return s.op==="and"}function am(s){return f_(s)&&lm(s)}function f_(s){for(const e of s.filters)if(e instanceof bn)return!1;return!0}function Qc(s){if(s instanceof ct)return s.field.canonicalString()+s.op.toString()+ks(s.value);if(am(s))return s.filters.map(e=>Qc(e)).join(",");{const e=s.filters.map(r=>Qc(r)).join(",");return`${s.op}(${e})`}}function um(s,e){return s instanceof ct?function(o,a){return a instanceof ct&&o.op===a.op&&o.field.isEqual(a.field)&&$n(o.value,a.value)}(s,e):s instanceof bn?function(o,a){return a instanceof bn&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((c,p,g)=>c&&um(p,a.filters[g]),!0):!1}(s,e):void pe()}function cm(s){return s instanceof ct?function(r){return`${r.field.canonicalString()} ${r.op} ${ks(r.value)}`}(s):s instanceof bn?function(r){return r.op.toString()+" {"+r.getFilters().map(cm).join(" ,")+"}"}(s):"Filter"}class d_ extends ct{constructor(e,r,o){super(e,r,o),this.key=he.fromName(o.referenceValue)}matches(e){const r=he.comparator(e.key,this.key);return this.matchesComparison(r)}}class p_ extends ct{constructor(e,r){super(e,"in",r),this.keys=hm("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class m_ extends ct{constructor(e,r){super(e,"not-in",r),this.keys=hm("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function hm(s,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>he.fromName(o.referenceValue))}class g_ extends ct{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return uh(r)&&Ko(r.arrayValue,this.value)}}class y_ extends ct{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ko(this.value.arrayValue,r)}}class v_ extends ct{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ko(this.value.arrayValue,r)}}class __ extends ct{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!uh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Ko(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,r=null,o=[],a=[],c=null,p=null,g=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function cp(s,e=null,r=[],o=[],a=null,c=null,p=null){return new E_(s,e,r,o,a,c,p)}function ch(s){const e=Ce(s);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Qc(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),za(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>ks(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>ks(o)).join(",")),e.ue=r}return e.ue}function hh(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!h_(s.orderBy[r],e.orderBy[r]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!um(s.filters[r],e.filters[r]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!up(s.startAt,e.startAt)&&up(s.endAt,e.endAt)}function Kc(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,r=null,o=[],a=[],c=null,p="F",g=null,v=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function w_(s,e,r,o,a,c,p,g){return new ja(s,e,r,o,a,c,p,g)}function fm(s){return new ja(s)}function hp(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function T_(s){return s.collectionGroup!==null}function zo(s){const e=Ce(s);if(e.ce===null){e.ce=[];const r=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),r.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new ht(Ut.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Da(c,o))}),r.has(Ut.keyField().canonicalString())||e.ce.push(new Da(Ut.keyField(),o))}return e.ce}function jn(s){const e=Ce(s);return e.le||(e.le=S_(e,zo(s))),e.le}function S_(s,e){if(s.limitType==="F")return cp(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Da(a.field,c)});const r=s.endAt?new ka(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new ka(s.startAt.position,s.startAt.inclusive):null;return cp(s.path,s.collectionGroup,e,s.filters,s.limit,r,o)}}function Wc(s,e,r){return new ja(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function $a(s,e){return hh(jn(s),jn(e))&&s.limitType===e.limitType}function dm(s){return`${ch(jn(s))}|lt:${s.limitType}`}function _s(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(a=>cm(a)).join(", ")}]`),za(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(a=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(a)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(a=>ks(a)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(a=>ks(a)).join(",")),`Target(${o})`}(jn(s))}; limitType=${s.limitType})`}function ba(s,e){return e.isFoundDocument()&&function(o,a){const c=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):he.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,e)&&function(o,a){for(const c of zo(o))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(s,e)&&function(o,a){for(const c of o.filters)if(!c.matches(a))return!1;return!0}(s,e)&&function(o,a){return!(o.startAt&&!function(p,g,v){const E=ap(p,g,v);return p.inclusive?E<=0:E<0}(o.startAt,zo(o),a)||o.endAt&&!function(p,g,v){const E=ap(p,g,v);return p.inclusive?E>=0:E>0}(o.endAt,zo(o),a))}(s,e)}function I_(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function pm(s){return(e,r)=>{let o=!1;for(const a of zo(s)){const c=A_(a,e,r);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function A_(s,e,r){const o=s.field.isKeyField()?he.comparator(e.key,r.key):function(c,p,g){const v=p.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Ps(v,E):pe()}(s.field,e,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(r,o)=>{for(const[a,c]of o)e(a,c)})}isEmpty(){return o_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new tt(he.comparator);function qr(){return C_}const mm=new tt(he.comparator);function Mo(...s){let e=mm;for(const r of s)e=e.insert(r.key,r);return e}function R_(s){let e=mm;return s.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Ei(){return Bo()}function gm(){return Bo()}function Bo(){return new Ai(s=>s.toString(),(s,e)=>s.isEqual(e))}const P_=new ht(he.comparator);function De(...s){let e=P_;for(const r of s)e=e.add(r);return e}const k_=new ht(Ae);function D_(){return k_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function x_(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this._=void 0}}function N_(s,e,r){return s instanceof Gc?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&ah(c)&&(c=Ba(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,e):s instanceof Va?ym(s,e):s instanceof xa?vm(s,e):function(a,c){const p=O_(a,c),g=fp(p)+fp(a.Pe);return Hc(p)&&Hc(a.Pe)?x_(g):V_(a.serializer,g)}(s,e)}function L_(s,e,r){return s instanceof Va?ym(s,e):s instanceof xa?vm(s,e):r}function O_(s,e){return s instanceof Xc?function(o){return Hc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(e)?e:{integerValue:0}:null}class Gc extends qa{}class Va extends qa{constructor(e){super(),this.elements=e}}function ym(s,e){const r=_m(e);for(const o of s.elements)r.some(a=>$n(a,o))||r.push(o);return{arrayValue:{values:r}}}class xa extends qa{constructor(e){super(),this.elements=e}}function vm(s,e){let r=_m(e);for(const o of s.elements)r=r.filter(a=>!$n(a,o));return{arrayValue:{values:r}}}class Xc extends qa{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function fp(s){return et(s.integerValue||s.doubleValue)}function _m(s){return uh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function M_(s,e){return s.field.isEqual(e.field)&&function(o,a){return o instanceof Va&&a instanceof Va||o instanceof xa&&a instanceof xa?Rs(o.elements,a.elements,$n):o instanceof Xc&&a instanceof Xc?$n(o.Pe,a.Pe):o instanceof Gc&&a instanceof Gc}(s.transform,e.transform)}class Si{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sa(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class fh{}function Em(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new U_(s.key,Si.none()):new dh(s.key,s.data,Si.none());{const r=s.data,o=Bn.empty();let a=new ht(Ut.comparator);for(let c of e.fields)if(!a.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),a=a.add(c)}return new Ha(s.key,o,new Or(a.toArray()),Si.none())}}function F_(s,e,r){s instanceof dh?function(a,c,p){const g=a.value.clone(),v=pp(a.fieldTransforms,c,p.transformResults);g.setAll(v),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,e,r):s instanceof Ha?function(a,c,p){if(!Sa(a.precondition,c))return void c.convertToUnknownDocument(p.version);const g=pp(a.fieldTransforms,c,p.transformResults),v=c.data;v.setAll(wm(a)),v.setAll(g),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(s,e,r):function(a,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,e,r)}function jo(s,e,r,o){return s instanceof dh?function(c,p,g,v){if(!Sa(c.precondition,p))return g;const E=c.value.clone(),C=mp(c.fieldTransforms,v,p);return E.setAll(C),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(s,e,r,o):s instanceof Ha?function(c,p,g,v){if(!Sa(c.precondition,p))return g;const E=mp(c.fieldTransforms,v,p),C=p.data;return C.setAll(wm(c)),C.setAll(E),p.convertToFoundDocument(p.version,C).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(M=>M.field))}(s,e,r,o):function(c,p,g){return Sa(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,e,r)}function dp(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&Rs(o,a,(c,p)=>M_(c,p))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class dh extends fh{constructor(e,r,o,a=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ha extends fh{constructor(e,r,o,a,c=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wm(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);e.set(r,o)}}),e}function pp(s,e,r){const o=new Map;Ke(s.length===r.length);for(let a=0;a<r.length;a++){const c=s[a],p=c.transform,g=e.data.field(c.field);o.set(c.field,L_(p,g,r[a]))}return o}function mp(s,e,r){const o=new Map;for(const a of s){const c=a.transform,p=r.data.field(a.field);o.set(a.field,N_(c,p,e))}return o}class U_ extends fh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,r,o,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&F_(c,e,o[a])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=jo(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=jo(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=gm();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(a.key)?null:g;const v=Em(p,g);v!==null&&o.set(a.key,v),p.isValidDocument()||p.convertToNoDocument(de.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),De())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(r,o)=>dp(r,o))&&Rs(this.baseMutations,e.baseMutations,(r,o)=>dp(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Se;function Tm(s){if(s===void 0)return ur("GRPC error has no .code"),X.UNKNOWN;switch(s){case it.OK:return X.OK;case it.CANCELLED:return X.CANCELLED;case it.UNKNOWN:return X.UNKNOWN;case it.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case it.INTERNAL:return X.INTERNAL;case it.UNAVAILABLE:return X.UNAVAILABLE;case it.UNAUTHENTICATED:return X.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case it.NOT_FOUND:return X.NOT_FOUND;case it.ALREADY_EXISTS:return X.ALREADY_EXISTS;case it.PERMISSION_DENIED:return X.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case it.ABORTED:return X.ABORTED;case it.OUT_OF_RANGE:return X.OUT_OF_RANGE;case it.UNIMPLEMENTED:return X.UNIMPLEMENTED;case it.DATA_LOSS:return X.DATA_LOSS;default:return pe()}}(Se=it||(it={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new wi([4294967295,4294967295],0);function gp(s){const e=$_().encode(s),r=new Jp;return r.update(e),new Uint8Array(r.digest())}function yp(s){const e=new DataView(s.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new wi([r,o],0),new wi([a,c],0)]}class ph{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Fo(`Invalid padding: ${r}`);if(o<0)throw new Fo(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Fo(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new Fo(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ie=wi.fromNumber(this.Te)}Ee(e,r,o){let a=e.add(r.multiply(wi.fromNumber(o)));return a.compare(b_)===1&&(a=new wi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const r=gp(e),[o,a]=yp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,a,c);if(!this.de(p))return!1}return!0}static create(e,r,o){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new ph(c,a,r);return o.forEach(g=>p.insert(g)),p}insert(e){if(this.Te===0)return;const r=gp(e),[o,a]=yp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,a,c);this.Ae(p)}}Ae(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class Fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,r,o,a,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const a=new Map;return a.set(e,Xo.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Qa(de.min(),a,new tt(Ae),qr(),De())}}class Xo{constructor(e,r,o,a,c){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new Xo(o,r,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,r,o,a){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=a}}class Sm{constructor(e,r){this.targetId=e,this.me=r}}class Im{constructor(e,r,o=St.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=a}}class vp{constructor(){this.fe=0,this.ge=_p(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),r=De(),o=De();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:pe()}}),new Xo(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=_p()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class q_{constructor(e){this.Le=e,this.Be=new Map,this.ke=qr(),this.qe=va(),this.Qe=va(),this.Ke=new tt(Ae)}$e(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(r,e.Ve):this.We(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.We(r,e.key,e.Ve)}Ge(e){this.forEachTarget(e,r=>{const o=this.ze(r);switch(e.state){case 0:this.je(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.je(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,a)=>{this.je(a)&&r(a)})}Je(e){const r=e.targetId,o=e.me.count,a=this.Ye(r);if(a){const c=a.target;if(Kc(c))if(o===0){const p=new he(c.path);this.We(r,p,xt.newNoDocument(p,de.min()))}else Ke(o===1);else{const p=this.Ze(r);if(p!==o){const g=this.Xe(e),v=g?this.et(g,e,p):1;if(v!==0){this.He(r);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,E)}}}}}Xe(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:c=0}=r;let p,g;try{p=$r(o).toUint8Array()}catch(v){if(v instanceof sm)return Cs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new ph(p,a,c)}catch(v){return Cs(v instanceof Fo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Te===0?null:g}et(e,r,o){return r.me.count===o-this.rt(e,r.targetId)?0:2}rt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let a=0;return o.forEach(c=>{const p=this.Le.nt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.We(r,c,null),a++)}),a}it(e){const r=new Map;this.Be.forEach((c,p)=>{const g=this.Ye(p);if(g){if(c.current&&Kc(g.target)){const v=new he(g.target.path);this.st(v).has(p)||this.ot(p,v)||this.We(p,v,xt.newNoDocument(v,e))}c.be&&(r.set(p,c.ve()),c.Ce())}});let o=De();this.Qe.forEach((c,p)=>{let g=!0;p.forEachWhile(v=>{const E=this.Ye(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ke.forEach((c,p)=>p.setReadTime(e));const a=new Qa(e,r,this.Ke,this.ke,o);return this.ke=qr(),this.qe=va(),this.Qe=va(),this.Ke=new tt(Ae),a}Ue(e,r){if(!this.je(e))return;const o=this.ot(e,r.key)?2:0;this.ze(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(e))}We(e,r,o){if(!this.je(e))return;const a=this.ze(e);this.ot(e,r)?a.Fe(r,1):a.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(e)),this.Qe=this.Qe.insert(r,this._t(r).add(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let r=this.Be.get(e);return r||(r=new vp,this.Be.set(e,r)),r}_t(e){let r=this.Qe.get(e);return r||(r=new ht(Ae),this.Qe=this.Qe.insert(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ht(Ae),this.qe=this.qe.insert(e,r)),r}je(e){const r=this.Ye(e)!==null;return r||ee("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new vp),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}ot(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function va(){return new tt(he.comparator)}function _p(){return new tt(he.comparator)}const H_={asc:"ASCENDING",desc:"DESCENDING"},Q_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K_={and:"AND",or:"OR"};class W_{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Yc(s,e){return s.useProto3Json||za(e)?e:{value:e}}function G_(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ss(s){return Ke(!!s),de.fromTimestamp(function(r){const o=jr(r);return new Gt(o.seconds,o.nanos)}(s))}function Y_(s,e){return Jc(s,e).canonicalString()}function Jc(s,e){const r=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(s).child("documents");return e===void 0?r:r.child(e)}function Am(s){const e=Ge.fromString(s);return Ke(Dm(e)),e}function xc(s,e){const r=Am(e);if(r.get(1)!==s.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new he(Rm(r))}function Cm(s,e){return Y_(s.databaseId,e)}function J_(s){const e=Am(s);return e.length===4?Ge.emptyPath():Rm(e)}function Ep(s){return new Ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Rm(s){return Ke(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Z_(s,e){let r;if("targetChange"in e){e.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,C){return E.useProto3Json?(Ke(C===void 0||typeof C=="string"),St.fromBase64String(C||"")):(Ke(C===void 0||C instanceof Buffer||C instanceof Uint8Array),St.fromUint8Array(C||new Uint8Array))}(s,e.targetChange.resumeToken),p=e.targetChange.cause,g=p&&function(E){const C=E.code===void 0?X.UNKNOWN:Tm(E.code);return new ce(C,E.message||"")}(p);r=new Im(o,a,c,g||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=xc(s,o.document.name),c=Ss(o.document.updateTime),p=o.document.createTime?Ss(o.document.createTime):de.min(),g=new Bn({mapValue:{fields:o.document.fields}}),v=xt.newFoundDocument(a,c,p,g),E=o.targetIds||[],C=o.removedTargetIds||[];r=new Ia(E,C,v.key,v)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=xc(s,o.document),c=o.readTime?Ss(o.readTime):de.min(),p=xt.newNoDocument(a,c),g=o.removedTargetIds||[];r=new Ia([],g,p.key,p)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=xc(s,o.document),c=o.removedTargetIds||[];r=new Ia([],c,a,null)}else{if(!("filter"in e))return pe();{e.filter;const o=e.filter;o.targetId;const{count:a=0,unchangedNames:c}=o,p=new j_(a,c),g=o.targetId;r=new Sm(g,p)}}return r}function e0(s,e){return{documents:[Cm(s,e.path)]}}function t0(s,e){const r={structuredQuery:{}},o=e.path;let a;e.collectionGroup!==null?(a=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Cm(s,a);const c=function(E){if(E.length!==0)return km(bn.create(E,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(C=>function(z){return{field:Es(z.field),direction:i0(z.dir)}}(C))}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const g=Yc(s,e.limit);return g!==null&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:r,parent:a}}function n0(s){let e=J_(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Ke(o===1);const C=r.from[0];C.allDescendants?a=C.collectionId:e=e.child(C.collectionId)}let c=[];r.where&&(c=function(M){const z=Pm(M);return z instanceof bn&&am(z)?z.getFilters():[z]}(r.where));let p=[];r.orderBy&&(p=function(M){return M.map(z=>function(te){return new Da(ws(te.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction))}(z))}(r.orderBy));let g=null;r.limit&&(g=function(M){let z;return z=typeof M=="object"?M.value:M,za(z)?null:z}(r.limit));let v=null;r.startAt&&(v=function(M){const z=!!M.before,H=M.values||[];return new ka(H,z)}(r.startAt));let E=null;return r.endAt&&(E=function(M){const z=!M.before,H=M.values||[];return new ka(H,z)}(r.endAt)),w_(e,a,p,c,g,"F",v,E)}function r0(s,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Pm(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=ws(r.unaryFilter.field);return ct.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=ws(r.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ws(r.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=ws(r.unaryFilter.field);return ct.create(p,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(s):s.fieldFilter!==void 0?function(r){return ct.create(ws(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return bn.create(r.compositeFilter.filters.map(o=>Pm(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pe()}}(r.compositeFilter.op))}(s):pe()}function i0(s){return H_[s]}function s0(s){return Q_[s]}function o0(s){return K_[s]}function Es(s){return{fieldPath:s.canonicalString()}}function ws(s){return Ut.fromServerFormat(s.fieldPath)}function km(s){return s instanceof ct?function(r){if(r.op==="=="){if(lp(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NAN"}};if(op(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(lp(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NOT_NAN"}};if(op(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(r.field),op:s0(r.op),value:r.value}}}(s):s instanceof bn?function(r){const o=r.getFilters().map(a=>km(a));return o.length===1?o[0]:{compositeFilter:{op:o0(r.op),filters:o}}}(s):pe()}function Dm(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,r,o,a,c=de.min(),p=de.min(),g=St.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.ht=e}}function a0(s){const e=n0({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.ln=new c0}addToCollectionParentIndex(e,r){return this.ln.add(r),j.resolve()}getCollectionParents(e,r){return j.resolve(this.ln.getEntries(r))}addFieldIndex(e,r){return j.resolve()}deleteFieldIndex(e,r){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,r){return j.resolve()}getDocumentsMatchingTarget(e,r){return j.resolve(null)}getIndexType(e,r){return j.resolve(0)}getFieldIndexes(e,r){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,r){return j.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,r){return j.resolve(Br.min())}updateCollectionGroup(e,r,o){return j.resolve()}updateIndexEntries(e,r){return j.resolve()}}class c0{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r]||new ht(Ge.comparator),c=!a.has(o);return this.index[r]=a.add(o),c}has(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(e){return(this.index[e]||new ht(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ds(0)}static Qn(){return new Ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp([s,e],[r,o]){const a=Ae(s,r);return a===0?Ae(e,o):a}class h0{constructor(e){this.Gn=e,this.buffer=new ht(Tp),this.zn=0}jn(){return++this.zn}Hn(e){const r=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Tp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class f0{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ls(r)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Fa(r)}await this.Yn(3e5)})}}class d0{constructor(e,r){this.Zn=e,this.params=r}calculateTargetCount(e,r){return this.Zn.Xn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(r===0)return j.resolve(Ua.oe);const o=new h0(r);return this.Zn.forEachTarget(e,a=>o.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>o.Hn(a))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Zn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Zn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(wp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wp):this.tr(e,r))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,r){let o,a,c,p,g,v,E;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,p=Date.now(),this.nthSequenceNumber(e,a))).next(M=>(o=M,g=Date.now(),this.removeTargets(e,o,r))).next(M=>(c=M,v=Date.now(),this.removeOrphanedDocuments(e,o))).next(M=>(E=Date.now(),vs()<=Ie.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-C}ms
	Determined least recently used ${a} in `+(g-p)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${M} documents in `+(E-v)+`ms
Total Duration: ${E-C}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:M})))}}function p0(s,e){return new d0(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.changes=new Ai(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?j.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,r,o,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(o!==null&&jo(o.mutation,a,Or.empty(),Gt.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,De()).next(()=>o))}getLocalViewOfDocuments(e,r,o=De()){const a=Ei();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,o).next(c=>{let p=Mo();return c.forEach((g,v)=>{p=p.insert(g,v.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const o=Ei();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,De()))}populateOverlays(e,r,o){const a=[];return o.forEach(c=>{r.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(e,r,o,a){let c=qr();const p=Bo(),g=function(){return Bo()}();return r.forEach((v,E)=>{const C=o.get(E.key);a.has(E.key)&&(C===void 0||C.mutation instanceof Ha)?c=c.insert(E.key,E):C!==void 0?(p.set(E.key,C.mutation.getFieldMask()),jo(C.mutation,E,C.mutation.getFieldMask(),Gt.now())):p.set(E.key,Or.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((E,C)=>p.set(E,C)),r.forEach((E,C)=>{var M;return g.set(E,new g0(C,(M=p.get(E))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(e,r){const o=Bo();let a=new tt((p,g)=>p-g),c=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const g of p)g.keys().forEach(v=>{const E=r.get(v);if(E===null)return;let C=o.get(v)||Or.empty();C=g.applyToLocalView(E,C),o.set(v,C);const M=(a.get(g.batchId)||De()).add(v);a=a.insert(g.batchId,M)})}).next(()=>{const p=[],g=a.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,C=v.value,M=gm();C.forEach(z=>{if(!c.has(z)){const H=Em(r.get(z),o.get(z));H!==null&&M.set(z,H),c=c.add(z)}}),p.push(this.documentOverlayCache.saveOverlays(e,E,M))}return j.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,a){return function(p){return he.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):T_(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,a):this.getDocumentsMatchingCollectionQuery(e,r,o,a)}getNextDocuments(e,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,a-c.size):j.resolve(Ei());let g=-1,v=c;return p.next(E=>j.forEach(E,(C,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),c.get(C)?j.resolve():this.remoteDocumentCache.getEntry(e,C).next(z=>{v=v.insert(C,z)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,v,E,De())).next(C=>({batchId:g,changes:R_(C)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new he(r)).next(o=>{let a=Mo();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,o,a){const c=r.collectionGroup;let p=Mo();return this.indexManager.getCollectionParents(e,c).next(g=>j.forEach(g,v=>{const E=function(M,z){return new ja(z,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(r,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,o,a).next(C=>{C.forEach((M,z)=>{p=p.insert(M,z)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,o,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,c,a))).next(p=>{c.forEach((v,E)=>{const C=E.getKey();p.get(C)===null&&(p=p.insert(C,xt.newInvalidDocument(C)))});let g=Mo();return p.forEach((v,E)=>{const C=c.get(v);C!==void 0&&jo(C.mutation,E,Or.empty(),Gt.now()),ba(r,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,r){return j.resolve(this.Tr.get(r))}saveBundleMetadata(e,r){return this.Tr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Ss(a.createTime)}}(r)),j.resolve()}getNamedQuery(e,r){return j.resolve(this.Ir.get(r))}saveNamedQuery(e,r){return this.Ir.set(r.name,function(a){return{name:a.name,query:a0(a.bundledQuery),readTime:Ss(a.readTime)}}(r)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.overlays=new tt(he.comparator),this.Er=new Map}getOverlay(e,r){return j.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Ei();return j.forEach(r,a=>this.getOverlay(e,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((a,c)=>{this.Tt(e,r,c)}),j.resolve()}removeOverlaysForBatchId(e,r,o){const a=this.Er.get(o);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(o)),j.resolve()}getOverlaysForCollection(e,r,o){const a=Ei(),c=r.length+1,p=new he(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>o&&a.set(v.getKey(),v)}return j.resolve(a)}getOverlaysForCollectionGroup(e,r,o,a){let c=new tt((E,C)=>E-C);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let C=c.get(E.largestBatchId);C===null&&(C=Ei(),c=c.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const g=Ei(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,C)=>g.set(E,C)),!(g.size()>=a)););return j.resolve(g)}Tt(e,r,o){const a=this.overlays.get(o.key);if(a!==null){const p=this.Er.get(a.largestBatchId).delete(o.key);this.Er.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new B_(r,o));let c=this.Er.get(r);c===void 0&&(c=De(),this.Er.set(r,c)),this.Er.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.dr=new ht(yt.Ar),this.Rr=new ht(yt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,r){const o=new yt(e,r);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.gr(new yt(e,r))}pr(e,r){e.forEach(o=>this.removeReference(o,r))}yr(e){const r=new he(new Ge([])),o=new yt(r,e),a=new yt(r,e+1),c=[];return this.Rr.forEachInRange([o,a],p=>{this.gr(p),c.push(p.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const r=new he(new Ge([])),o=new yt(r,e),a=new yt(r,e+1);let c=De();return this.Rr.forEachInRange([o,a],p=>{c=c.add(p.key)}),c}containsKey(e){const r=new yt(e,0),o=this.dr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class yt{constructor(e,r){this.key=e,this.br=r}static Ar(e,r){return he.comparator(e.key,r.key)||Ae(e.br,r.br)}static Vr(e,r){return Ae(e.br,r.br)||he.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new ht(yt.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new z_(c,r,o,a);this.mutationQueue.push(p);for(const g of a)this.vr=this.vr.add(new yt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return j.resolve(p)}lookupMutationBatch(e,r){return j.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,a=this.Fr(o),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new yt(r,0),a=new yt(r,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([o,a],p=>{const g=this.Cr(p.br);c.push(g)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ht(Ae);return r.forEach(a=>{const c=new yt(a,0),p=new yt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,p],g=>{o=o.add(g.br)})}),j.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,a=o.length+1;let c=o;he.isDocumentKey(c)||(c=c.child(""));const p=new yt(new he(c),0);let g=new ht(Ae);return this.vr.forEachWhile(v=>{const E=v.key.path;return!!o.isPrefixOf(E)&&(E.length===a&&(g=g.add(v.br)),!0)},p),j.resolve(this.Mr(g))}Mr(e){const r=[];return e.forEach(o=>{const a=this.Cr(o);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){Ke(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return j.forEach(r.mutations,a=>{const c=new yt(a.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=o})}Ln(e){}containsKey(e,r){const o=new yt(r,0),a=this.vr.firstAfterOrEqual(o);return j.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,r){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const r=this.Fr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.Nr=e,this.docs=function(){return new tt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,a=this.docs.get(o),c=a?a.size:0,p=this.Nr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return j.resolve(o?o.document.mutableCopy():xt.newInvalidDocument(r))}getEntries(e,r){let o=qr();return r.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():xt.newInvalidDocument(a))}),j.resolve(o)}getDocumentsMatchingQuery(e,r,o,a){let c=qr();const p=r.path,g=new he(p.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:C}}=v.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||e_(Zv(C),o)<=0||(a.has(C.key)||ba(r,C))&&(c=c.insert(C.key,C.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(e,r,o,a){pe()}Lr(e,r){return j.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new S0(this)}getSize(e){return j.resolve(this.size)}}class S0 extends m0{constructor(e){super(),this.hr=e}applyChanges(e){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.hr.addEntry(e,a)):this.hr.removeEntry(o)}),j.waitFor(r)}getFromCache(e,r){return this.hr.getEntry(e,r)}getAllFromCache(e,r){return this.hr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.persistence=e,this.Br=new Ai(r=>ch(r),hh),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.kr=0,this.qr=new mh,this.targetCount=0,this.Qr=Ds.qn()}forEachTarget(e,r){return this.Br.forEach((o,a)=>r(a)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.kr&&(this.kr=r),j.resolve()}Un(e){this.Br.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Qr=new Ds(r),this.highestTargetId=r),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,r){return this.Un(r),this.targetCount+=1,j.resolve()}updateTargetData(e,r){return this.Un(r),j.resolve()}removeTargetData(e,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,r,o){let a=0;const c=[];return this.Br.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Br.delete(p),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,r){const o=this.Br.get(r)||null;return j.resolve(o)}addMatchingKeys(e,r,o){return this.qr.mr(r,o),j.resolve()}removeMatchingKeys(e,r,o){this.qr.pr(r,o);const a=this.persistence.referenceDelegate,c=[];return a&&r.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),j.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.qr.yr(r),j.resolve()}getMatchingKeysForTargetId(e,r){const o=this.qr.Sr(r);return j.resolve(o)}containsKey(e,r){return j.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,r){this.Kr={},this.overlays={},this.$r=new Ua(0),this.Ur=!1,this.Ur=!0,this.Wr=new E0,this.referenceDelegate=e(this),this.Gr=new I0(this),this.indexManager=new u0,this.remoteDocumentCache=function(a){return new T0(a)}(o=>this.referenceDelegate.zr(o)),this.serializer=new l0(r),this.jr=new v0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _0,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Kr[e.toKey()];return o||(o=new w0(r,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,r,o){ee("MemoryPersistence","Starting transaction:",e);const a=new A0(this.$r.next());return this.referenceDelegate.Hr(),o(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,r){return j.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,r)))}}class A0 extends n_{constructor(e){super(),this.currentSequenceNumber=e}}class gh{constructor(e){this.persistence=e,this.Zr=new mh,this.Xr=null}static ei(e){return new gh(e)}get ti(){if(this.Xr)return this.Xr;throw pe()}addReference(e,r,o){return this.Zr.addReference(o,r),this.ti.delete(o.toString()),j.resolve()}removeReference(e,r,o){return this.Zr.removeReference(o,r),this.ti.add(o.toString()),j.resolve()}markPotentiallyOrphaned(e,r){return this.ti.add(r.toString()),j.resolve()}removeTarget(e,r){this.Zr.yr(r.targetId).forEach(a=>this.ti.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>o.removeTargetData(e,r))}Hr(){this.Xr=new Set}Jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,o=>{const a=he.fromPath(o);return this.ni(e,a).next(c=>{c||r.removeEntry(a,de.min())})}).next(()=>(this.Xr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ni(e,r).next(o=>{o?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(e){return 0}ni(e,r){return j.or([()=>j.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Yr(e,r)])}}class Na{constructor(e,r){this.persistence=e,this.ri=new Ai(o=>i_(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=p0(this,r)}static ei(e,r){return new Na(e,r)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}Xn(e){const r=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>r.next(a=>o+a))}nr(e){let r=0;return this.er(e,o=>{r++}).next(()=>r)}er(e,r){return j.forEach(this.ri,(o,a)=>this.ir(e,o,a).next(c=>c?j.resolve():r(a)))}removeTargets(e,r,o){return this.persistence.getTargetCache().removeTargets(e,r,o)}removeOrphanedDocuments(e,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,p=>this.ir(e,p,r).next(g=>{g||(o++,c.removeEntry(p,de.min()))})).next(()=>c.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,r,o){return this.ri.set(o,e.currentSequenceNumber),j.resolve()}removeReference(e,r,o){return this.ri.set(o,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}zr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Ta(e.data.value)),r}ir(e,r,o){return j.or([()=>this.persistence.Yr(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.ri.get(r);return j.resolve(a!==void 0&&a>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,r,o,a){this.targetId=e,this.fromCache=r,this.Wi=o,this.Gi=a}static zi(e,r){let o=De(),a=De();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new yh(e,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Sy()?8:r_(wy())>0?6:4}()}initialize(e,r){this.Zi=e,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(e,r,o,a){const c={result:null};return this.Xi(e,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.es(e,r,a,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new C0;return this.ts(e,r,p).next(g=>{if(c.result=g,this.Hi)return this.ns(e,r,p,g.size)})}).next(()=>c.result)}ns(e,r,o,a){return o.documentReadCount<this.Ji?(vs()<=Ie.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",_s(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(vs()<=Ie.DEBUG&&ee("QueryEngine","Query:",_s(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.Yi*a?(vs()<=Ie.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",_s(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(r))):j.resolve())}Xi(e,r){if(hp(r))return j.resolve(null);let o=jn(r);return this.indexManager.getIndexType(e,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Wc(r,null,"F"),o=jn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const p=De(...c);return this.Zi.getDocuments(e,p).next(g=>this.indexManager.getMinOffset(e,o).next(v=>{const E=this.rs(r,g);return this.ss(r,E,p,v.readTime)?this.Xi(e,Wc(r,null,"F")):this.os(e,E,r,v)}))})))}es(e,r,o,a){return hp(r)||a.isEqual(de.min())?j.resolve(null):this.Zi.getDocuments(e,o).next(c=>{const p=this.rs(r,c);return this.ss(r,p,o,a)?j.resolve(null):(vs()<=Ie.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_s(r)),this.os(e,p,r,Jv(a,-1)).next(g=>g))})}rs(e,r){let o=new ht(pm(e));return r.forEach((a,c)=>{ba(e,c)&&(o=o.add(c))}),o}ss(e,r,o,a){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,r,o){return vs()<=Ie.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",_s(r)),this.Zi.getDocumentsMatchingQuery(e,r,Br.min(),o)}os(e,r,o,a){return this.Zi.getDocumentsMatchingQuery(e,o,a).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,r,o,a){this.persistence=e,this._s=r,this.serializer=a,this.us=new tt(Ae),this.cs=new Ai(c=>ch(c),hh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.us))}}function k0(s,e,r,o){return new P0(s,e,r,o)}async function xm(s,e){const r=Ce(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(c=>(a=c,r.Ps(e),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let v=De();for(const E of a){p.push(E.batchId);for(const C of E.mutations)v=v.add(C.key)}for(const E of c){g.push(E.batchId);for(const C of E.mutations)v=v.add(C.key)}return r.localDocuments.getDocuments(o,v).next(E=>({Ts:E,removedBatchIds:p,addedBatchIds:g}))})})}function Nm(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Gr.getLastRemoteSnapshotVersion(r))}function D0(s,e){const r=Ce(s),o=e.snapshotVersion;let a=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.hs.newChangeBuffer({trackRemovals:!0});a=r.us;const g=[];e.targetChanges.forEach((C,M)=>{const z=a.get(M);if(!z)return;g.push(r.Gr.removeMatchingKeys(c,C.removedDocuments,M).next(()=>r.Gr.addMatchingKeys(c,C.addedDocuments,M)));let H=z.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(M)!==null?H=H.withResumeToken(St.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):C.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(C.resumeToken,o)),a=a.insert(M,H),function(Z,K,xe){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8?!0:xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0}(z,H,C)&&g.push(r.Gr.updateTargetData(c,H))});let v=qr(),E=De();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,C))}),g.push(V0(c,p,e.documentUpdates).next(C=>{v=C.Is,E=C.Es})),!o.isEqual(de.min())){const C=r.Gr.getLastRemoteSnapshotVersion(c).next(M=>r.Gr.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(C)}return j.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(r.us=a,c))}function V0(s,e,r){let o=De(),a=De();return r.forEach(c=>o=o.add(c)),e.getEntries(s,o).next(c=>{let p=qr();return r.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(g)),v.isNoDocument()&&v.version.isEqual(de.min())?(e.removeEntry(g,v.readTime),p=p.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(v),p=p.insert(g,v)):ee("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{Is:p,Es:a}})}function x0(s,e){const r=Ce(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.Gr.getTargetData(o,e).next(c=>c?(a=c,j.resolve(a)):r.Gr.allocateTargetId(o).next(p=>(a=new Mr(e,p,"TargetPurposeListen",o.currentSequenceNumber),r.Gr.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.us.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.us=r.us.insert(o.targetId,o),r.cs.set(e,o.targetId)),o})}async function Zc(s,e,r){const o=Ce(s),a=o.us.get(e),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,a))}catch(p){if(!Ls(p))throw p;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.us=o.us.remove(e),o.cs.delete(a.target)}function Sp(s,e,r){const o=Ce(s);let a=de.min(),c=De();return o.persistence.runTransaction("Execute query","readwrite",p=>function(v,E,C){const M=Ce(v),z=M.cs.get(C);return z!==void 0?j.resolve(M.us.get(z)):M.Gr.getTargetData(E,C)}(o,p,jn(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(p,g.targetId).next(v=>{c=v})}).next(()=>o._s.getDocumentsMatchingQuery(p,e,r?a:de.min(),r?c:De())).next(g=>(N0(o,I_(e),g),{documents:g,ds:c})))}function N0(s,e,r){let o=s.ls.get(e)||de.min();r.forEach((a,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.ls.set(e,o)}class Ip{constructor(){this.activeTargetIds=D_()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L0{constructor(){this._o=new Ip,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,r,o){this.ao[e]=r}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ip,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a=null;function Nc(){return _a===null?_a=function(){return 268435456+Math.round(2147483648*Math.random())}():_a++,"0x"+_a.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class U0 extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+r.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(r,o,a,c,p){const g=Nc(),v=this.No(r,o.toUriEncodedString());ee("RestConnection",`Sending RPC '${r}' ${g}:`,v,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,p),this.Bo(r,v,E,a).then(C=>(ee("RestConnection",`Received RPC '${r}' ${g}: `,C),C),C=>{throw Cs("RestConnection",`RPC '${r}' ${g} failed with error: `,C,"url: ",v,"request:",a),C})}ko(r,o,a,c,p,g){return this.Oo(r,o,a,c,p)}Lo(r,o,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),a&&a.headers.forEach((c,p)=>r[p]=c)}No(r,o){const a=M0[r];return`${this.Fo}/v1/${o}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,r,o,a){const c=Nc();return new Promise((p,g)=>{const v=new Zp;v.setWithCredentials(!0),v.listenOnce(em.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case wa.NO_ERROR:const C=v.getResponseJson();ee(Dt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(C)),p(C);break;case wa.TIMEOUT:ee(Dt,`RPC '${e}' ${c} timed out`),g(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case wa.HTTP_ERROR:const M=v.getStatus();if(ee(Dt,`RPC '${e}' ${c} failed with status:`,M,"response text:",v.getResponseText()),M>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const H=z==null?void 0:z.error;if(H&&H.status&&H.message){const te=function(K){const xe=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(xe)>=0?xe:X.UNKNOWN}(H.status);g(new ce(te,H.message))}else g(new ce(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ce(X.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ee(Dt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(a);ee(Dt,`RPC '${e}' ${c} sending request:`,a),v.send(r,"POST",E,o,15)})}qo(e,r,o){const a=Nc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=rm(),g=nm(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Lo(v.initMessageHeaders,r,o),v.encodeInitMessageHeaders=!0;const C=c.join("");ee(Dt,`Creating RPC '${e}' stream ${a}: ${C}`,v);const M=p.createWebChannel(C,v);let z=!1,H=!1;const te=new F0({Eo:K=>{H?ee(Dt,`Not sending because RPC '${e}' stream ${a} is closed:`,K):(z||(ee(Dt,`Opening RPC '${e}' stream ${a} transport.`),M.open(),z=!0),ee(Dt,`RPC '${e}' stream ${a} sending:`,K),M.send(K))},Ao:()=>M.close()}),Z=(K,xe,Re)=>{K.listen(xe,ve=>{try{Re(ve)}catch(_e){setTimeout(()=>{throw _e},0)}})};return Z(M,Oo.EventType.OPEN,()=>{H||(ee(Dt,`RPC '${e}' stream ${a} transport opened.`),te.So())}),Z(M,Oo.EventType.CLOSE,()=>{H||(H=!0,ee(Dt,`RPC '${e}' stream ${a} transport closed`),te.Do())}),Z(M,Oo.EventType.ERROR,K=>{H||(H=!0,Cs(Dt,`RPC '${e}' stream ${a} transport errored:`,K),te.Do(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),Z(M,Oo.EventType.MESSAGE,K=>{var xe;if(!H){const Re=K.data[0];Ke(!!Re);const ve=Re,_e=(ve==null?void 0:ve.error)||((xe=ve[0])===null||xe===void 0?void 0:xe.error);if(_e){ee(Dt,`RPC '${e}' stream ${a} received error:`,_e);const Xe=_e.status;let Pe=function(I){const P=it[I];if(P!==void 0)return Tm(P)}(Xe),k=_e.message;Pe===void 0&&(Pe=X.INTERNAL,k="Unknown error status: "+Xe+" with message "+_e.message),H=!0,te.Do(new ce(Pe,k)),M.close()}else ee(Dt,`RPC '${e}' stream ${a} received:`,Re),te.vo(Re)}}),Z(g,tm.STAT_EVENT,K=>{K.stat===$c.PROXY?ee(Dt,`RPC '${e}' stream ${a} detected buffering proxy`):K.stat===$c.NOPROXY&&ee(Dt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{te.bo()},0),te}}function Lc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(s){return new W_(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,r,o=1e3,a=1.5,c=6e4){this.li=e,this.timerId=r,this.Qo=o,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const r=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),a=Math.max(0,r-o);a>0&&ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,r,o,a,c,p,g,v){this.li=e,this.Yo=o,this.Zo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Om(e,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(ur(r.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(r)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Xo===r&&this.I_(o,a)},o=>{e(()=>{const a=new ce(X.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(a)})})}I_(e,r){const o=this.T_(this.Xo);this.stream=this.d_(e,r),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{o(()=>this.E_(a))}),this.stream.onMessage(a=>{o(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return r=>{this.li.enqueueAndForget(()=>this.Xo===e?r():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B0 extends z0{constructor(e,r,o,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,p),this.serializer=c}d_(e,r){return this.connection.qo("Listen",e,r)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const r=Z_(this.serializer,e),o=function(c){if(!("targetChange"in c))return de.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?de.min():p.readTime?Ss(p.readTime):de.min()}(e);return this.listener.R_(r,o)}V_(e){const r={};r.database=Ep(this.serializer),r.addTarget=function(c,p){let g;const v=p.target;if(g=Kc(v)?{documents:e0(c,v)}:{query:t0(c,v).ct},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=X_(c,p.resumeToken);const E=Yc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(de.min())>0){g.readTime=G_(c,p.snapshotVersion.toTimestamp());const E=Yc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,e);const o=r0(this.serializer,e);o&&(r.labels=o),this.c_(r)}m_(e){const r={};r.database=Ep(this.serializer),r.removeTarget=e,this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends class{}{constructor(e,r,o,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Oo(e,Jc(r,o),a,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(X.UNKNOWN,c.toString())})}ko(e,r,o,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.ko(e,Jc(r,o),a,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ce(X.UNKNOWN,p.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class $0{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ur(r),this.C_=!1):ee("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,r,o,a,c){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(p=>{o.enqueueAndForget(async()=>{Jo(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(v){const E=Ce(v);E.k_.add(4),await Yo(E),E.K_.set("Unknown"),E.k_.delete(4),await Ka(E)}(this))})}),this.K_=new $0(o,a)}}async function Ka(s){if(Jo(s))for(const e of s.q_)await e(!0)}async function Yo(s){for(const e of s.q_)await e(!1)}function Mm(s,e){const r=Ce(s);r.B_.has(e.targetId)||(r.B_.set(e.targetId,e),wh(r)?Eh(r):Os(r).s_()&&_h(r,e))}function vh(s,e){const r=Ce(s),o=Os(r);r.B_.delete(e),o.s_()&&Fm(r,e),r.B_.size===0&&(o.s_()?o.a_():Jo(r)&&r.K_.set("Unknown"))}function _h(s,e){if(s.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Os(s).V_(e)}function Fm(s,e){s.U_.xe(e),Os(s).m_(e)}function Eh(s){s.U_=new q_({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>s.B_.get(e)||null,nt:()=>s.datastore.serializer.databaseId}),Os(s).start(),s.K_.F_()}function wh(s){return Jo(s)&&!Os(s).i_()&&s.B_.size>0}function Jo(s){return Ce(s).k_.size===0}function Um(s){s.U_=void 0}async function q0(s){s.K_.set("Online")}async function H0(s){s.B_.forEach((e,r)=>{_h(s,e)})}async function Q0(s,e){Um(s),wh(s)?(s.K_.O_(e),Eh(s)):s.K_.set("Unknown")}async function K0(s,e,r){if(s.K_.set("Online"),e instanceof Im&&e.state===2&&e.cause)try{await async function(a,c){const p=c.cause;for(const g of c.targetIds)a.B_.has(g)&&(await a.remoteSyncer.rejectListen(g,p),a.B_.delete(g),a.U_.removeTarget(g))}(s,e)}catch(o){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Cp(s,o)}else if(e instanceof Ia?s.U_.$e(e):e instanceof Sm?s.U_.Je(e):s.U_.Ge(e),!r.isEqual(de.min()))try{const o=await Nm(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.U_.it(p);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const C=c.B_.get(E);C&&c.B_.set(E,C.withResumeToken(v.resumeToken,p))}}),g.targetMismatches.forEach((v,E)=>{const C=c.B_.get(v);if(!C)return;c.B_.set(v,C.withResumeToken(St.EMPTY_BYTE_STRING,C.snapshotVersion)),Fm(c,v);const M=new Mr(C.target,v,E,C.sequenceNumber);_h(c,M)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){ee("RemoteStore","Failed to raise snapshot:",o),await Cp(s,o)}}async function Cp(s,e,r){if(!Ls(e))throw e;s.k_.add(1),await Yo(s),s.K_.set("Offline"),r||(r=()=>Nm(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await r(),s.k_.delete(1),await Ka(s)})}async function Rp(s,e){const r=Ce(s);r.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const o=Jo(r);r.k_.add(3),await Yo(r),o&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.k_.delete(3),await Ka(r)}async function W0(s,e){const r=Ce(s);e?(r.k_.delete(2),await Ka(r)):e||(r.k_.add(2),await Yo(r),r.K_.set("Unknown"))}function Os(s){return s.W_||(s.W_=function(r,o,a){const c=Ce(r);return c.b_(),new B0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(s.datastore,s.asyncQueue,{Ro:q0.bind(null,s),mo:H0.bind(null,s),po:Q0.bind(null,s),R_:K0.bind(null,s)}),s.q_.push(async e=>{e?(s.W_.__(),wh(s)?Eh(s):s.K_.set("Unknown")):(await s.W_.stop(),Um(s))})),s.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,r,o,a,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,a,c){const p=Date.now()+o,g=new Th(e,r,p,a,c);return g.start(o),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(s,e){if(ur("AsyncQueue",`${e}: ${s}`),Ls(s))return new ce(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(e){return new Is(e.comparator)}constructor(e){this.comparator=e?(r,o)=>e(r,o)||he.comparator(r.key,o.key):(r,o)=>he.comparator(r.key,o.key),this.keyedMap=Mo(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Is;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.z_=new tt(he.comparator)}track(e){const r=e.doc.key,o=this.z_.get(r);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(r,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(r):e.type===1&&o.type===2?this.z_=this.z_.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(r,{type:2,doc:e.doc}):pe():this.z_=this.z_.insert(r,e)}j_(){const e=[];return this.z_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Vs{constructor(e,r,o,a,c,p,g,v,E){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,r,o,a,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Vs(e,r,Is.emptySet(r),p,o,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$a(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class X0{constructor(){this.queries=kp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,o){const a=Ce(r),c=a.queries;a.queries=kp(),c.forEach((p,g)=>{for(const v of g.J_)v.onError(o)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function kp(){return new Ai(s=>dm(s),$a)}async function Y0(s,e){const r=Ce(s);let o=3;const a=e.query;let c=r.queries.get(a);c?!c.Y_()&&e.Z_()&&(o=2):(c=new G0,o=e.Z_()?0:1);try{switch(o){case 0:c.H_=await r.onListen(a,!0);break;case 1:c.H_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(p){const g=zm(p,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(g)}r.queries.set(a,c),c.J_.push(e),e.ea(r.onlineState),c.H_&&e.ta(c.H_)&&Sh(r)}async function J0(s,e){const r=Ce(s),o=e.query;let a=3;const c=r.queries.get(o);if(c){const p=c.J_.indexOf(e);p>=0&&(c.J_.splice(p,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function Z0(s,e){const r=Ce(s);let o=!1;for(const a of e){const c=a.query,p=r.queries.get(c);if(p){for(const g of p.J_)g.ta(a)&&(o=!0);p.H_=a}}o&&Sh(r)}function eE(s,e,r){const o=Ce(s),a=o.queries.get(e);if(a)for(const c of a.J_)c.onError(r);o.queries.delete(e)}function Sh(s){s.X_.forEach(e=>{e.next()})}var eh,Dp;(Dp=eh||(eh={})).na="default",Dp.Cache="cache";class tE{constructor(e,r,o){this.query=e,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new Vs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ia?this.oa(e)&&(this.ra.next(e),r=!0):this._a(e,this.onlineState)&&(this.aa(e),r=!0),this.sa=e,r}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),r=!0),r}_a(e,r){if(!e.fromCache||!this.Z_())return!0;const o=r!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==eh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this.key=e}}class jm{constructor(e){this.key=e}}class nE{constructor(e,r){this.query=e,this.da=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=De(),this.mutatedKeys=De(),this.Va=pm(e),this.ma=new Is(this.Va)}get fa(){return this.da}ga(e,r){const o=r?r.pa:new Pp,a=r?r.ma:this.ma;let c=r?r.mutatedKeys:this.mutatedKeys,p=a,g=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((C,M)=>{const z=a.get(C),H=ba(this.query,M)?M:null,te=!!z&&this.mutatedKeys.has(z.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;z&&H?z.data.isEqual(H.data)?te!==Z&&(o.track({type:3,doc:H}),K=!0):this.ya(z,H)||(o.track({type:2,doc:H}),K=!0,(v&&this.Va(H,v)>0||E&&this.Va(H,E)<0)&&(g=!0)):!z&&H?(o.track({type:0,doc:H}),K=!0):z&&!H&&(o.track({type:1,doc:z}),K=!0,(v||E)&&(g=!0)),K&&(H?(p=p.add(H),c=Z?c.add(C):c.delete(C)):(p=p.delete(C),c=c.delete(C)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const C=this.query.limitType==="F"?p.last():p.first();p=p.delete(C.key),c=c.delete(C.key),o.track({type:1,doc:C})}return{ma:p,pa:o,ss:g,mutatedKeys:c}}ya(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const p=e.pa.j_();p.sort((C,M)=>function(H,te){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return Z(H)-Z(te)}(C.type,M.type)||this.Va(C.doc,M.doc)),this.wa(o),a=a!=null&&a;const g=r&&!a?this.Sa():[],v=this.Ra.size===0&&this.current&&!a?1:0,E=v!==this.Aa;return this.Aa=v,p.length!==0||E?{snapshot:new Vs(this.query,e.ma,c,p,e.mutatedKeys,v===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Pp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(r=>this.da=this.da.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.da=this.da.delete(r)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=De(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const r=[];return e.forEach(o=>{this.Ra.has(o)||r.push(new jm(o))}),this.Ra.forEach(o=>{e.has(o)||r.push(new Bm(o))}),r}va(e){this.da=e.ds,this.Ra=De();const r=this.ga(e.documents);return this.applyChanges(r,!0)}Ca(){return Vs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class rE{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class iE{constructor(e){this.key=e,this.Fa=!1}}class sE{constructor(e,r,o,a,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ma={},this.xa=new Ai(g=>dm(g),$a),this.Oa=new Map,this.Na=new Set,this.La=new tt(he.comparator),this.Ba=new Map,this.ka=new mh,this.qa={},this.Qa=new Map,this.Ka=Ds.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function oE(s,e,r=!0){const o=Qm(s);let a;const c=o.xa.get(e);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await $m(o,e,r,!0),a}async function lE(s,e){const r=Qm(s);await $m(r,e,!0,!1)}async function $m(s,e,r,o){const a=await x0(s.localStore,jn(e)),c=a.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await aE(s,e,c,p==="current",a.resumeToken)),s.isPrimaryClient&&r&&Mm(s.remoteStore,a),g}async function aE(s,e,r,o,a){s.Ua=(M,z,H)=>async function(Z,K,xe,Re){let ve=K.view.ga(xe);ve.ss&&(ve=await Sp(Z.localStore,K.query,!1).then(({documents:k})=>K.view.ga(k,ve)));const _e=Re&&Re.targetChanges.get(K.targetId),Xe=Re&&Re.targetMismatches.get(K.targetId)!=null,Pe=K.view.applyChanges(ve,Z.isPrimaryClient,_e,Xe);return xp(Z,K.targetId,Pe.ba),Pe.snapshot}(s,M,z,H);const c=await Sp(s.localStore,e,!0),p=new nE(e,c.ds),g=p.ga(c.documents),v=Xo.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",a),E=p.applyChanges(g,s.isPrimaryClient,v);xp(s,r,E.ba);const C=new rE(e,r,p);return s.xa.set(e,C),s.Oa.has(r)?s.Oa.get(r).push(e):s.Oa.set(r,[e]),E.snapshot}async function uE(s,e,r){const o=Ce(s),a=o.xa.get(e),c=o.Oa.get(a.targetId);if(c.length>1)return o.Oa.set(a.targetId,c.filter(p=>!$a(p,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await Zc(o.localStore,a.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(a.targetId),r&&vh(o.remoteStore,a.targetId),th(o,a.targetId)}).catch(Fa)):(th(o,a.targetId),await Zc(o.localStore,a.targetId,!0))}async function cE(s,e){const r=Ce(s),o=r.xa.get(e),a=r.Oa.get(o.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),vh(r.remoteStore,o.targetId))}async function bm(s,e){const r=Ce(s);try{const o=await D0(r.localStore,e);e.targetChanges.forEach((a,c)=>{const p=r.Ba.get(c);p&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Fa=!0:a.modifiedDocuments.size>0?Ke(p.Fa):a.removedDocuments.size>0&&(Ke(p.Fa),p.Fa=!1))}),await Hm(r,o,e)}catch(o){await Fa(o)}}function Vp(s,e,r){const o=Ce(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.xa.forEach((c,p)=>{const g=p.view.ea(e);g.snapshot&&a.push(g.snapshot)}),function(p,g){const v=Ce(p);v.onlineState=g;let E=!1;v.queries.forEach((C,M)=>{for(const z of M.J_)z.ea(g)&&(E=!0)}),E&&Sh(v)}(o.eventManager,e),a.length&&o.Ma.R_(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function hE(s,e,r){const o=Ce(s);o.sharedClientState.updateQueryState(e,"rejected",r);const a=o.Ba.get(e),c=a&&a.key;if(c){let p=new tt(he.comparator);p=p.insert(c,xt.newNoDocument(c,de.min()));const g=De().add(c),v=new Qa(de.min(),new Map,new tt(Ae),p,g);await bm(o,v),o.La=o.La.remove(c),o.Ba.delete(e),Ih(o)}else await Zc(o.localStore,e,!1).then(()=>th(o,e,r)).catch(Fa)}function th(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.Oa.get(e))s.xa.delete(o),r&&s.Ma.Wa(o,r);s.Oa.delete(e),s.isPrimaryClient&&s.ka.yr(e).forEach(o=>{s.ka.containsKey(o)||qm(s,o)})}function qm(s,e){s.Na.delete(e.path.canonicalString());const r=s.La.get(e);r!==null&&(vh(s.remoteStore,r),s.La=s.La.remove(e),s.Ba.delete(r),Ih(s))}function xp(s,e,r){for(const o of r)o instanceof Bm?(s.ka.addReference(o.key,e),fE(s,o)):o instanceof jm?(ee("SyncEngine","Document no longer in limbo: "+o.key),s.ka.removeReference(o.key,e),s.ka.containsKey(o.key)||qm(s,o.key)):pe()}function fE(s,e){const r=e.key,o=r.path.canonicalString();s.La.get(r)||s.Na.has(o)||(ee("SyncEngine","New document in limbo: "+r),s.Na.add(o),Ih(s))}function Ih(s){for(;s.Na.size>0&&s.La.size<s.maxConcurrentLimboResolutions;){const e=s.Na.values().next().value;s.Na.delete(e);const r=new he(Ge.fromString(e)),o=s.Ka.next();s.Ba.set(o,new iE(r)),s.La=s.La.insert(r,o),Mm(s.remoteStore,new Mr(jn(fm(r.path)),o,"TargetPurposeLimboResolution",Ua.oe))}}async function Hm(s,e,r){const o=Ce(s),a=[],c=[],p=[];o.xa.isEmpty()||(o.xa.forEach((g,v)=>{p.push(o.Ua(v,e,r).then(E=>{var C;if((E||r)&&o.isPrimaryClient){const M=E?!E.fromCache:(C=r==null?void 0:r.targetChanges.get(v.targetId))===null||C===void 0?void 0:C.current;o.sharedClientState.updateQueryState(v.targetId,M?"current":"not-current")}if(E){a.push(E);const M=yh.zi(v.targetId,E);c.push(M)}}))}),await Promise.all(p),o.Ma.R_(a),await async function(v,E){const C=Ce(v);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>j.forEach(E,z=>j.forEach(z.Wi,H=>C.persistence.referenceDelegate.addReference(M,z.targetId,H)).next(()=>j.forEach(z.Gi,H=>C.persistence.referenceDelegate.removeReference(M,z.targetId,H)))))}catch(M){if(!Ls(M))throw M;ee("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const z=M.targetId;if(!M.fromCache){const H=C.us.get(z),te=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(te);C.us=C.us.insert(z,Z)}}}(o.localStore,c))}async function dE(s,e){const r=Ce(s);if(!r.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const o=await xm(r.localStore,e);r.currentUser=e,function(c,p){c.Qa.forEach(g=>{g.forEach(v=>{v.reject(new ce(X.CANCELLED,p))})}),c.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Hm(r,o.Ts)}}function pE(s,e){const r=Ce(s),o=r.Ba.get(e);if(o&&o.Fa)return De().add(o.key);{let a=De();const c=r.Oa.get(e);if(!c)return a;for(const p of c){const g=r.xa.get(p);a=a.unionWith(g.view.fa)}return a}}function Qm(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=bm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hE.bind(null,e),e.Ma.R_=Z0.bind(null,e.eventManager),e.Ma.Wa=eE.bind(null,e.eventManager),e}class La{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lm(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,r){return null}Ya(e,r){return null}Ha(e){return k0(this.persistence,new R0,e.initialUser,this.serializer)}ja(e){return new Vm(gh.ei,this.serializer)}za(e){return new L0}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}La.provider={build:()=>new La};class mE extends La{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,r){Ke(this.persistence.referenceDelegate instanceof Na);const o=this.persistence.referenceDelegate.garbageCollector;return new f0(o,e.asyncQueue,r)}ja(e){const r=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Vm(o=>Na.ei(o,r),this.serializer)}}class nh{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Vp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=dE.bind(null,this.syncEngine),await W0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X0}()}createDatastore(e){const r=Lm(e.databaseInfo.databaseId),o=function(c){return new U0(c)}(e.databaseInfo);return function(c,p,g,v){return new j0(c,p,g,v)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return function(o,a,c,p,g){return new b0(o,a,c,p,g)}(this.localStore,this.datastore,e.asyncQueue,r=>Vp(this.syncEngine,r,0),function(){return Ap.p()?new Ap:new O0}())}createSyncEngine(e,r){return function(a,c,p,g,v,E,C){const M=new sE(a,c,p,g,v,E);return C&&(M.$a=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const c=Ce(a);ee("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await Yo(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}nh.provider={build:()=>new nh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,r,o,a,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Vt.UNAUTHENTICATED,this.clientId=Xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{ee("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(ee("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=zm(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Oc(s,e){s.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const r=s.configuration;await e.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async a=>{o.isEqual(a)||(await xm(e.localStore,a),o=a)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Np(s,e){s.asyncQueue.verifyOperationInProgress();const r=await vE(s);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,s.configuration),s.setCredentialChangeListener(o=>Rp(e.remoteStore,o)),s.setAppCheckTokenChangeListener((o,a)=>Rp(e.remoteStore,a)),s._onlineComponents=e}async function vE(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Oc(s,s._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Cs("Error using user provided cache. Falling back to memory cache: "+r),await Oc(s,new La)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Oc(s,new mE(void 0));return s._offlineComponents}async function _E(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Np(s,s._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Np(s,new nh))),s._onlineComponents}async function EE(s){const e=await _E(s),r=e.eventManager;return r.onListen=oE.bind(null,e.syncEngine),r.onUnlisten=uE.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=lE.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=cE.bind(null,e.syncEngine),r}function wE(s,e,r={}){const o=new Ti;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,v,E){const C=new gE({next:z=>{C.eu(),p.enqueueAndForget(()=>J0(c,M)),z.fromCache&&v.source==="server"?E.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(z)},error:z=>E.reject(z)}),M=new tE(g,C,{includeMetadataChanges:!0,ua:!0});return Y0(c,M)}(await EE(s),s.asyncQueue,e,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map;function TE(s,e,r,o){if(e===!0&&o===!0)throw new ce(X.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Op(s){if(he.isDocumentKey(s))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function SE(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pe()}function rh(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=SE(s);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Km((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,r,o,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mp(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new $v;switch(o.type){case"firstParty":return new Qv(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Lp.get(r);o&&(ee("ComponentProvider","Removing Datastore"),Lp.delete(r),o.terminate())}(this),Promise.resolve()}}function IE(s,e,r,o={}){var a;const c=(s=rh(s,Ah))._getSettings(),p=`${e}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,v;if(typeof o.mockUserToken=="string")g=o.mockUserToken,v=Vt.MOCK_USER;else{g=Ey(o.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Vt(E)}s._authCredentials=new bv(new im(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class Ms{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class As extends Wa{constructor(e,r,o){super(e,r,fm(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new he(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function AE(s,e,...r){if(s=ky(s),s instanceof Ah){const o=Ge.fromString(e,...r);return Op(o),new As(s,null,o)}{if(!(s instanceof Ms||s instanceof As))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ge.fromString(e,...r));return Op(o),new As(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Om(this,"async_queue_retry"),this.fu=()=>{const o=Lc();o&&ee("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const r=Lc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const r=Lc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new Ti;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ls(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const r=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const a=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw ur("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Ru=!1,o))));return this.gu=r,r}enqueueAfterDelay(e,r,o){this.pu(),this.mu.indexOf(e)>-1&&(r=0);const a=Th.createAndSchedule(this,e,r,o,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&pe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const r of this.du)if(r.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const r=this.du.indexOf(e);this.du.splice(r,1)}}class Wm extends Ah{constructor(e,r,o,a){super(e,r,o,a),this.type="firestore",this._queue=new Fp,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fp(e),this._firestoreClient=void 0,await e}}}function CE(s,e){const r=typeof s=="object"?s:Dv(),o=typeof s=="string"?s:"(default)",a=Cv(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=vy("firestore");c&&IE(a,...c)}return a}function RE(s){if(s._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||PE(s),s._firestoreClient}function PE(s){var e,r,o;const a=s._freezeSettings(),c=function(g,v,E,C){return new a_(g,v,E,C.host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,Km(C.experimentalLongPollingOptions),C.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new yE(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(St.fromBase64String(e))}catch(r){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Oa(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0}(this._values,e._values)}}const VE=new RegExp("[~\\*/\\[\\]]");function xE(s,e,r){if(e.search(VE)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new Gm(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Up(s,e,r,o,a){let c=`Function ${e}() called with invalid data`;c+=". ";let p="";return new ce(X.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,r,o,a,c){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class NE extends Xm{data(){return super.data()}}function Ym(s,e){return typeof e=="string"?xE(s,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OE{convertValue(e,r="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Go(e,(a,c)=>{o[a]=this.convertValue(c,r)}),o}convertVectorValue(e){var r,o,a;const c=(a=(o=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||a===void 0?void 0:a.map(p=>et(p.doubleValue));return new DE(c)}convertGeoPoint(e){return new kE(et(e.latitude),et(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Ba(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Ho(e));default:return null}}convertTimestamp(e){const r=jr(e);return new Gt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Ge.fromString(e);Ke(Dm(o));const a=new Qo(o.get(1),o.get(3)),c=new he(o.popFirst(5));return a.isEqual(r)||ur(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ME extends Xm{constructor(e,r,o,a,c,p){super(e,r,o,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Aa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Ym("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Aa extends ME{data(e={}){return super.data(e)}}class FE{constructor(e,r,o,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new Ea(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Aa(this._firestore,this._userDataWriter,o.key,o,new Ea(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(g=>{const v=new Aa(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Ea(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new Aa(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Ea(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,C=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),C=p.indexOf(g.doc.key)),{type:UE(g.type),doc:v,oldIndex:E,newIndex:C}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function UE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class zE extends OE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,r)}}function BE(s){s=rh(s,Wa);const e=rh(s.firestore,Wm),r=RE(e),o=new zE(e);return LE(s._query),wE(r,s._query).then(a=>new FE(e,o,s,a))}(function(e,r=!0){(function(a){Ns=a})(kv),Pa(new $o("firestore",(o,{instanceIdentifier:a,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Wm(new qv(o.getProvider("auth-internal")),new Wv(o.getProvider("app-check-internal")),function(E,C){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(E.options.projectId,C)}(p,a),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ts(ep,"4.7.5",e),Ts(ep,"4.7.5","esm2017")})();const jE={apiKey:"AIzaSyDQy-dO_jnRBJ4zXaW3eFmbvPUGxJWq7f0",authDomain:"yasminmonth2025.firebaseapp.com",projectId:"yasminmonth2025",storageBucket:"yasminmonth2025.firebasestorage.app",messagingSenderId:"641160622036",appId:"1:641160622036:web:9e773420b01b033c9b3041",measurementId:"G-N6LQRK25H7"},$E=Gp(jE),bE=CE($E);let Nt=0,No=document.getElementById("statementArea"),Lo=document.getElementById("date");function qE(){return jp.useEffect(()=>{WE(),Ga()},[]),Wt.jsxs("div",{children:[Wt.jsxs("div",{className:"message-box",children:[Wt.jsx("h3",{id:"date"}),Wt.jsx("p",{id:"statementArea"})]}),Wt.jsxs("div",{className:"holdButtons",children:[Wt.jsx("button",{id:"backButton",onClick:KE,children:"Past Day"}),Wt.jsx("button",{id:"nextButton",onClick:QE,children:"Next Day"})]})]})}function HE(){for(;!Ma();)Nt++;Nt--,console.log(Nt),Ch(),Ga()}function Ma(){return console.log(new Date().toDateString()),Wo[Nt]>=new Date}function Ga(){const s=document.getElementById("backButton"),e=document.getElementById("nextButton");if(console.log(Wo[Nt]),console.log(Wo[Nt]>new Date),Ma()){e.disabled=!0,e.style.backgroundColor="grey";return}Nt<=0?zp(e,s):Nt>=zr.length-1?zp(s,e):(s.disabled=!1,e.disabled=!1,s.style.backgroundColor="pink",e.style.backgroundColor="pink")}function zp(s,e){e.disabled=!0,e.style.backgroundColor="grey",s.disabled=!1,s.style.backgroundColor="pink"}function QE(){if(Nt++,Ga(),Nt>=zr.length){Nt=zr.length-1;return}Ch()}function KE(){if(Nt--,Ga(),Nt<0){Nt=0;return}Ch()}function Ch(){if(No=document.getElementById("statementArea"),Lo=document.getElementById("date"),console.log(Ma()),Ma()){No&&(No.innerHTML="You have to wait for tomorrow"),Lo&&(Lo.innerHTML="Till Next Time");return}No&&(No.innerHTML=zr[Nt].message),Lo&&(Lo.innerHTML=zr[Nt].date)}let zr=[],Wo=[],Bp=!1;const WE=async()=>{if(console.log("Fetching documents..."),Bp)return;Bp=!0,zr=[],Wo=[],(await BE(AE(bE,"test-collection"))).forEach(e=>{const r=e.data(),o={id:e.id,date:r.date.toDate().toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"short",year:"numeric"}).toString(),message:r.message};zr.push(o),Wo.push(r.date.toDate())}),console.log(zr),HE()};function GE(){return Wt.jsx(Wt.Fragment,{children:Wt.jsxs("div",{className:"hold-all",children:[Wt.jsx("h1",{children:"Yasmin Month!!!"}),Wt.jsx(qE,{})]})})}ay.createRoot(document.getElementById("root")).render(Wt.jsx(jp.StrictMode,{children:Wt.jsx(GE,{})}));
