(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var vc={exports:{}},No={},_c={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf;function Jg(){if(Nf)return ye;Nf=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.iterator;function z(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,Z={};function K(V,B,oe){this.props=V,this.context=B,this.refs=Z,this.updater=oe||H}K.prototype.isReactComponent={},K.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Ne(){}Ne.prototype=K.prototype;function Re(V,B,oe){this.props=V,this.context=B,this.refs=Z,this.updater=oe||H}var ve=Re.prototype=new Ne;ve.constructor=Re,te(ve,K.prototype),ve.isPureReactComponent=!0;var _e=Array.isArray,Xe=Object.prototype.hasOwnProperty,Pe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(V,B,oe){var me,ge={},we=null,xe=null;if(B!=null)for(me in B.ref!==void 0&&(xe=B.ref),B.key!==void 0&&(we=""+B.key),B)Xe.call(B,me)&&!k.hasOwnProperty(me)&&(ge[me]=B[me]);var Le=arguments.length-2;if(Le===1)ge.children=oe;else if(1<Le){for(var Ue=Array(Le),dt=0;dt<Le;dt++)Ue[dt]=arguments[dt+2];ge.children=Ue}if(V&&V.defaultProps)for(me in Le=V.defaultProps,Le)ge[me]===void 0&&(ge[me]=Le[me]);return{$$typeof:s,type:V,key:we,ref:xe,props:ge,_owner:Pe.current}}function I(V,B){return{$$typeof:s,type:V.type,key:B,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function D(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return B[oe]})}var N=/\/+/g;function S(V,B){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):B.toString(36)}function Ye(V,B,oe,me,ge){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var xe=!1;if(V===null)xe=!0;else switch(we){case"string":case"number":xe=!0;break;case"object":switch(V.$$typeof){case s:case t:xe=!0}}if(xe)return xe=V,ge=ge(xe),V=me===""?"."+S(xe,0):me,_e(ge)?(oe="",V!=null&&(oe=V.replace(N,"$&/")+"/"),Ye(ge,B,oe,"",function(dt){return dt})):ge!=null&&(P(ge)&&(ge=I(ge,oe+(!ge.key||xe&&xe.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+V)),B.push(ge)),1;if(xe=0,me=me===""?".":me+":",_e(V))for(var Le=0;Le<V.length;Le++){we=V[Le];var Ue=me+S(we,Le);xe+=Ye(we,B,oe,Ue,ge)}else if(Ue=z(V),typeof Ue=="function")for(V=Ue.call(V),Le=0;!(we=V.next()).done;)we=we.value,Ue=me+S(we,Le++),xe+=Ye(we,B,oe,Ue,ge);else if(we==="object")throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return xe}function It(V,B,oe){if(V==null)return V;var me=[],ge=0;return Ye(V,me,"","",function(we){return B.call(oe,we,ge++)}),me}function At(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var Me={current:null},G={transition:null},le={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:G,ReactCurrentOwner:Pe};function J(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:It,forEach:function(V,B,oe){It(V,function(){B.apply(this,arguments)},oe)},count:function(V){var B=0;return It(V,function(){B++}),B},toArray:function(V){return It(V,function(B){return B})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ye.Component=K,ye.Fragment=r,ye.Profiler=a,ye.PureComponent=Re,ye.StrictMode=o,ye.Suspense=v,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,ye.act=J,ye.cloneElement=function(V,B,oe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var me=te({},V.props),ge=V.key,we=V.ref,xe=V._owner;if(B!=null){if(B.ref!==void 0&&(we=B.ref,xe=Pe.current),B.key!==void 0&&(ge=""+B.key),V.type&&V.type.defaultProps)var Le=V.type.defaultProps;for(Ue in B)Xe.call(B,Ue)&&!k.hasOwnProperty(Ue)&&(me[Ue]=B[Ue]===void 0&&Le!==void 0?Le[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)me.children=oe;else if(1<Ue){Le=Array(Ue);for(var dt=0;dt<Ue;dt++)Le[dt]=arguments[dt+2];me.children=Le}return{$$typeof:s,type:V.type,key:ge,ref:we,props:me,_owner:xe}},ye.createContext=function(V){return V={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},ye.createElement=T,ye.createFactory=function(V){var B=T.bind(null,V);return B.type=V,B},ye.createRef=function(){return{current:null}},ye.forwardRef=function(V){return{$$typeof:g,render:V}},ye.isValidElement=P,ye.lazy=function(V){return{$$typeof:C,_payload:{_status:-1,_result:V},_init:At}},ye.memo=function(V,B){return{$$typeof:E,type:V,compare:B===void 0?null:B}},ye.startTransition=function(V){var B=G.transition;G.transition={};try{V()}finally{G.transition=B}},ye.unstable_act=J,ye.useCallback=function(V,B){return Me.current.useCallback(V,B)},ye.useContext=function(V){return Me.current.useContext(V)},ye.useDebugValue=function(){},ye.useDeferredValue=function(V){return Me.current.useDeferredValue(V)},ye.useEffect=function(V,B){return Me.current.useEffect(V,B)},ye.useId=function(){return Me.current.useId()},ye.useImperativeHandle=function(V,B,oe){return Me.current.useImperativeHandle(V,B,oe)},ye.useInsertionEffect=function(V,B){return Me.current.useInsertionEffect(V,B)},ye.useLayoutEffect=function(V,B){return Me.current.useLayoutEffect(V,B)},ye.useMemo=function(V,B){return Me.current.useMemo(V,B)},ye.useReducer=function(V,B,oe){return Me.current.useReducer(V,B,oe)},ye.useRef=function(V){return Me.current.useRef(V)},ye.useState=function(V){return Me.current.useState(V)},ye.useSyncExternalStore=function(V,B,oe){return Me.current.useSyncExternalStore(V,B,oe)},ye.useTransition=function(){return Me.current.useTransition()},ye.version="18.3.1",ye}var xf;function nh(){return xf||(xf=1,_c.exports=Jg()),_c.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function Zg(){if(Lf)return No;Lf=1;var s=nh(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,v,E){var C,M={},z=null,H=null;E!==void 0&&(z=""+E),v.key!==void 0&&(z=""+v.key),v.ref!==void 0&&(H=v.ref);for(C in v)o.call(v,C)&&!c.hasOwnProperty(C)&&(M[C]=v[C]);if(g&&g.defaultProps)for(C in v=g.defaultProps,v)M[C]===void 0&&(M[C]=v[C]);return{$$typeof:t,type:g,key:z,ref:H,props:M,_owner:a.current}}return No.Fragment=r,No.jsx=p,No.jsxs=p,No}var Of;function ey(){return Of||(Of=1,vc.exports=Zg()),vc.exports}var Kt=ey(),Up=nh(),ha={},Ec={exports:{}},Ht={},wc={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function ty(){return Mf||(Mf=1,function(s){function t(G,le){var J=G.length;G.push(le);e:for(;0<J;){var V=J-1>>>1,B=G[V];if(0<a(B,le))G[V]=le,G[J]=B,J=V;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var le=G[0],J=G.pop();if(J!==le){G[0]=J;e:for(var V=0,B=G.length,oe=B>>>1;V<oe;){var me=2*(V+1)-1,ge=G[me],we=me+1,xe=G[we];if(0>a(ge,J))we<B&&0>a(xe,ge)?(G[V]=xe,G[we]=J,V=we):(G[V]=ge,G[me]=J,V=me);else if(we<B&&0>a(xe,J))G[V]=xe,G[we]=J,V=we;else break e}}return le}function a(G,le){var J=G.sortIndex-le.sortIndex;return J!==0?J:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],E=[],C=1,M=null,z=3,H=!1,te=!1,Z=!1,K=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(G){for(var le=r(E);le!==null;){if(le.callback===null)o(E);else if(le.startTime<=G)o(E),le.sortIndex=le.expirationTime,t(v,le);else break;le=r(E)}}function _e(G){if(Z=!1,ve(G),!te)if(r(v)!==null)te=!0,At(Xe);else{var le=r(E);le!==null&&Me(_e,le.startTime-G)}}function Xe(G,le){te=!1,Z&&(Z=!1,Ne(T),T=-1),H=!0;var J=z;try{for(ve(le),M=r(v);M!==null&&(!(M.expirationTime>le)||G&&!D());){var V=M.callback;if(typeof V=="function"){M.callback=null,z=M.priorityLevel;var B=V(M.expirationTime<=le);le=s.unstable_now(),typeof B=="function"?M.callback=B:M===r(v)&&o(v),ve(le)}else o(v);M=r(v)}if(M!==null)var oe=!0;else{var me=r(E);me!==null&&Me(_e,me.startTime-le),oe=!1}return oe}finally{M=null,z=J,H=!1}}var Pe=!1,k=null,T=-1,I=5,P=-1;function D(){return!(s.unstable_now()-P<I)}function N(){if(k!==null){var G=s.unstable_now();P=G;var le=!0;try{le=k(!0,G)}finally{le?S():(Pe=!1,k=null)}}else Pe=!1}var S;if(typeof Re=="function")S=function(){Re(N)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,It=Ye.port2;Ye.port1.onmessage=N,S=function(){It.postMessage(null)}}else S=function(){K(N,0)};function At(G){k=G,Pe||(Pe=!0,S())}function Me(G,le){T=K(function(){G(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){te||H||(te=!0,At(Xe))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_getFirstCallbackNode=function(){return r(v)},s.unstable_next=function(G){switch(z){case 1:case 2:case 3:var le=3;break;default:le=z}var J=z;z=le;try{return G()}finally{z=J}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=z;z=G;try{return le()}finally{z=J}},s.unstable_scheduleCallback=function(G,le,J){var V=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?V+J:V):J=V,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,G={id:C++,callback:le,priorityLevel:G,startTime:J,expirationTime:B,sortIndex:-1},J>V?(G.sortIndex=J,t(E,G),r(v)===null&&G===r(E)&&(Z?(Ne(T),T=-1):Z=!0,Me(_e,J-V))):(G.sortIndex=B,t(v,G),te||H||(te=!0,At(Xe))),G},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(G){var le=z;return function(){var J=z;z=le;try{return G.apply(this,arguments)}finally{z=J}}}}(Tc)),Tc}var Ff;function ny(){return Ff||(Ff=1,wc.exports=ty()),wc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function ry(){if(Uf)return Ht;Uf=1;var s=nh(),t=ny();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},M={};function z(e){return v.call(M,e)?!0:v.call(C,e)?!1:E.test(e)?M[e]=!0:(C[e]=!0,!1)}function H(e,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function te(e,n,i,u){if(n===null||typeof n>"u"||H(e,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Z(e,n,i,u,h,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new Z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new Z(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new Z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new Z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new Z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new Z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new Z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new Z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new Z(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ne=/[\-:]([a-z])/g;function Re(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Ne,Re);K[n]=new Z(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Ne,Re);K[n]=new Z(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Ne,Re);K[n]=new Z(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new Z(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new Z(e,1,!1,e.toLowerCase(),null,!0,!0)});function ve(e,n,i,u){var h=K.hasOwnProperty(n)?K[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(te(n,i,h,u)&&(i=null),u||h===null?z(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,u=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?e.setAttributeNS(u,n,i):e.setAttribute(n,i))))}var _e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,V;function B(e){if(V===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||""}return`
`+V+e}var oe=!1;function me(e,n){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(e,[],n)}else{try{n.call()}catch(F){u=F}e.call(n.prototype)}else{try{throw Error()}catch(F){u=F}e()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),f=u.stack.split(`
`),y=h.length-1,w=f.length-1;1<=y&&0<=w&&h[y]!==f[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==f[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==f[w]){var A=`
`+h[y].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function ge(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function we(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Pe:return"Portal";case I:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case It:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case At:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}function xe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ue(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dt(e){var n=Ue(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qn(e){e._valueTracker||(e._valueTracker=dt(e))}function Ci(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return e&&(u=Ue(e)?e.checked?"true":"false":e.value),e=u,e!==i?(n.setValue(e),!0):!1}function cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qr(e,n){var i=n.checked;return J({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ri(e,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=Le(n.value!=null?n.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Fs(e,n){n=n.checked,n!=null&&ve(e,"checked",n,!1)}function Us(e,n){Fs(e,n);var i=Le(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Pi(e,n.type,i):n.hasOwnProperty("defaultValue")&&Pi(e,n.type,Le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Xo(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Pi(e,n,i){(n!=="number"||cr(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Hn=Array.isArray;function Qn(e,n,i,u){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&u&&(e[i].defaultSelected=!0)}else{for(i=""+Le(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function zs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ki(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(Hn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Le(i)}}function Di(e,n){var i=Le(n.value),u=Le(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function Bs(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function st(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?st(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kn,js=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,u,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Kn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function hr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){Qr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hr[n]=Hr[e]})});function $s(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+n).trim():n+"px"}function bs(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=$s(i,n[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,h):e[i]=h}}var qs=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(e,n){if(n){if(qs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Qs(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function Vi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,nn=null,kn=null;function xi(e){if(e=yo(e)){if(typeof Ni!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Cl(n),Ni(e.stateNode,e.type,n))}}function Dn(e){nn?kn?kn.push(e):kn=[e]:nn=e}function Ks(){if(nn){var e=nn,n=kn;if(kn=nn=null,xi(e),n)for(e=0;e<n.length;e++)xi(n[e])}}function Wr(e,n){return e(n)}function Ws(){}var Wn=!1;function Gs(e,n,i){if(Wn)return e(n,i);Wn=!0;try{return Wr(e,n,i)}finally{Wn=!1,(nn!==null||kn!==null)&&(Ws(),Ks())}}function Je(e,n){var i=e.stateNode;if(i===null)return null;var u=Cl(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Li=!1;if(g)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){Li=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{Li=!1}function Gr(e,n,i,u,h,f,y,w,A){var F=Array.prototype.slice.call(arguments,3);try{n.apply(i,F)}catch(b){this.onError(b)}}var Xr=!1,Oi=null,mn=!1,Xs=null,Qa={onError:function(e){Xr=!0,Oi=e}};function Mi(e,n,i,u,h,f,y,w,A){Xr=!1,Oi=null,Gr.apply(Qa,arguments)}function Yo(e,n,i,u,h,f,y,w,A){if(Mi.apply(this,arguments),Xr){if(Xr){var F=Oi;Xr=!1,Oi=null}else throw Error(r(198));mn||(mn=!0,Xs=F)}}function gn(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Yr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function yn(e){if(gn(e)!==e)throw Error(r(188))}function Jo(e){var n=e.alternate;if(!n){if(n=gn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,u=n;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return yn(h),e;if(f===u)return yn(h),n;f=f.sibling}throw Error(r(188))}if(i.return!==u.return)i=h,u=f;else{for(var y=!1,w=h.child;w;){if(w===i){y=!0,i=h,u=f;break}if(w===u){y=!0,u=h,i=f;break}w=w.sibling}if(!y){for(w=f.child;w;){if(w===i){y=!0,i=f,u=h;break}if(w===u){y=!0,u=f,i=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function Ys(e){return e=Jo(e),e!==null?Fi(e):null}function Fi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Fi(e);if(n!==null)return n;e=e.sibling}return null}var Ui=t.unstable_scheduleCallback,Js=t.unstable_cancelCallback,Zo=t.unstable_shouldYield,Ka=t.unstable_requestPaint,ze=t.unstable_now,el=t.unstable_getCurrentPriorityLevel,Jr=t.unstable_ImmediatePriority,dr=t.unstable_UserBlockingPriority,rn=t.unstable_NormalPriority,Zs=t.unstable_LowPriority,tl=t.unstable_IdlePriority,Zr=null,Gt=null;function nl(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Zr,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:il,eo=Math.log,rl=Math.LN2;function il(e){return e>>>=0,e===0?32:31-(eo(e)/rl|0)|0}var zi=64,Bi=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,f=e.pingedLanes,y=i&268435455;if(y!==0){var w=y&~h;w!==0?u=fr(w):(f&=y,f!==0&&(u=fr(f)))}else y=i&~h,y!==0?u=fr(y):f!==0&&(u=fr(f));if(u===0)return 0;if(n!==0&&n!==u&&!(n&h)&&(h=u&-u,f=n&-n,h>=f||h===16&&(f&4194240)!==0))return n;if(u&4&&(u|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)i=31-xt(n),h=1<<i,u|=e[i],n&=~h;return u}function Wa(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(e,n){for(var i=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-xt(f),w=1<<y,A=h[y];A===-1?(!(w&i)||w&u)&&(h[y]=Wa(w,n)):A<=n&&(e.expiredLanes|=w),f&=~w}}function Xt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ti(){var e=zi;return zi<<=1,!(zi&4194240)&&(zi=64),e}function pr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function mr(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-xt(n),e[n]=i}function Fe(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-xt(i),f=1<<h;n[h]=0,u[h]=-1,e[h]=-1,i&=~f}}function gr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var u=31-xt(i),h=1<<u;h&n|e[u]&n&&(e[u]|=n),i&=~h}}var Ee=0;function yr(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sl,ji,ol,ll,al,to=!1,Vn=[],vt=null,vn=null,_n=null,vr=new Map,sn=new Map,Nn=[],Ga="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ul(e,n){switch(e){case"focusin":case"focusout":vt=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":vr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(n.pointerId)}}function Ut(e,n,i,u,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},n!==null&&(n=yo(n),n!==null&&ji(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Xa(e,n,i,u,h){switch(n){case"focusin":return vt=Ut(vt,e,n,i,u,h),!0;case"dragenter":return vn=Ut(vn,e,n,i,u,h),!0;case"mouseover":return _n=Ut(_n,e,n,i,u,h),!0;case"pointerover":var f=h.pointerId;return vr.set(f,Ut(vr.get(f)||null,e,n,i,u,h)),!0;case"gotpointercapture":return f=h.pointerId,sn.set(f,Ut(sn.get(f)||null,e,n,i,u,h)),!0}return!1}function cl(e){var n=oi(e.target);if(n!==null){var i=gn(n);if(i!==null){if(n=i.tag,n===13){if(n=Yr(i),n!==null){e.blockedOn=n,al(e.priority,function(){ol(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=$i(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Kr=u,i.target.dispatchEvent(u),Kr=null}else return n=yo(i),n!==null&&ji(n),e.blockedOn=i,!1;n.shift()}return!0}function ni(e,n,i){Xn(e)&&i.delete(n)}function hl(){to=!1,vt!==null&&Xn(vt)&&(vt=null),vn!==null&&Xn(vn)&&(vn=null),_n!==null&&Xn(_n)&&(_n=null),vr.forEach(ni),sn.forEach(ni)}function En(e,n){e.blockedOn===n&&(e.blockedOn=null,to||(to=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hl)))}function wn(e){function n(h){return En(h,e)}if(0<Vn.length){En(Vn[0],e);for(var i=1;i<Vn.length;i++){var u=Vn[i];u.blockedOn===e&&(u.blockedOn=null)}}for(vt!==null&&En(vt,e),vn!==null&&En(vn,e),_n!==null&&En(_n,e),vr.forEach(n),sn.forEach(n),i=0;i<Nn.length;i++)u=Nn[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<Nn.length&&(i=Nn[0],i.blockedOn===null);)cl(i),i.blockedOn===null&&Nn.shift()}var Yn=_e.ReactCurrentBatchConfig,_r=!0;function be(e,n,i,u){var h=Ee,f=Yn.transition;Yn.transition=null;try{Ee=1,no(e,n,i,u)}finally{Ee=h,Yn.transition=f}}function Ya(e,n,i,u){var h=Ee,f=Yn.transition;Yn.transition=null;try{Ee=4,no(e,n,i,u)}finally{Ee=h,Yn.transition=f}}function no(e,n,i,u){if(_r){var h=$i(e,n,i,u);if(h===null)au(e,n,u,ri,i),ul(e,u);else if(Xa(h,e,n,i,u))u.stopPropagation();else if(ul(e,u),n&4&&-1<Ga.indexOf(e)){for(;h!==null;){var f=yo(h);if(f!==null&&sl(f),f=$i(e,n,i,u),f===null&&au(e,n,u,ri,i),f===h)break;h=f}h!==null&&u.stopPropagation()}else au(e,n,u,null,i)}}var ri=null;function $i(e,n,i,u){if(ri=null,e=Vi(u),e=oi(e),e!==null)if(n=gn(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Yr(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ri=e,null}function ro(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(el()){case Jr:return 1;case dr:return 4;case rn:case Zs:return 16;case tl:return 536870912;default:return 16}default:return 16}}var Yt=null,bi=null,zt=null;function io(){if(zt)return zt;var e,n=bi,i=n.length,u,h="value"in Yt?Yt.value:Yt.textContent,f=h.length;for(e=0;e<i&&n[e]===h[e];e++);var y=i-e;for(u=1;u<=y&&n[i-u]===h[f-u];u++);return zt=h.slice(e,1<u?1-u:void 0)}function qi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xn(){return!0}function so(){return!1}function _t(e){function n(i,u,h,f,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xn:so,this.isPropagationStopped=so,this}return J(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xn)},persist:function(){},isPersistent:xn}),n}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=_t(Tn),Ln=J({},Tn,{view:0,detail:0}),Ja=_t(Ln),Qi,Jn,Er,ii=J({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Qi=e.screenX-Er.screenX,Jn=e.screenY-Er.screenY):Jn=Qi=0,Er=e),Qi)},movementY:function(e){return"movementY"in e?e.movementY:Jn}}),Ki=_t(ii),oo=J({},ii,{dataTransfer:0}),dl=_t(oo),Wi=J({},Ln,{relatedTarget:0}),Gi=_t(Wi),fl=J({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zn=_t(fl),pl=J({},Tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ml=_t(pl),gl=J({},Tn,{data:0}),lo=_t(gl),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yl[e])?!!n[e]:!1}function On(){return vl}var l=J({},Ln,{key:function(e){if(e.key){var n=Xi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d=_t(l),m=J({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=_t(m),x=J({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On}),U=_t(x),W=J({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=_t(W),lt=J({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Te=_t(lt),ft=[9,13,27,32],nt=g&&"CompositionEvent"in window,on=null;g&&"documentMode"in document&&(on=document.documentMode);var Jt=g&&"TextEvent"in window&&!on,si=g&&(!nt||on&&8<on&&11>=on),Yi=" ",Ah=!1;function Ch(e,n){switch(e){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function Xm(e,n){switch(e){case"compositionend":return Rh(n);case"keypress":return n.which!==32?null:(Ah=!0,Yi);case"textInput":return e=n.data,e===Yi&&Ah?null:e;default:return null}}function Ym(e,n){if(Ji)return e==="compositionend"||!nt&&Ch(e,n)?(e=io(),zt=bi=Yt=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return si&&n.locale!=="ko"?null:n.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Jm[e.type]:n==="textarea"}function kh(e,n,i,u){Dn(u),n=Sl(n,"onChange"),0<n.length&&(i=new Hi("onChange","change",null,i,u),e.push({event:i,listeners:n}))}var ao=null,uo=null;function Zm(e){Kh(e,0)}function _l(e){var n=rs(e);if(Ci(n))return e}function eg(e,n){if(e==="change")return n}var Dh=!1;if(g){var Za;if(g){var eu="oninput"in document;if(!eu){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),eu=typeof Vh.oninput=="function"}Za=eu}else Za=!1;Dh=Za&&(!document.documentMode||9<document.documentMode)}function Nh(){ao&&(ao.detachEvent("onpropertychange",xh),uo=ao=null)}function xh(e){if(e.propertyName==="value"&&_l(uo)){var n=[];kh(n,uo,e,Vi(e)),Gs(Zm,n)}}function tg(e,n,i){e==="focusin"?(Nh(),ao=n,uo=i,ao.attachEvent("onpropertychange",xh)):e==="focusout"&&Nh()}function ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(uo)}function rg(e,n){if(e==="click")return _l(n)}function ig(e,n){if(e==="input"||e==="change")return _l(n)}function sg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:sg;function co(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!v.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oh(e,n){var i=Lh(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=n&&u>=n)return{node:i,offset:n-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Lh(i)}}function Mh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fh(){for(var e=window,n=cr();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=cr(e.document)}return n}function tu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function og(e){var n=Fh(),i=e.focusedElem,u=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Mh(i.ownerDocument.documentElement,i)){if(u!==null&&tu(i)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!e.extend&&f>u&&(h=u,u=f,f=h),h=Oh(i,f);var y=Oh(i,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),f>u?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lg=g&&"documentMode"in document&&11>=document.documentMode,Zi=null,nu=null,ho=null,ru=!1;function Uh(e,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ru||Zi==null||Zi!==cr(u)||(u=Zi,"selectionStart"in u&&tu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ho&&co(ho,u)||(ho=u,u=Sl(nu,"onSelect"),0<u.length&&(n=new Hi("onSelect","select",null,n,i),e.push({event:n,listeners:u}),n.target=Zi)))}function El(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var es={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},iu={},zh={};g&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function wl(e){if(iu[e])return iu[e];if(!es[e])return e;var n=es[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in zh)return iu[e]=n[i];return e}var Bh=wl("animationend"),jh=wl("animationiteration"),$h=wl("animationstart"),bh=wl("transitionend"),qh=new Map,Hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,n){qh.set(e,n),c(n,[e])}for(var su=0;su<Hh.length;su++){var ou=Hh[su],ag=ou.toLowerCase(),ug=ou[0].toUpperCase()+ou.slice(1);wr(ag,"on"+ug)}wr(Bh,"onAnimationEnd"),wr(jh,"onAnimationIteration"),wr($h,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(bh,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cg=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Qh(e,n,i){var u=e.type||"unknown-event";e.currentTarget=i,Yo(u,n,void 0,e),e.currentTarget=null}function Kh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],h=u.event;u=u.listeners;e:{var f=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],A=w.instance,F=w.currentTarget;if(w=w.listener,A!==f&&h.isPropagationStopped())break e;Qh(h,w,F),f=A}else for(y=0;y<u.length;y++){if(w=u[y],A=w.instance,F=w.currentTarget,w=w.listener,A!==f&&h.isPropagationStopped())break e;Qh(h,w,F),f=A}}}if(mn)throw e=Xs,mn=!1,Xs=null,e}function je(e,n){var i=n[pu];i===void 0&&(i=n[pu]=new Set);var u=e+"__bubble";i.has(u)||(Wh(n,e,2,!1),i.add(u))}function lu(e,n,i){var u=0;n&&(u|=4),Wh(i,e,u,n)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function po(e){if(!e[Tl]){e[Tl]=!0,o.forEach(function(i){i!=="selectionchange"&&(cg.has(i)||lu(i,!1,e),lu(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Tl]||(n[Tl]=!0,lu("selectionchange",!1,n))}}function Wh(e,n,i,u){switch(ro(n)){case 1:var h=be;break;case 4:h=Ya;break;default:h=no}i=h.bind(null,n,i,e),h=void 0,!Li||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function au(e,n,i,u,h){var f=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;w!==null;){if(y=oi(w),y===null)return;if(A=y.tag,A===5||A===6){u=f=y;continue e}w=w.parentNode}}u=u.return}Gs(function(){var F=f,b=Vi(i),q=[];e:{var $=qh.get(e);if($!==void 0){var Y=Hi,re=e;switch(e){case"keypress":if(qi(i)===0)break e;case"keydown":case"keyup":Y=d;break;case"focusin":re="focus",Y=Gi;break;case"focusout":re="blur",Y=Gi;break;case"beforeblur":case"afterblur":Y=Gi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=U;break;case Bh:case jh:case $h:Y=Zn;break;case bh:Y=Oe;break;case"scroll":Y=Ja;break;case"wheel":Y=Te;break;case"copy":case"cut":case"paste":Y=ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=_}var ie=(n&4)!==0,Ze=!ie&&e==="scroll",L=ie?$!==null?$+"Capture":null:$;ie=[];for(var R=F,O;R!==null;){O=R;var Q=O.stateNode;if(O.tag===5&&Q!==null&&(O=Q,L!==null&&(Q=Je(R,L),Q!=null&&ie.push(mo(R,Q,O)))),Ze)break;R=R.return}0<ie.length&&($=new Y($,re,null,i,b),q.push({event:$,listeners:ie}))}}if(!(n&7)){e:{if($=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",$&&i!==Kr&&(re=i.relatedTarget||i.fromElement)&&(oi(re)||re[er]))break e;if((Y||$)&&($=b.window===b?b:($=b.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(re=i.relatedTarget||i.toElement,Y=F,re=re?oi(re):null,re!==null&&(Ze=gn(re),re!==Ze||re.tag!==5&&re.tag!==6)&&(re=null)):(Y=null,re=F),Y!==re)){if(ie=Ki,Q="onMouseLeave",L="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ie=_,Q="onPointerLeave",L="onPointerEnter",R="pointer"),Ze=Y==null?$:rs(Y),O=re==null?$:rs(re),$=new ie(Q,R+"leave",Y,i,b),$.target=Ze,$.relatedTarget=O,Q=null,oi(b)===F&&(ie=new ie(L,R+"enter",re,i,b),ie.target=O,ie.relatedTarget=Ze,Q=ie),Ze=Q,Y&&re)t:{for(ie=Y,L=re,R=0,O=ie;O;O=ts(O))R++;for(O=0,Q=L;Q;Q=ts(Q))O++;for(;0<R-O;)ie=ts(ie),R--;for(;0<O-R;)L=ts(L),O--;for(;R--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=ts(ie),L=ts(L)}ie=null}else ie=null;Y!==null&&Gh(q,$,Y,ie,!1),re!==null&&Ze!==null&&Gh(q,Ze,re,ie,!0)}}e:{if($=F?rs(F):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var se=eg;else if(Ph($))if(Dh)se=ig;else{se=ng;var ae=tg}else(Y=$.nodeName)&&Y.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=rg);if(se&&(se=se(e,F))){kh(q,se,i,b);break e}ae&&ae(e,$,F),e==="focusout"&&(ae=$._wrapperState)&&ae.controlled&&$.type==="number"&&Pi($,"number",$.value)}switch(ae=F?rs(F):window,e){case"focusin":(Ph(ae)||ae.contentEditable==="true")&&(Zi=ae,nu=F,ho=null);break;case"focusout":ho=nu=Zi=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,Uh(q,i,b);break;case"selectionchange":if(lg)break;case"keydown":case"keyup":Uh(q,i,b)}var ue;if(nt)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Ji?Ch(e,i)&&(de="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(si&&i.locale!=="ko"&&(Ji||de!=="onCompositionStart"?de==="onCompositionEnd"&&Ji&&(ue=io()):(Yt=b,bi="value"in Yt?Yt.value:Yt.textContent,Ji=!0)),ae=Sl(F,de),0<ae.length&&(de=new lo(de,e,null,i,b),q.push({event:de,listeners:ae}),ue?de.data=ue:(ue=Rh(i),ue!==null&&(de.data=ue)))),(ue=Jt?Xm(e,i):Ym(e,i))&&(F=Sl(F,"onBeforeInput"),0<F.length&&(b=new lo("onBeforeInput","beforeinput",null,i,b),q.push({event:b,listeners:F}),b.data=ue))}Kh(q,n)})}function mo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Sl(e,n){for(var i=n+"Capture",u=[];e!==null;){var h=e,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=Je(e,i),f!=null&&u.unshift(mo(e,f,h)),f=Je(e,n),f!=null&&u.push(mo(e,f,h))),e=e.return}return u}function ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gh(e,n,i,u,h){for(var f=n._reactName,y=[];i!==null&&i!==u;){var w=i,A=w.alternate,F=w.stateNode;if(A!==null&&A===u)break;w.tag===5&&F!==null&&(w=F,h?(A=Je(i,f),A!=null&&y.unshift(mo(i,A,w))):h||(A=Je(i,f),A!=null&&y.push(mo(i,A,w)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var hg=/\r\n?/g,dg=/\u0000|\uFFFD/g;function Xh(e){return(typeof e=="string"?e:""+e).replace(hg,`
`).replace(dg,"")}function Il(e,n,i){if(n=Xh(n),Xh(e)!==n&&i)throw Error(r(425))}function Al(){}var uu=null,cu=null;function hu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,fg=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,pg=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(mg)}:du;function mg(e){setTimeout(function(){throw e})}function fu(e,n){var i=n,u=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){e.removeChild(h),wn(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);wn(n)}function Tr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Jh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ns=Math.random().toString(36).slice(2),Mn="__reactFiber$"+ns,go="__reactProps$"+ns,er="__reactContainer$"+ns,pu="__reactEvents$"+ns,gg="__reactListeners$"+ns,yg="__reactHandles$"+ns;function oi(e){var n=e[Mn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[er]||i[Mn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Jh(e);e!==null;){if(i=e[Mn])return i;e=Jh(e)}return n}e=i,i=e.parentNode}return null}function yo(e){return e=e[Mn]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Cl(e){return e[go]||null}var mu=[],is=-1;function Sr(e){return{current:e}}function $e(e){0>is||(e.current=mu[is],mu[is]=null,is--)}function Be(e,n){is++,mu[is]=e.current,e.current=n}var Ir={},Ct=Sr(Ir),Bt=Sr(!1),li=Ir;function ss(e,n){var i=e.type.contextTypes;if(!i)return Ir;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in i)h[f]=n[f];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function jt(e){return e=e.childContextTypes,e!=null}function Rl(){$e(Bt),$e(Ct)}function Zh(e,n,i){if(Ct.current!==Ir)throw Error(r(168));Be(Ct,n),Be(Bt,i)}function ed(e,n,i){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,xe(e)||"Unknown",h));return J({},i,u)}function Pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,li=Ct.current,Be(Ct,e),Be(Bt,Bt.current),!0}function td(e,n,i){var u=e.stateNode;if(!u)throw Error(r(169));i?(e=ed(e,n,li),u.__reactInternalMemoizedMergedChildContext=e,$e(Bt),$e(Ct),Be(Ct,e)):$e(Bt),Be(Bt,i)}var tr=null,kl=!1,gu=!1;function nd(e){tr===null?tr=[e]:tr.push(e)}function vg(e){kl=!0,nd(e)}function Ar(){if(!gu&&tr!==null){gu=!0;var e=0,n=Ee;try{var i=tr;for(Ee=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}tr=null,kl=!1}catch(h){throw tr!==null&&(tr=tr.slice(e+1)),Ui(Jr,Ar),h}finally{Ee=n,gu=!1}}return null}var os=[],ls=0,Dl=null,Vl=0,ln=[],an=0,ai=null,nr=1,rr="";function ui(e,n){os[ls++]=Vl,os[ls++]=Dl,Dl=e,Vl=n}function rd(e,n,i){ln[an++]=nr,ln[an++]=rr,ln[an++]=ai,ai=e;var u=nr;e=rr;var h=32-xt(u)-1;u&=~(1<<h),i+=1;var f=32-xt(n)+h;if(30<f){var y=h-h%5;f=(u&(1<<y)-1).toString(32),u>>=y,h-=y,nr=1<<32-xt(n)+h|i<<h|u,rr=f+e}else nr=1<<f|i<<h|u,rr=e}function yu(e){e.return!==null&&(ui(e,1),rd(e,1,0))}function vu(e){for(;e===Dl;)Dl=os[--ls],os[ls]=null,Vl=os[--ls],os[ls]=null;for(;e===ai;)ai=ln[--an],ln[an]=null,rr=ln[--an],ln[an]=null,nr=ln[--an],ln[an]=null}var Zt=null,en=null,qe=!1,In=null;function id(e,n){var i=dn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function sd(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Zt=e,en=Tr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Zt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ai!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=dn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Zt=e,en=null,!0):!1;default:return!1}}function _u(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eu(e){if(qe){var n=en;if(n){var i=n;if(!sd(e,n)){if(_u(e))throw Error(r(418));n=Tr(i.nextSibling);var u=Zt;n&&sd(e,n)?id(u,i):(e.flags=e.flags&-4097|2,qe=!1,Zt=e)}}else{if(_u(e))throw Error(r(418));e.flags=e.flags&-4097|2,qe=!1,Zt=e}}}function od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function Nl(e){if(e!==Zt)return!1;if(!qe)return od(e),qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!hu(e.type,e.memoizedProps)),n&&(n=en)){if(_u(e))throw ld(),Error(r(418));for(;n;)id(e,n),n=Tr(n.nextSibling)}if(od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){en=Tr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}en=null}}else en=Zt?Tr(e.stateNode.nextSibling):null;return!0}function ld(){for(var e=en;e;)e=Tr(e.nextSibling)}function as(){en=Zt=null,qe=!1}function wu(e){In===null?In=[e]:In.push(e)}var _g=_e.ReactCurrentBatchConfig;function vo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,e));var h=u,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var w=h.refs;y===null?delete w[f]:w[f]=y},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function xl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ad(e){var n=e._init;return n(e._payload)}function ud(e){function n(L,R){if(e){var O=L.deletions;O===null?(L.deletions=[R],L.flags|=16):O.push(R)}}function i(L,R){if(!e)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function u(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function h(L,R){return L=xr(L,R),L.index=0,L.sibling=null,L}function f(L,R,O){return L.index=O,e?(O=L.alternate,O!==null?(O=O.index,O<R?(L.flags|=2,R):O):(L.flags|=2,R)):(L.flags|=1048576,R)}function y(L){return e&&L.alternate===null&&(L.flags|=2),L}function w(L,R,O,Q){return R===null||R.tag!==6?(R=dc(O,L.mode,Q),R.return=L,R):(R=h(R,O),R.return=L,R)}function A(L,R,O,Q){var se=O.type;return se===k?b(L,R,O.props.children,Q,O.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&ad(se)===R.type)?(Q=h(R,O.props),Q.ref=vo(L,R,O),Q.return=L,Q):(Q=ra(O.type,O.key,O.props,null,L.mode,Q),Q.ref=vo(L,R,O),Q.return=L,Q)}function F(L,R,O,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==O.containerInfo||R.stateNode.implementation!==O.implementation?(R=fc(O,L.mode,Q),R.return=L,R):(R=h(R,O.children||[]),R.return=L,R)}function b(L,R,O,Q,se){return R===null||R.tag!==7?(R=yi(O,L.mode,Q,se),R.return=L,R):(R=h(R,O),R.return=L,R)}function q(L,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return R=dc(""+R,L.mode,O),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xe:return O=ra(R.type,R.key,R.props,null,L.mode,O),O.ref=vo(L,null,R),O.return=L,O;case Pe:return R=fc(R,L.mode,O),R.return=L,R;case At:var Q=R._init;return q(L,Q(R._payload),O)}if(Hn(R)||le(R))return R=yi(R,L.mode,O,null),R.return=L,R;xl(L,R)}return null}function $(L,R,O,Q){var se=R!==null?R.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return se!==null?null:w(L,R,""+O,Q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Xe:return O.key===se?A(L,R,O,Q):null;case Pe:return O.key===se?F(L,R,O,Q):null;case At:return se=O._init,$(L,R,se(O._payload),Q)}if(Hn(O)||le(O))return se!==null?null:b(L,R,O,Q,null);xl(L,O)}return null}function Y(L,R,O,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(O)||null,w(R,L,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xe:return L=L.get(Q.key===null?O:Q.key)||null,A(R,L,Q,se);case Pe:return L=L.get(Q.key===null?O:Q.key)||null,F(R,L,Q,se);case At:var ae=Q._init;return Y(L,R,O,ae(Q._payload),se)}if(Hn(Q)||le(Q))return L=L.get(O)||null,b(R,L,Q,se,null);xl(R,Q)}return null}function re(L,R,O,Q){for(var se=null,ae=null,ue=R,de=R=0,gt=null;ue!==null&&de<O.length;de++){ue.index>de?(gt=ue,ue=null):gt=ue.sibling;var Ve=$(L,ue,O[de],Q);if(Ve===null){ue===null&&(ue=gt);break}e&&ue&&Ve.alternate===null&&n(L,ue),R=f(Ve,R,de),ae===null?se=Ve:ae.sibling=Ve,ae=Ve,ue=gt}if(de===O.length)return i(L,ue),qe&&ui(L,de),se;if(ue===null){for(;de<O.length;de++)ue=q(L,O[de],Q),ue!==null&&(R=f(ue,R,de),ae===null?se=ue:ae.sibling=ue,ae=ue);return qe&&ui(L,de),se}for(ue=u(L,ue);de<O.length;de++)gt=Y(ue,L,de,O[de],Q),gt!==null&&(e&&gt.alternate!==null&&ue.delete(gt.key===null?de:gt.key),R=f(gt,R,de),ae===null?se=gt:ae.sibling=gt,ae=gt);return e&&ue.forEach(function(Lr){return n(L,Lr)}),qe&&ui(L,de),se}function ie(L,R,O,Q){var se=le(O);if(typeof se!="function")throw Error(r(150));if(O=se.call(O),O==null)throw Error(r(151));for(var ae=se=null,ue=R,de=R=0,gt=null,Ve=O.next();ue!==null&&!Ve.done;de++,Ve=O.next()){ue.index>de?(gt=ue,ue=null):gt=ue.sibling;var Lr=$(L,ue,Ve.value,Q);if(Lr===null){ue===null&&(ue=gt);break}e&&ue&&Lr.alternate===null&&n(L,ue),R=f(Lr,R,de),ae===null?se=Lr:ae.sibling=Lr,ae=Lr,ue=gt}if(Ve.done)return i(L,ue),qe&&ui(L,de),se;if(ue===null){for(;!Ve.done;de++,Ve=O.next())Ve=q(L,Ve.value,Q),Ve!==null&&(R=f(Ve,R,de),ae===null?se=Ve:ae.sibling=Ve,ae=Ve);return qe&&ui(L,de),se}for(ue=u(L,ue);!Ve.done;de++,Ve=O.next())Ve=Y(ue,L,de,Ve.value,Q),Ve!==null&&(e&&Ve.alternate!==null&&ue.delete(Ve.key===null?de:Ve.key),R=f(Ve,R,de),ae===null?se=Ve:ae.sibling=Ve,ae=Ve);return e&&ue.forEach(function(Yg){return n(L,Yg)}),qe&&ui(L,de),se}function Ze(L,R,O,Q){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Xe:e:{for(var se=O.key,ae=R;ae!==null;){if(ae.key===se){if(se=O.type,se===k){if(ae.tag===7){i(L,ae.sibling),R=h(ae,O.props.children),R.return=L,L=R;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&ad(se)===ae.type){i(L,ae.sibling),R=h(ae,O.props),R.ref=vo(L,ae,O),R.return=L,L=R;break e}i(L,ae);break}else n(L,ae);ae=ae.sibling}O.type===k?(R=yi(O.props.children,L.mode,Q,O.key),R.return=L,L=R):(Q=ra(O.type,O.key,O.props,null,L.mode,Q),Q.ref=vo(L,R,O),Q.return=L,L=Q)}return y(L);case Pe:e:{for(ae=O.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===O.containerInfo&&R.stateNode.implementation===O.implementation){i(L,R.sibling),R=h(R,O.children||[]),R.return=L,L=R;break e}else{i(L,R);break}else n(L,R);R=R.sibling}R=fc(O,L.mode,Q),R.return=L,L=R}return y(L);case At:return ae=O._init,Ze(L,R,ae(O._payload),Q)}if(Hn(O))return re(L,R,O,Q);if(le(O))return ie(L,R,O,Q);xl(L,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,R!==null&&R.tag===6?(i(L,R.sibling),R=h(R,O),R.return=L,L=R):(i(L,R),R=dc(O,L.mode,Q),R.return=L,L=R),y(L)):i(L,R)}return Ze}var us=ud(!0),cd=ud(!1),Ll=Sr(null),Ol=null,cs=null,Tu=null;function Su(){Tu=cs=Ol=null}function Iu(e){var n=Ll.current;$e(Ll),e._currentValue=n}function Au(e,n,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===i)break;e=e.return}}function hs(e,n){Ol=e,Tu=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&($t=!0),e.firstContext=null)}function un(e){var n=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:n,next:null},cs===null){if(Ol===null)throw Error(r(308));cs=e,Ol.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return n}var ci=null;function Cu(e){ci===null?ci=[e]:ci.push(e)}function hd(e,n,i,u){var h=n.interleaved;return h===null?(i.next=i,Cu(n)):(i.next=h.next,h.next=i),n.interleaved=i,ir(e,u)}function ir(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Cr=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,ke&2){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,ir(e,i)}return h=u.interleaved,h===null?(n.next=n,Cu(u)):(n.next=h.next,h.next=n),u.interleaved=n,ir(e,i)}function Ml(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,gr(e,i)}}function fd(e,n){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?h=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?h=f=n:f=f.next=n}else h=f=n;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Fl(e,n,i,u){var h=e.updateQueue;Cr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var A=w,F=A.next;A.next=null,y===null?f=F:y.next=F,y=A;var b=e.alternate;b!==null&&(b=b.updateQueue,w=b.lastBaseUpdate,w!==y&&(w===null?b.firstBaseUpdate=F:w.next=F,b.lastBaseUpdate=A))}if(f!==null){var q=h.baseState;y=0,b=F=A=null,w=f;do{var $=w.lane,Y=w.eventTime;if((u&$)===$){b!==null&&(b=b.next={eventTime:Y,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=e,ie=w;switch($=n,Y=i,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){q=re.call(Y,q,$);break e}q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Y,q,$):re,$==null)break e;q=J({},q,$);break e;case 2:Cr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else Y={eventTime:Y,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},b===null?(F=b=Y,A=q):b=b.next=Y,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(b===null&&(A=q),h.baseState=A,h.firstBaseUpdate=F,h.lastBaseUpdate=b,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else f===null&&(h.shared.lanes=0);fi|=y,e.lanes=y,e.memoizedState=q}}function pd(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var _o={},Fn=Sr(_o),Eo=Sr(_o),wo=Sr(_o);function hi(e){if(e===_o)throw Error(r(174));return e}function Pu(e,n){switch(Be(wo,n),Be(Eo,e),Be(Fn,_o),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ot(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ot(n,e)}$e(Fn),Be(Fn,n)}function ds(){$e(Fn),$e(Eo),$e(wo)}function md(e){hi(wo.current);var n=hi(Fn.current),i=ot(n,e.type);n!==i&&(Be(Eo,e),Be(Fn,i))}function ku(e){Eo.current===e&&($e(Fn),$e(Eo))}var He=Sr(0);function Ul(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Du=[];function Vu(){for(var e=0;e<Du.length;e++)Du[e]._workInProgressVersionPrimary=null;Du.length=0}var zl=_e.ReactCurrentDispatcher,Nu=_e.ReactCurrentBatchConfig,di=0,Qe=null,at=null,pt=null,Bl=!1,To=!1,So=0,Eg=0;function Rt(){throw Error(r(321))}function xu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Sn(e[i],n[i]))return!1;return!0}function Lu(e,n,i,u,h,f){if(di=f,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,zl.current=e===null||e.memoizedState===null?Ig:Ag,e=i(u,h),To){f=0;do{if(To=!1,So=0,25<=f)throw Error(r(301));f+=1,pt=at=null,n.updateQueue=null,zl.current=Cg,e=i(u,h)}while(To)}if(zl.current=bl,n=at!==null&&at.next!==null,di=0,pt=at=Qe=null,Bl=!1,n)throw Error(r(300));return e}function Ou(){var e=So!==0;return So=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Qe.memoizedState=pt=e:pt=pt.next=e,pt}function cn(){if(at===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var n=pt===null?Qe.memoizedState:pt.next;if(n!==null)pt=n,at=e;else{if(e===null)throw Error(r(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?Qe.memoizedState=pt=e:pt=pt.next=e}return pt}function Io(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=at,h=u.baseQueue,f=i.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}u.baseQueue=h=f,i.pending=null}if(h!==null){f=h.next,u=u.baseState;var w=y=null,A=null,F=f;do{var b=F.lane;if((di&b)===b)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:e(u,F.action);else{var q={lane:b,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(w=A=q,y=u):A=A.next=q,Qe.lanes|=b,fi|=b}F=F.next}while(F!==null&&F!==f);A===null?y=u:A.next=w,Sn(u,n.memoizedState)||($t=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=A,i.lastRenderedState=u}if(e=i.interleaved,e!==null){h=e;do f=h.lane,Qe.lanes|=f,fi|=f,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Fu(e){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=i.dispatch,h=i.pending,f=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Sn(f,n.memoizedState)||($t=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,u]}function gd(){}function yd(e,n){var i=Qe,u=cn(),h=n(),f=!Sn(u.memoizedState,h);if(f&&(u.memoizedState=h,$t=!0),u=u.queue,Uu(Ed.bind(null,i,u,e),[e]),u.getSnapshot!==n||f||pt!==null&&pt.memoizedState.tag&1){if(i.flags|=2048,Ao(9,_d.bind(null,i,u,h,n),void 0,null),mt===null)throw Error(r(349));di&30||vd(i,n,h)}return h}function vd(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function _d(e,n,i,u){n.value=i,n.getSnapshot=u,wd(n)&&Td(e)}function Ed(e,n,i){return i(function(){wd(n)&&Td(e)})}function wd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Sn(e,i)}catch{return!0}}function Td(e){var n=ir(e,1);n!==null&&Pn(n,e,1,-1)}function Sd(e){var n=Un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},n.queue=e,e=e.dispatch=Sg.bind(null,Qe,e),[n.memoizedState,e]}function Ao(e,n,i,u){return e={tag:e,create:n,destroy:i,deps:u,next:null},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,n.lastEffect=e)),e}function Id(){return cn().memoizedState}function jl(e,n,i,u){var h=Un();Qe.flags|=e,h.memoizedState=Ao(1|n,i,void 0,u===void 0?null:u)}function $l(e,n,i,u){var h=cn();u=u===void 0?null:u;var f=void 0;if(at!==null){var y=at.memoizedState;if(f=y.destroy,u!==null&&xu(u,y.deps)){h.memoizedState=Ao(n,i,f,u);return}}Qe.flags|=e,h.memoizedState=Ao(1|n,i,f,u)}function Ad(e,n){return jl(8390656,8,e,n)}function Uu(e,n){return $l(2048,8,e,n)}function Cd(e,n){return $l(4,2,e,n)}function Rd(e,n){return $l(4,4,e,n)}function Pd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kd(e,n,i){return i=i!=null?i.concat([e]):null,$l(4,4,Pd.bind(null,n,e),i)}function zu(){}function Dd(e,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&xu(n,u[1])?u[0]:(i.memoizedState=[e,n],e)}function Vd(e,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&xu(n,u[1])?u[0]:(e=e(),i.memoizedState=[e,n],e)}function Nd(e,n,i){return di&21?(Sn(i,n)||(i=ti(),Qe.lanes|=i,fi|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=i)}function wg(e,n){var i=Ee;Ee=i!==0&&4>i?i:4,e(!0);var u=Nu.transition;Nu.transition={};try{e(!1),n()}finally{Ee=i,Nu.transition=u}}function xd(){return cn().memoizedState}function Tg(e,n,i){var u=Vr(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Ld(e))Od(n,i);else if(i=hd(e,n,i,u),i!==null){var h=Mt();Pn(i,e,u,h),Md(i,n,u)}}function Sg(e,n,i){var u=Vr(e),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ld(e))Od(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,w=f(y,i);if(h.hasEagerState=!0,h.eagerState=w,Sn(w,y)){var A=n.interleaved;A===null?(h.next=h,Cu(n)):(h.next=A.next,A.next=h),n.interleaved=h;return}}catch{}finally{}i=hd(e,n,h,u),i!==null&&(h=Mt(),Pn(i,e,u,h),Md(i,n,u))}}function Ld(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function Od(e,n){To=Bl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Md(e,n,i){if(i&4194240){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,gr(e,i)}}var bl={readContext:un,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Ig={readContext:un,useCallback:function(e,n){return Un().memoizedState=[e,n===void 0?null:n],e},useContext:un,useEffect:Ad,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,jl(4194308,4,Pd.bind(null,n,e),i)},useLayoutEffect:function(e,n){return jl(4194308,4,e,n)},useInsertionEffect:function(e,n){return jl(4,2,e,n)},useMemo:function(e,n){var i=Un();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var u=Un();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=Tg.bind(null,Qe,e),[u.memoizedState,e]},useRef:function(e){var n=Un();return e={current:e},n.memoizedState=e},useState:Sd,useDebugValue:zu,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=Sd(!1),n=e[0];return e=wg.bind(null,e[1]),Un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var u=Qe,h=Un();if(qe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),mt===null)throw Error(r(349));di&30||vd(u,n,i)}h.memoizedState=i;var f={value:i,getSnapshot:n};return h.queue=f,Ad(Ed.bind(null,u,f,e),[e]),u.flags|=2048,Ao(9,_d.bind(null,u,f,i,n),void 0,null),i},useId:function(){var e=Un(),n=mt.identifierPrefix;if(qe){var i=rr,u=nr;i=(u&~(1<<32-xt(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=So++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Eg++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ag={readContext:un,useCallback:Dd,useContext:un,useEffect:Uu,useImperativeHandle:kd,useInsertionEffect:Cd,useLayoutEffect:Rd,useMemo:Vd,useReducer:Mu,useRef:Id,useState:function(){return Mu(Io)},useDebugValue:zu,useDeferredValue:function(e){var n=cn();return Nd(n,at.memoizedState,e)},useTransition:function(){var e=Mu(Io)[0],n=cn().memoizedState;return[e,n]},useMutableSource:gd,useSyncExternalStore:yd,useId:xd,unstable_isNewReconciler:!1},Cg={readContext:un,useCallback:Dd,useContext:un,useEffect:Uu,useImperativeHandle:kd,useInsertionEffect:Cd,useLayoutEffect:Rd,useMemo:Vd,useReducer:Fu,useRef:Id,useState:function(){return Fu(Io)},useDebugValue:zu,useDeferredValue:function(e){var n=cn();return at===null?n.memoizedState=e:Nd(n,at.memoizedState,e)},useTransition:function(){var e=Fu(Io)[0],n=cn().memoizedState;return[e,n]},useMutableSource:gd,useSyncExternalStore:yd,useId:xd,unstable_isNewReconciler:!1};function An(e,n){if(e&&e.defaultProps){n=J({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Bu(e,n,i,u){n=e.memoizedState,i=i(u,n),i=i==null?n:J({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ql={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var u=Mt(),h=Vr(e),f=sr(u,h);f.payload=n,i!=null&&(f.callback=i),n=Rr(e,f,h),n!==null&&(Pn(n,e,h,u),Ml(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var u=Mt(),h=Vr(e),f=sr(u,h);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Rr(e,f,h),n!==null&&(Pn(n,e,h,u),Ml(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Mt(),u=Vr(e),h=sr(i,u);h.tag=2,n!=null&&(h.callback=n),n=Rr(e,h,u),n!==null&&(Pn(n,e,u,i),Ml(n,e,u))}};function Fd(e,n,i,u,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,f,y):n.prototype&&n.prototype.isPureReactComponent?!co(i,u)||!co(h,f):!0}function Ud(e,n,i){var u=!1,h=Ir,f=n.contextType;return typeof f=="object"&&f!==null?f=un(f):(h=jt(n)?li:Ct.current,u=n.contextTypes,f=(u=u!=null)?ss(e,h):Ir),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ql,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=f),n}function zd(e,n,i,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==e&&ql.enqueueReplaceState(n,n.state,null)}function ju(e,n,i,u){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Ru(e);var f=n.contextType;typeof f=="object"&&f!==null?h.context=un(f):(f=jt(n)?li:Ct.current,h.context=ss(e,f)),h.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Bu(e,n,f,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&ql.enqueueReplaceState(h,h.state,null),Fl(e,i,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function fs(e,n){try{var i="",u=n;do i+=ge(u),u=u.return;while(u);var h=i}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:h,digest:null}}function $u(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function bu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Rg=typeof WeakMap=="function"?WeakMap:Map;function Bd(e,n,i){i=sr(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){Yl||(Yl=!0,ic=u),bu(e,n)},i}function jd(e,n,i){i=sr(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;i.payload=function(){return u(h)},i.callback=function(){bu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){bu(e,n),typeof u!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function $d(e,n,i){var u=e.pingCache;if(u===null){u=e.pingCache=new Rg;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(i)||(h.add(i),e=jg.bind(null,e,n,i),n.then(e,e))}function bd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function qd(e,n,i,u,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=sr(-1,1),n.tag=2,Rr(i,n,1))),i.lanes|=1),e)}var Pg=_e.ReactCurrentOwner,$t=!1;function Ot(e,n,i,u){n.child=e===null?cd(n,null,i,u):us(n,e.child,i,u)}function Hd(e,n,i,u,h){i=i.render;var f=n.ref;return hs(n,h),u=Lu(e,n,i,u,f,h),i=Ou(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,or(e,n,h)):(qe&&i&&yu(n),n.flags|=1,Ot(e,n,u,h),n.child)}function Qd(e,n,i,u,h){if(e===null){var f=i.type;return typeof f=="function"&&!hc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,Kd(e,n,f,u,h)):(e=ra(i.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&h)){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:co,i(y,u)&&e.ref===n.ref)return or(e,n,h)}return n.flags|=1,e=xr(f,u),e.ref=n.ref,e.return=n,n.child=e}function Kd(e,n,i,u,h){if(e!==null){var f=e.memoizedProps;if(co(f,u)&&e.ref===n.ref)if($t=!1,n.pendingProps=u=f,(e.lanes&h)!==0)e.flags&131072&&($t=!0);else return n.lanes=e.lanes,or(e,n,h)}return qu(e,n,i,u,h)}function Wd(e,n,i){var u=n.pendingProps,h=u.children,f=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ms,tn),tn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Be(ms,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:i,Be(ms,tn),tn|=u}else f!==null?(u=f.baseLanes|i,n.memoizedState=null):u=i,Be(ms,tn),tn|=u;return Ot(e,n,h,i),n.child}function Gd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function qu(e,n,i,u,h){var f=jt(i)?li:Ct.current;return f=ss(n,f),hs(n,h),i=Lu(e,n,i,u,f,h),u=Ou(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,or(e,n,h)):(qe&&u&&yu(n),n.flags|=1,Ot(e,n,i,h),n.child)}function Xd(e,n,i,u,h){if(jt(i)){var f=!0;Pl(n)}else f=!1;if(hs(n,h),n.stateNode===null)Ql(e,n),Ud(n,i,u),ju(n,i,u,h),u=!0;else if(e===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var A=y.context,F=i.contextType;typeof F=="object"&&F!==null?F=un(F):(F=jt(i)?li:Ct.current,F=ss(n,F));var b=i.getDerivedStateFromProps,q=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function";q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||A!==F)&&zd(n,y,u,F),Cr=!1;var $=n.memoizedState;y.state=$,Fl(n,u,y,h),A=n.memoizedState,w!==u||$!==A||Bt.current||Cr?(typeof b=="function"&&(Bu(n,i,b,u),A=n.memoizedState),(w=Cr||Fd(n,i,w,u,$,A,F))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=A),y.props=u,y.state=A,y.context=F,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,dd(e,n),w=n.memoizedProps,F=n.type===n.elementType?w:An(n.type,w),y.props=F,q=n.pendingProps,$=y.context,A=i.contextType,typeof A=="object"&&A!==null?A=un(A):(A=jt(i)?li:Ct.current,A=ss(n,A));var Y=i.getDerivedStateFromProps;(b=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==q||$!==A)&&zd(n,y,u,A),Cr=!1,$=n.memoizedState,y.state=$,Fl(n,u,y,h);var re=n.memoizedState;w!==q||$!==re||Bt.current||Cr?(typeof Y=="function"&&(Bu(n,i,Y,u),re=n.memoizedState),(F=Cr||Fd(n,i,F,u,$,re,A)||!1)?(b||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=A,u=F):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),u=!1)}return Hu(e,n,i,u,f,h)}function Hu(e,n,i,u,h,f){Gd(e,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&td(n,i,!1),or(e,n,f);u=n.stateNode,Pg.current=n;var w=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&y?(n.child=us(n,e.child,null,f),n.child=us(n,null,w,f)):Ot(e,n,w,f),n.memoizedState=u.state,h&&td(n,i,!0),n.child}function Yd(e){var n=e.stateNode;n.pendingContext?Zh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Zh(e,n.context,!1),Pu(e,n.containerInfo)}function Jd(e,n,i,u,h){return as(),wu(h),n.flags|=256,Ot(e,n,i,u),n.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zd(e,n,i){var u=n.pendingProps,h=He.current,f=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=e!==null&&e.memoizedState===null?!1:(h&2)!==0),w?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Be(He,h&1),e===null)return Eu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=u.children,e=u.fallback,f?(u=n.mode,f=n.child,y={mode:"hidden",children:y},!(u&1)&&f!==null?(f.childLanes=0,f.pendingProps=y):f=ia(y,u,0,null),e=yi(e,u,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Ku(i),n.memoizedState=Qu,e):Wu(n,y));if(h=e.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return kg(e,n,y,u,w,h,i);if(f){f=u.fallback,y=n.mode,h=e.child,w=h.sibling;var A={mode:"hidden",children:u.children};return!(y&1)&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=A,n.deletions=null):(u=xr(h,A),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?f=xr(w,f):(f=yi(f,y,i,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,y=e.child.memoizedState,y=y===null?Ku(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~i,n.memoizedState=Qu,u}return f=e.child,e=f.sibling,u=xr(f,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=i),u.return=n,u.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=u,n.memoizedState=null,u}function Wu(e,n){return n=ia({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Hl(e,n,i,u){return u!==null&&wu(u),us(n,e.child,null,i),e=Wu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kg(e,n,i,u,h,f,y){if(i)return n.flags&256?(n.flags&=-257,u=$u(Error(r(422))),Hl(e,n,y,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=u.fallback,h=n.mode,u=ia({mode:"visible",children:u.children},h,0,null),f=yi(f,h,y,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,n.mode&1&&us(n,e.child,null,y),n.child.memoizedState=Ku(y),n.memoizedState=Qu,f);if(!(n.mode&1))return Hl(e,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,f=Error(r(419)),u=$u(f,u,void 0),Hl(e,n,y,u)}if(w=(y&e.childLanes)!==0,$t||w){if(u=mt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,ir(e,h),Pn(u,e,h,-1))}return cc(),u=$u(Error(r(421))),Hl(e,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=$g.bind(null,e),h._reactRetry=n,null):(e=f.treeContext,en=Tr(h.nextSibling),Zt=n,qe=!0,In=null,e!==null&&(ln[an++]=nr,ln[an++]=rr,ln[an++]=ai,nr=e.id,rr=e.overflow,ai=n),n=Wu(n,u.children),n.flags|=4096,n)}function ef(e,n,i){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Au(e.return,n,i)}function Gu(e,n,i,u,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=i,f.tailMode=h)}function tf(e,n,i){var u=n.pendingProps,h=u.revealOrder,f=u.tail;if(Ot(e,n,u.children,i),u=He.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ef(e,i,n);else if(e.tag===19)ef(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Be(He,u),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Ul(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Gu(n,!1,h,i,f);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ul(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Gu(n,!0,i,null,f);break;case"together":Gu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ql(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function or(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),fi|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=xr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=xr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Dg(e,n,i){switch(n.tag){case 3:Yd(n),as();break;case 5:md(n);break;case 1:jt(n.type)&&Pl(n);break;case 4:Pu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Be(Ll,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Be(He,He.current&1),n.flags|=128,null):i&n.child.childLanes?Zd(e,n,i):(Be(He,He.current&1),e=or(e,n,i),e!==null?e.sibling:null);Be(He,He.current&1);break;case 19:if(u=(i&n.childLanes)!==0,e.flags&128){if(u)return tf(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(He,He.current),u)break;return null;case 22:case 23:return n.lanes=0,Wd(e,n,i)}return or(e,n,i)}var nf,Xu,rf,sf;nf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Xu=function(){},rf=function(e,n,i,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,hi(Fn.current);var f=null;switch(i){case"input":h=qr(e,h),u=qr(e,u),f=[];break;case"select":h=J({},h,{value:void 0}),u=J({},u,{value:void 0}),f=[];break;case"textarea":h=zs(e,h),u=zs(e,u),f=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Al)}Hs(i,u);var y;i=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(y in w)w.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?f||(f=[]):(f=f||[]).push(F,null));for(F in u){var A=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&A!==w&&(A!=null||w!=null))if(F==="style")if(w){for(y in w)!w.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in A)A.hasOwnProperty(y)&&w[y]!==A[y]&&(i||(i={}),i[y]=A[y])}else i||(f||(f=[]),f.push(F,i)),i=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,w=w?w.__html:void 0,A!=null&&w!==A&&(f=f||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&je("scroll",e),f||w===A||(f=[])):(f=f||[]).push(F,A))}i&&(f=f||[]).push("style",i);var F=f;(n.updateQueue=F)&&(n.flags|=4)}},sf=function(e,n,i,u){i!==u&&(n.flags|=4)};function Co(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=i,n}function Vg(e,n,i){var u=n.pendingProps;switch(vu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return jt(n.type)&&Rl(),Pt(n),null;case 3:return u=n.stateNode,ds(),$e(Bt),$e(Ct),Vu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Nl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,In!==null&&(lc(In),In=null))),Xu(e,n),Pt(n),null;case 5:ku(n);var h=hi(wo.current);if(i=n.type,e!==null&&n.stateNode!=null)rf(e,n,i,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Pt(n),null}if(e=hi(Fn.current),Nl(n)){u=n.stateNode,i=n.type;var f=n.memoizedProps;switch(u[Mn]=n,u[go]=f,e=(n.mode&1)!==0,i){case"dialog":je("cancel",u),je("close",u);break;case"iframe":case"object":case"embed":je("load",u);break;case"video":case"audio":for(h=0;h<fo.length;h++)je(fo[h],u);break;case"source":je("error",u);break;case"img":case"image":case"link":je("error",u),je("load",u);break;case"details":je("toggle",u);break;case"input":Ri(u,f),je("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},je("invalid",u);break;case"textarea":ki(u,f),je("invalid",u)}Hs(i,f),h=null;for(var y in f)if(f.hasOwnProperty(y)){var w=f[y];y==="children"?typeof w=="string"?u.textContent!==w&&(f.suppressHydrationWarning!==!0&&Il(u.textContent,w,e),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&Il(u.textContent,w,e),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&je("scroll",u)}switch(i){case"input":qn(u),Xo(u,f,!0);break;case"textarea":qn(u),Bs(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=Al)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=st(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(i,{is:u.is}):(e=y.createElement(i),i==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,i),e[Mn]=n,e[go]=u,nf(e,n,!1,!1),n.stateNode=e;e:{switch(y=Qs(i,u),i){case"dialog":je("cancel",e),je("close",e),h=u;break;case"iframe":case"object":case"embed":je("load",e),h=u;break;case"video":case"audio":for(h=0;h<fo.length;h++)je(fo[h],e);h=u;break;case"source":je("error",e),h=u;break;case"img":case"image":case"link":je("error",e),je("load",e),h=u;break;case"details":je("toggle",e),h=u;break;case"input":Ri(e,u),h=qr(e,u),je("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=J({},u,{value:void 0}),je("invalid",e);break;case"textarea":ki(e,u),h=zs(e,u),je("invalid",e);break;default:h=u}Hs(i,h),w=h;for(f in w)if(w.hasOwnProperty(f)){var A=w[f];f==="style"?bs(e,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&js(e,A)):f==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&hr(e,A):typeof A=="number"&&hr(e,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?A!=null&&f==="onScroll"&&je("scroll",e):A!=null&&ve(e,f,A,y))}switch(i){case"input":qn(e),Xo(e,u,!1);break;case"textarea":qn(e),Bs(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Le(u.value));break;case"select":e.multiple=!!u.multiple,f=u.value,f!=null?Qn(e,!!u.multiple,f,!1):u.defaultValue!=null&&Qn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Al)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(e&&n.stateNode!=null)sf(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=hi(wo.current),hi(Fn.current),Nl(n)){if(u=n.stateNode,i=n.memoizedProps,u[Mn]=n,(f=u.nodeValue!==i)&&(e=Zt,e!==null))switch(e.tag){case 3:Il(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Il(u.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Mn]=n,n.stateNode=u}return Pt(n),null;case 13:if($e(He),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&en!==null&&n.mode&1&&!(n.flags&128))ld(),as(),n.flags|=98560,f=!1;else if(f=Nl(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Mn]=n}else as(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pt(n),f=!1}else In!==null&&(lc(In),In=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||He.current&1?ut===0&&(ut=3):cc())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return ds(),Xu(e,n),e===null&&po(n.stateNode.containerInfo),Pt(n),null;case 10:return Iu(n.type._context),Pt(n),null;case 17:return jt(n.type)&&Rl(),Pt(n),null;case 19:if($e(He),f=n.memoizedState,f===null)return Pt(n),null;if(u=(n.flags&128)!==0,y=f.rendering,y===null)if(u)Co(f,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=Ul(e),y!==null){for(n.flags|=128,Co(f,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)f=i,e=u,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Be(He,He.current&1|2),n.child}e=e.sibling}f.tail!==null&&ze()>gs&&(n.flags|=128,u=!0,Co(f,!1),n.lanes=4194304)}else{if(!u)if(e=Ul(y),e!==null){if(n.flags|=128,u=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Co(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!qe)return Pt(n),null}else 2*ze()-f.renderingStartTime>gs&&i!==1073741824&&(n.flags|=128,u=!0,Co(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(i=f.last,i!==null?i.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=ze(),n.sibling=null,i=He.current,Be(He,u?i&1|2:i&1),n):(Pt(n),null);case 22:case 23:return uc(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?tn&1073741824&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Ng(e,n){switch(vu(n),n.tag){case 1:return jt(n.type)&&Rl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ds(),$e(Bt),$e(Ct),Vu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ku(n),null;case 13:if($e(He),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));as()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $e(He),null;case 4:return ds(),null;case 10:return Iu(n.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var Kl=!1,kt=!1,xg=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ps(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){We(e,n,u)}else i.current=null}function Yu(e,n,i){try{i()}catch(u){We(e,n,u)}}var of=!1;function Lg(e,n){if(uu=_r,e=Fh(),tu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var y=0,w=-1,A=-1,F=0,b=0,q=e,$=null;t:for(;;){for(var Y;q!==i||h!==0&&q.nodeType!==3||(w=y+h),q!==f||u!==0&&q.nodeType!==3||(A=y+u),q.nodeType===3&&(y+=q.nodeValue.length),(Y=q.firstChild)!==null;)$=q,q=Y;for(;;){if(q===e)break t;if($===i&&++F===h&&(w=y),$===f&&++b===u&&(A=y),(Y=q.nextSibling)!==null)break;q=$,$=q.parentNode}q=Y}i=w===-1||A===-1?null:{start:w,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(cu={focusedElem:e,selectionRange:i},_r=!1,ne=n;ne!==null;)if(n=ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ne=e;else for(;ne!==null;){n=ne;try{var re=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,Ze=re.memoizedState,L=n.stateNode,R=L.getSnapshotBeforeUpdate(n.elementType===n.type?ie:An(n.type,ie),Ze);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var O=n.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){We(n,n.return,Q)}if(e=n.sibling,e!==null){e.return=n.return,ne=e;break}ne=n.return}return re=of,of=!1,re}function Ro(e,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var f=h.destroy;h.destroy=void 0,f!==void 0&&Yu(n,i,f)}h=h.next}while(h!==u)}}function Wl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function Ju(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function lf(e){var n=e.alternate;n!==null&&(e.alternate=null,lf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Mn],delete n[go],delete n[pu],delete n[gg],delete n[yg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function af(e){return e.tag===5||e.tag===3||e.tag===4}function uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zu(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Al));else if(u!==4&&(e=e.child,e!==null))for(Zu(e,n,i),e=e.sibling;e!==null;)Zu(e,n,i),e=e.sibling}function ec(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(ec(e,n,i),e=e.sibling;e!==null;)ec(e,n,i),e=e.sibling}var Et=null,Cn=!1;function Pr(e,n,i){for(i=i.child;i!==null;)cf(e,n,i),i=i.sibling}function cf(e,n,i){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Zr,i)}catch{}switch(i.tag){case 5:kt||ps(i,n);case 6:var u=Et,h=Cn;Et=null,Pr(e,n,i),Et=u,Cn=h,Et!==null&&(Cn?(e=Et,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Et.removeChild(i.stateNode));break;case 18:Et!==null&&(Cn?(e=Et,i=i.stateNode,e.nodeType===8?fu(e.parentNode,i):e.nodeType===1&&fu(e,i),wn(e)):fu(Et,i.stateNode));break;case 4:u=Et,h=Cn,Et=i.stateNode.containerInfo,Cn=!0,Pr(e,n,i),Et=u,Cn=h;break;case 0:case 11:case 14:case 15:if(!kt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var f=h,y=f.destroy;f=f.tag,y!==void 0&&(f&2||f&4)&&Yu(i,n,y),h=h.next}while(h!==u)}Pr(e,n,i);break;case 1:if(!kt&&(ps(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(w){We(i,n,w)}Pr(e,n,i);break;case 21:Pr(e,n,i);break;case 22:i.mode&1?(kt=(u=kt)||i.memoizedState!==null,Pr(e,n,i),kt=u):Pr(e,n,i);break;default:Pr(e,n,i)}}function hf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new xg),n.forEach(function(u){var h=bg.bind(null,e,u);i.has(u)||(i.add(u),u.then(h,h))})}}function Rn(e,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var f=e,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:Et=w.stateNode,Cn=!1;break e;case 3:Et=w.stateNode.containerInfo,Cn=!0;break e;case 4:Et=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(Et===null)throw Error(r(160));cf(f,y,h),Et=null,Cn=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(F){We(h,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)df(n,e),n=n.sibling}function df(e,n){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(n,e),zn(e),u&4){try{Ro(3,e,e.return),Wl(3,e)}catch(ie){We(e,e.return,ie)}try{Ro(5,e,e.return)}catch(ie){We(e,e.return,ie)}}break;case 1:Rn(n,e),zn(e),u&512&&i!==null&&ps(i,i.return);break;case 5:if(Rn(n,e),zn(e),u&512&&i!==null&&ps(i,i.return),e.flags&32){var h=e.stateNode;try{hr(h,"")}catch(ie){We(e,e.return,ie)}}if(u&4&&(h=e.stateNode,h!=null)){var f=e.memoizedProps,y=i!==null?i.memoizedProps:f,w=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Fs(h,f),Qs(w,y);var F=Qs(w,f);for(y=0;y<A.length;y+=2){var b=A[y],q=A[y+1];b==="style"?bs(h,q):b==="dangerouslySetInnerHTML"?js(h,q):b==="children"?hr(h,q):ve(h,b,q,F)}switch(w){case"input":Us(h,f);break;case"textarea":Di(h,f);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?Qn(h,!!f.multiple,Y,!1):$!==!!f.multiple&&(f.defaultValue!=null?Qn(h,!!f.multiple,f.defaultValue,!0):Qn(h,!!f.multiple,f.multiple?[]:"",!1))}h[go]=f}catch(ie){We(e,e.return,ie)}}break;case 6:if(Rn(n,e),zn(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,f=e.memoizedProps;try{h.nodeValue=f}catch(ie){We(e,e.return,ie)}}break;case 3:if(Rn(n,e),zn(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{wn(n.containerInfo)}catch(ie){We(e,e.return,ie)}break;case 4:Rn(n,e),zn(e);break;case 13:Rn(n,e),zn(e),h=e.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(rc=ze())),u&4&&hf(e);break;case 22:if(b=i!==null&&i.memoizedState!==null,e.mode&1?(kt=(F=kt)||b,Rn(n,e),kt=F):Rn(n,e),zn(e),u&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!b&&e.mode&1)for(ne=e,b=e.child;b!==null;){for(q=ne=b;ne!==null;){switch($=ne,Y=$.child,$.tag){case 0:case 11:case 14:case 15:Ro(4,$,$.return);break;case 1:ps($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,i=$.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){We(u,i,ie)}}break;case 5:ps($,$.return);break;case 22:if($.memoizedState!==null){mf(q);continue}}Y!==null?(Y.return=$,ne=Y):mf(q)}b=b.sibling}e:for(b=null,q=e;;){if(q.tag===5){if(b===null){b=q;try{h=q.stateNode,F?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=q.stateNode,A=q.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,w.style.display=$s("display",y))}catch(ie){We(e,e.return,ie)}}}else if(q.tag===6){if(b===null)try{q.stateNode.nodeValue=F?"":q.memoizedProps}catch(ie){We(e,e.return,ie)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;b===q&&(b=null),q=q.return}b===q&&(b=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Rn(n,e),zn(e),u&4&&hf(e);break;case 21:break;default:Rn(n,e),zn(e)}}function zn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(af(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(hr(h,""),u.flags&=-33);var f=uf(e);ec(e,f,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=uf(e);Zu(e,w,y);break;default:throw Error(r(161))}}catch(A){We(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Og(e,n,i){ne=e,ff(e)}function ff(e,n,i){for(var u=(e.mode&1)!==0;ne!==null;){var h=ne,f=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Kl;if(!y){var w=h.alternate,A=w!==null&&w.memoizedState!==null||kt;w=Kl;var F=kt;if(Kl=y,(kt=A)&&!F)for(ne=h;ne!==null;)y=ne,A=y.child,y.tag===22&&y.memoizedState!==null?gf(h):A!==null?(A.return=y,ne=A):gf(h);for(;f!==null;)ne=f,ff(f),f=f.sibling;ne=h,Kl=w,kt=F}pf(e)}else h.subtreeFlags&8772&&f!==null?(f.return=h,ne=f):pf(e)}}function pf(e){for(;ne!==null;){var n=ne;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:kt||Wl(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!kt)if(i===null)u.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:An(n.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&pd(n,f,u);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}pd(n,y,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var b=F.memoizedState;if(b!==null){var q=b.dehydrated;q!==null&&wn(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}kt||n.flags&512&&Ju(n)}catch($){We(n,n.return,$)}}if(n===e){ne=null;break}if(i=n.sibling,i!==null){i.return=n.return,ne=i;break}ne=n.return}}function mf(e){for(;ne!==null;){var n=ne;if(n===e){ne=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ne=i;break}ne=n.return}}function gf(e){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Wl(4,n)}catch(A){We(n,i,A)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(A){We(n,h,A)}}var f=n.return;try{Ju(n)}catch(A){We(n,f,A)}break;case 5:var y=n.return;try{Ju(n)}catch(A){We(n,y,A)}}}catch(A){We(n,n.return,A)}if(n===e){ne=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ne=w;break}ne=n.return}}var Mg=Math.ceil,Gl=_e.ReactCurrentDispatcher,tc=_e.ReactCurrentOwner,hn=_e.ReactCurrentBatchConfig,ke=0,mt=null,rt=null,wt=0,tn=0,ms=Sr(0),ut=0,Po=null,fi=0,Xl=0,nc=0,ko=null,bt=null,rc=0,gs=1/0,lr=null,Yl=!1,ic=null,kr=null,Jl=!1,Dr=null,Zl=0,Do=0,sc=null,ea=-1,ta=0;function Mt(){return ke&6?ze():ea!==-1?ea:ea=ze()}function Vr(e){return e.mode&1?ke&2&&wt!==0?wt&-wt:_g.transition!==null?(ta===0&&(ta=ti()),ta):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:ro(e.type)),e):1}function Pn(e,n,i,u){if(50<Do)throw Do=0,sc=null,Error(r(185));mr(e,i,u),(!(ke&2)||e!==mt)&&(e===mt&&(!(ke&2)&&(Xl|=i),ut===4&&Nr(e,wt)),qt(e,u),i===1&&ke===0&&!(n.mode&1)&&(gs=ze()+500,kl&&Ar()))}function qt(e,n){var i=e.callbackNode;Gn(e,n);var u=ei(e,e===mt?wt:0);if(u===0)i!==null&&Js(i),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(i!=null&&Js(i),n===1)e.tag===0?vg(vf.bind(null,e)):nd(vf.bind(null,e)),pg(function(){!(ke&6)&&Ar()}),i=null;else{switch(yr(u)){case 1:i=Jr;break;case 4:i=dr;break;case 16:i=rn;break;case 536870912:i=tl;break;default:i=rn}i=Cf(i,yf.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function yf(e,n){if(ea=-1,ta=0,ke&6)throw Error(r(327));var i=e.callbackNode;if(ys()&&e.callbackNode!==i)return null;var u=ei(e,e===mt?wt:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=na(e,u);else{n=u;var h=ke;ke|=2;var f=Ef();(mt!==e||wt!==n)&&(lr=null,gs=ze()+500,mi(e,n));do try{zg();break}catch(w){_f(e,w)}while(!0);Su(),Gl.current=f,ke=h,rt!==null?n=0:(mt=null,wt=0,n=ut)}if(n!==0){if(n===2&&(h=Xt(e),h!==0&&(u=h,n=oc(e,h))),n===1)throw i=Po,mi(e,0),Nr(e,u),qt(e,ze()),i;if(n===6)Nr(e,u);else{if(h=e.current.alternate,!(u&30)&&!Fg(h)&&(n=na(e,u),n===2&&(f=Xt(e),f!==0&&(u=f,n=oc(e,f))),n===1))throw i=Po,mi(e,0),Nr(e,u),qt(e,ze()),i;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:gi(e,bt,lr);break;case 3:if(Nr(e,u),(u&130023424)===u&&(n=rc+500-ze(),10<n)){if(ei(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){Mt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=du(gi.bind(null,e,bt,lr),n);break}gi(e,bt,lr);break;case 4:if(Nr(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var y=31-xt(u);f=1<<y,y=n[y],y>h&&(h=y),u&=~f}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Mg(u/1960))-u,10<u){e.timeoutHandle=du(gi.bind(null,e,bt,lr),u);break}gi(e,bt,lr);break;case 5:gi(e,bt,lr);break;default:throw Error(r(329))}}}return qt(e,ze()),e.callbackNode===i?yf.bind(null,e):null}function oc(e,n){var i=ko;return e.current.memoizedState.isDehydrated&&(mi(e,n).flags|=256),e=na(e,n),e!==2&&(n=bt,bt=i,n!==null&&lc(n)),e}function lc(e){bt===null?bt=e:bt.push.apply(bt,e)}function Fg(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n){for(n&=~nc,n&=~Xl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-xt(n),u=1<<i;e[i]=-1,n&=~u}}function vf(e){if(ke&6)throw Error(r(327));ys();var n=ei(e,0);if(!(n&1))return qt(e,ze()),null;var i=na(e,n);if(e.tag!==0&&i===2){var u=Xt(e);u!==0&&(n=u,i=oc(e,u))}if(i===1)throw i=Po,mi(e,0),Nr(e,n),qt(e,ze()),i;if(i===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,gi(e,bt,lr),qt(e,ze()),null}function ac(e,n){var i=ke;ke|=1;try{return e(n)}finally{ke=i,ke===0&&(gs=ze()+500,kl&&Ar())}}function pi(e){Dr!==null&&Dr.tag===0&&!(ke&6)&&ys();var n=ke;ke|=1;var i=hn.transition,u=Ee;try{if(hn.transition=null,Ee=1,e)return e()}finally{Ee=u,hn.transition=i,ke=n,!(ke&6)&&Ar()}}function uc(){tn=ms.current,$e(ms)}function mi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,fg(i)),rt!==null)for(i=rt.return;i!==null;){var u=i;switch(vu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Rl();break;case 3:ds(),$e(Bt),$e(Ct),Vu();break;case 5:ku(u);break;case 4:ds();break;case 13:$e(He);break;case 19:$e(He);break;case 10:Iu(u.type._context);break;case 22:case 23:uc()}i=i.return}if(mt=e,rt=e=xr(e.current,null),wt=tn=n,ut=0,Po=null,nc=Xl=fi=0,bt=ko=null,ci!==null){for(n=0;n<ci.length;n++)if(i=ci[n],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,f=i.pending;if(f!==null){var y=f.next;f.next=h,u.next=y}i.pending=u}ci=null}return e}function _f(e,n){do{var i=rt;try{if(Su(),zl.current=bl,Bl){for(var u=Qe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Bl=!1}if(di=0,pt=at=Qe=null,To=!1,So=0,tc.current=null,i===null||i.return===null){ut=1,Po=n,rt=null;break}e:{var f=e,y=i.return,w=i,A=n;if(n=wt,w.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,b=w,q=b.tag;if(!(b.mode&1)&&(q===0||q===11||q===15)){var $=b.alternate;$?(b.updateQueue=$.updateQueue,b.memoizedState=$.memoizedState,b.lanes=$.lanes):(b.updateQueue=null,b.memoizedState=null)}var Y=bd(y);if(Y!==null){Y.flags&=-257,qd(Y,y,w,f,n),Y.mode&1&&$d(f,F,n),n=Y,A=F;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(A),n.updateQueue=ie}else re.add(A);break e}else{if(!(n&1)){$d(f,F,n),cc();break e}A=Error(r(426))}}else if(qe&&w.mode&1){var Ze=bd(y);if(Ze!==null){!(Ze.flags&65536)&&(Ze.flags|=256),qd(Ze,y,w,f,n),wu(fs(A,w));break e}}f=A=fs(A,w),ut!==4&&(ut=2),ko===null?ko=[f]:ko.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var L=Bd(f,A,n);fd(f,L);break e;case 1:w=A;var R=f.type,O=f.stateNode;if(!(f.flags&128)&&(typeof R.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(kr===null||!kr.has(O)))){f.flags|=65536,n&=-n,f.lanes|=n;var Q=jd(f,w,n);fd(f,Q);break e}}f=f.return}while(f!==null)}Tf(i)}catch(se){n=se,rt===i&&i!==null&&(rt=i=i.return);continue}break}while(!0)}function Ef(){var e=Gl.current;return Gl.current=bl,e===null?bl:e}function cc(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(fi&268435455)&&!(Xl&268435455)||Nr(mt,wt)}function na(e,n){var i=ke;ke|=2;var u=Ef();(mt!==e||wt!==n)&&(lr=null,mi(e,n));do try{Ug();break}catch(h){_f(e,h)}while(!0);if(Su(),ke=i,Gl.current=u,rt!==null)throw Error(r(261));return mt=null,wt=0,ut}function Ug(){for(;rt!==null;)wf(rt)}function zg(){for(;rt!==null&&!Zo();)wf(rt)}function wf(e){var n=Af(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?Tf(e):rt=n,tc.current=null}function Tf(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=Ng(i,n),i!==null){i.flags&=32767,rt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}else if(i=Vg(i,n,tn),i!==null){rt=i;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);ut===0&&(ut=5)}function gi(e,n,i){var u=Ee,h=hn.transition;try{hn.transition=null,Ee=1,Bg(e,n,i,u)}finally{hn.transition=h,Ee=u}return null}function Bg(e,n,i,u){do ys();while(Dr!==null);if(ke&6)throw Error(r(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Fe(e,f),e===mt&&(rt=mt=null,wt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Jl||(Jl=!0,Cf(rn,function(){return ys(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=hn.transition,hn.transition=null;var y=Ee;Ee=1;var w=ke;ke|=4,tc.current=null,Lg(e,i),df(i,e),og(cu),_r=!!uu,cu=uu=null,e.current=i,Og(i),Ka(),ke=w,Ee=y,hn.transition=f}else e.current=i;if(Jl&&(Jl=!1,Dr=e,Zl=h),f=e.pendingLanes,f===0&&(kr=null),nl(i.stateNode),qt(e,ze()),n!==null)for(u=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(Yl)throw Yl=!1,e=ic,ic=null,e;return Zl&1&&e.tag!==0&&ys(),f=e.pendingLanes,f&1?e===sc?Do++:(Do=0,sc=e):Do=0,Ar(),null}function ys(){if(Dr!==null){var e=yr(Zl),n=hn.transition,i=Ee;try{if(hn.transition=null,Ee=16>e?16:e,Dr===null)var u=!1;else{if(e=Dr,Dr=null,Zl=0,ke&6)throw Error(r(331));var h=ke;for(ke|=4,ne=e.current;ne!==null;){var f=ne,y=f.child;if(ne.flags&16){var w=f.deletions;if(w!==null){for(var A=0;A<w.length;A++){var F=w[A];for(ne=F;ne!==null;){var b=ne;switch(b.tag){case 0:case 11:case 15:Ro(8,b,f)}var q=b.child;if(q!==null)q.return=b,ne=q;else for(;ne!==null;){b=ne;var $=b.sibling,Y=b.return;if(lf(b),b===F){ne=null;break}if($!==null){$.return=Y,ne=$;break}ne=Y}}}var re=f.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var Ze=ie.sibling;ie.sibling=null,ie=Ze}while(ie!==null)}}ne=f}}if(f.subtreeFlags&2064&&y!==null)y.return=f,ne=y;else e:for(;ne!==null;){if(f=ne,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ro(9,f,f.return)}var L=f.sibling;if(L!==null){L.return=f.return,ne=L;break e}ne=f.return}}var R=e.current;for(ne=R;ne!==null;){y=ne;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,ne=O;else e:for(y=R;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Wl(9,w)}}catch(se){We(w,w.return,se)}if(w===y){ne=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,ne=Q;break e}ne=w.return}}if(ke=h,Ar(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Zr,e)}catch{}u=!0}return u}finally{Ee=i,hn.transition=n}}return!1}function Sf(e,n,i){n=fs(i,n),n=Bd(e,n,1),e=Rr(e,n,1),n=Mt(),e!==null&&(mr(e,1,n),qt(e,n))}function We(e,n,i){if(e.tag===3)Sf(e,e,i);else for(;n!==null;){if(n.tag===3){Sf(n,e,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kr===null||!kr.has(u))){e=fs(i,e),e=jd(n,e,1),n=Rr(n,e,1),e=Mt(),n!==null&&(mr(n,1,e),qt(n,e));break}}n=n.return}}function jg(e,n,i){var u=e.pingCache;u!==null&&u.delete(n),n=Mt(),e.pingedLanes|=e.suspendedLanes&i,mt===e&&(wt&i)===i&&(ut===4||ut===3&&(wt&130023424)===wt&&500>ze()-rc?mi(e,0):nc|=i),qt(e,n)}function If(e,n){n===0&&(e.mode&1?(n=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):n=1);var i=Mt();e=ir(e,n),e!==null&&(mr(e,n,i),qt(e,i))}function $g(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),If(e,i)}function bg(e,n){var i=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),If(e,i)}var Af;Af=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Bt.current)$t=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return $t=!1,Dg(e,n,i);$t=!!(e.flags&131072)}else $t=!1,qe&&n.flags&1048576&&rd(n,Vl,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Ql(e,n),e=n.pendingProps;var h=ss(n,Ct.current);hs(n,i),h=Lu(null,n,u,e,h,i);var f=Ou();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,jt(u)?(f=!0,Pl(n)):f=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ru(n),h.updater=ql,n.stateNode=h,h._reactInternals=n,ju(n,u,e,i),n=Hu(null,n,u,!0,f,i)):(n.tag=0,qe&&f&&yu(n),Ot(null,n,h,i),n=n.child),n;case 16:u=n.elementType;e:{switch(Ql(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Hg(u),e=An(u,e),h){case 0:n=qu(null,n,u,e,i);break e;case 1:n=Xd(null,n,u,e,i);break e;case 11:n=Hd(null,n,u,e,i);break e;case 14:n=Qd(null,n,u,An(u.type,e),i);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),qu(e,n,u,h,i);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Xd(e,n,u,h,i);case 3:e:{if(Yd(n),e===null)throw Error(r(387));u=n.pendingProps,f=n.memoizedState,h=f.element,dd(e,n),Fl(n,u,null,i);var y=n.memoizedState;if(u=y.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){h=fs(Error(r(423)),n),n=Jd(e,n,u,i,h);break e}else if(u!==h){h=fs(Error(r(424)),n),n=Jd(e,n,u,i,h);break e}else for(en=Tr(n.stateNode.containerInfo.firstChild),Zt=n,qe=!0,In=null,i=cd(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(as(),u===h){n=or(e,n,i);break e}Ot(e,n,u,i)}n=n.child}return n;case 5:return md(n),e===null&&Eu(n),u=n.type,h=n.pendingProps,f=e!==null?e.memoizedProps:null,y=h.children,hu(u,h)?y=null:f!==null&&hu(u,f)&&(n.flags|=32),Gd(e,n),Ot(e,n,y,i),n.child;case 6:return e===null&&Eu(n),null;case 13:return Zd(e,n,i);case 4:return Pu(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=us(n,null,u,i):Ot(e,n,u,i),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Hd(e,n,u,h,i);case 7:return Ot(e,n,n.pendingProps,i),n.child;case 8:return Ot(e,n,n.pendingProps.children,i),n.child;case 12:return Ot(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,f=n.memoizedProps,y=h.value,Be(Ll,u._currentValue),u._currentValue=y,f!==null)if(Sn(f.value,y)){if(f.children===h.children&&!Bt.current){n=or(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var w=f.dependencies;if(w!==null){y=f.child;for(var A=w.firstContext;A!==null;){if(A.context===u){if(f.tag===1){A=sr(-1,i&-i),A.tag=2;var F=f.updateQueue;if(F!==null){F=F.shared;var b=F.pending;b===null?A.next=A:(A.next=b.next,b.next=A),F.pending=A}}f.lanes|=i,A=f.alternate,A!==null&&(A.lanes|=i),Au(f.return,i,n),w.lanes|=i;break}A=A.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=i,w=y.alternate,w!==null&&(w.lanes|=i),Au(y,i,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}Ot(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,hs(n,i),h=un(h),u=u(h),n.flags|=1,Ot(e,n,u,i),n.child;case 14:return u=n.type,h=An(u,n.pendingProps),h=An(u.type,h),Qd(e,n,u,h,i);case 15:return Kd(e,n,n.type,n.pendingProps,i);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Ql(e,n),n.tag=1,jt(u)?(e=!0,Pl(n)):e=!1,hs(n,i),Ud(n,u,h),ju(n,u,h,i),Hu(null,n,u,!0,e,i);case 19:return tf(e,n,i);case 22:return Wd(e,n,i)}throw Error(r(156,n.tag))};function Cf(e,n){return Ui(e,n)}function qg(e,n,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,i,u){return new qg(e,n,i,u)}function hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hg(e){if(typeof e=="function")return hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===N)return 11;if(e===It)return 14}return 2}function xr(e,n){var i=e.alternate;return i===null?(i=dn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ra(e,n,i,u,h,f){var y=2;if(u=e,typeof e=="function")hc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case k:return yi(i.children,h,f,n);case T:y=8,h|=8;break;case I:return e=dn(12,i,n,h|2),e.elementType=I,e.lanes=f,e;case S:return e=dn(13,i,n,h),e.elementType=S,e.lanes=f,e;case Ye:return e=dn(19,i,n,h),e.elementType=Ye,e.lanes=f,e;case Me:return ia(i,h,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:y=10;break e;case D:y=9;break e;case N:y=11;break e;case It:y=14;break e;case At:y=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=dn(y,i,n,h),n.elementType=e,n.type=u,n.lanes=f,n}function yi(e,n,i,u){return e=dn(7,e,u,n),e.lanes=i,e}function ia(e,n,i,u){return e=dn(22,e,u,n),e.elementType=Me,e.lanes=i,e.stateNode={isHidden:!1},e}function dc(e,n,i){return e=dn(6,e,null,n),e.lanes=i,e}function fc(e,n,i){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Qg(e,n,i,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function pc(e,n,i,u,h,f,y,w,A){return e=new Qg(e,n,i,w,A),n===1?(n=1,f===!0&&(n|=8)):n=0,f=dn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(f),e}function Kg(e,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:u==null?null:""+u,children:e,containerInfo:n,implementation:i}}function Rf(e){if(!e)return Ir;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(jt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var i=e.type;if(jt(i))return ed(e,i,n)}return n}function Pf(e,n,i,u,h,f,y,w,A){return e=pc(i,u,!0,e,h,f,y,w,A),e.context=Rf(null),i=e.current,u=Mt(),h=Vr(i),f=sr(u,h),f.callback=n??null,Rr(i,f,h),e.current.lanes=h,mr(e,h,u),qt(e,u),e}function sa(e,n,i,u){var h=n.current,f=Mt(),y=Vr(h);return i=Rf(i),n.context===null?n.context=i:n.pendingContext=i,n=sr(f,y),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Rr(h,n,y),e!==null&&(Pn(e,h,y,f),Ml(e,h,y)),y}function oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function mc(e,n){kf(e,n),(e=e.alternate)&&kf(e,n)}var Df=typeof reportError=="function"?reportError:function(e){console.error(e)};function gc(e){this._internalRoot=e}la.prototype.render=gc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));sa(e,n,null,null)},la.prototype.unmount=gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;pi(function(){sa(null,e,null,null)}),n[er]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var n=ll();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Nn.length&&n!==0&&n<Nn[i].priority;i++);Nn.splice(i,0,e),i===0&&cl(e)}};function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vf(){}function Wg(e,n,i,u,h){if(h){if(typeof u=="function"){var f=u;u=function(){var F=oa(y);f.call(F)}}var y=Pf(n,u,e,0,null,!1,!1,"",Vf);return e._reactRootContainer=y,e[er]=y.current,po(e.nodeType===8?e.parentNode:e),pi(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=oa(A);w.call(F)}}var A=pc(e,0,!1,null,null,!1,!1,"",Vf);return e._reactRootContainer=A,e[er]=A.current,po(e.nodeType===8?e.parentNode:e),pi(function(){sa(n,A,i,u)}),A}function ua(e,n,i,u,h){var f=i._reactRootContainer;if(f){var y=f;if(typeof h=="function"){var w=h;h=function(){var A=oa(y);w.call(A)}}sa(n,y,e,h)}else y=Wg(i,n,e,h,u);return oa(y)}sl=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=fr(n.pendingLanes);i!==0&&(gr(n,i|1),qt(n,ze()),!(ke&6)&&(gs=ze()+500,Ar()))}break;case 13:pi(function(){var u=ir(e,1);if(u!==null){var h=Mt();Pn(u,e,1,h)}}),mc(e,1)}},ji=function(e){if(e.tag===13){var n=ir(e,134217728);if(n!==null){var i=Mt();Pn(n,e,134217728,i)}mc(e,134217728)}},ol=function(e){if(e.tag===13){var n=Vr(e),i=ir(e,n);if(i!==null){var u=Mt();Pn(i,e,n,u)}mc(e,n)}},ll=function(){return Ee},al=function(e,n){var i=Ee;try{return Ee=e,n()}finally{Ee=i}},Ni=function(e,n,i){switch(n){case"input":if(Us(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==e&&u.form===e.form){var h=Cl(u);if(!h)throw Error(r(90));Ci(u),Us(u,h)}}}break;case"textarea":Di(e,i);break;case"select":n=i.value,n!=null&&Qn(e,!!i.multiple,n,!1)}},Wr=ac,Ws=pi;var Gg={usingClientEntryPoint:!1,Events:[yo,rs,Cl,Dn,Ks,ac]},Vo={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xg={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ys(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Zr=ca.inject(Xg),Gt=ca}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gg,Ht.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(n))throw Error(r(200));return Kg(e,n,null,i)},Ht.createRoot=function(e,n){if(!yc(e))throw Error(r(299));var i=!1,u="",h=Df;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=pc(e,1,!1,null,null,i,!1,u,h),e[er]=n.current,po(e.nodeType===8?e.parentNode:e),new gc(n)},Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Ys(n),e=e===null?null:e.stateNode,e},Ht.flushSync=function(e){return pi(e)},Ht.hydrate=function(e,n,i){if(!aa(n))throw Error(r(200));return ua(null,e,n,!0,i)},Ht.hydrateRoot=function(e,n,i){if(!yc(e))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,h=!1,f="",y=Df;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=Pf(n,null,e,1,i??null,h,!1,f,y),e[er]=n.current,po(e),u)for(e=0;e<u.length;e++)i=u[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new la(n)},Ht.render=function(e,n,i){if(!aa(n))throw Error(r(200));return ua(null,e,n,!1,i)},Ht.unmountComponentAtNode=function(e){if(!aa(e))throw Error(r(40));return e._reactRootContainer?(pi(function(){ua(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1},Ht.unstable_batchedUpdates=ac,Ht.unstable_renderSubtreeIntoContainer=function(e,n,i,u){if(!aa(i))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ua(e,n,i,!1,u)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var zf;function iy(){if(zf)return Ec.exports;zf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ec.exports=ry(),Ec.exports}var Bf;function sy(){if(Bf)return ha;Bf=1;var s=iy();return ha.createRoot=s.createRoot,ha.hydrateRoot=s.hydrateRoot,ha}var oy=sy(),jf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=function(s){const t=[];let r=0;for(let o=0;o<s.length;o++){let a=s.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},ly=function(s){const t=[];let r=0,o=0;for(;r<s.length;){const a=s[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=s[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=s[r++],p=s[r++],g=s[r++],v=((a&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(v>>10)),t[o++]=String.fromCharCode(56320+(v&1023))}else{const c=s[r++],p=s[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|p&63)}}return t.join("")},Bp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<s.length;a+=3){const c=s[a],p=a+1<s.length,g=p?s[a+1]:0,v=a+2<s.length,E=v?s[a+2]:0,C=c>>2,M=(c&3)<<4|g>>4;let z=(g&15)<<2|E>>6,H=E&63;v||(H=64,p||(z=64)),o.push(r[C],r[M],r[z],r[H])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(zp(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):ly(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<s.length;){const c=r[s.charAt(a++)],g=a<s.length?r[s.charAt(a)]:0;++a;const E=a<s.length?r[s.charAt(a)]:64;++a;const M=a<s.length?r[s.charAt(a)]:64;if(++a,c==null||g==null||E==null||M==null)throw new ay;const z=c<<2|g>>4;if(o.push(z),E!==64){const H=g<<4&240|E>>2;if(o.push(H),M!==64){const te=E<<6&192|M;o.push(te)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ay extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uy=function(s){const t=zp(s);return Bp.encodeByteArray(t,!0)},Sa=function(s){return uy(s).replace(/\./g,"")},cy=function(s){try{return Bp.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=()=>hy().__FIREBASE_DEFAULTS__,fy=()=>{if(typeof process>"u"||typeof jf>"u")return;const s=jf.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},py=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&cy(s[1]);return t&&JSON.parse(t)},rh=()=>{try{return dy()||fy()||py()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},my=s=>{var t,r;return(r=(t=rh())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},gy=s=>{const t=my(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},jp=()=>{var s;return(s=rh())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Sa(JSON.stringify(r)),Sa(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ey(){var s;const t=(s=rh())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wy(){return!Ey()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ty(){try{return typeof indexedDB=="object"}catch{return!1}}function Sy(){return new Promise((s,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="FirebaseError";class Ns extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=Iy,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$p.prototype.create)}}class $p{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],p=c?Ay(c,o):"Error",g=`${this.serviceName}: ${p} (${a}).`;return new Ns(a,g,o)}}function Ay(s,t){return s.replace(Cy,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const Cy=/\{\$([^}]+)}/g;function Lc(s,t){if(s===t)return!0;const r=Object.keys(s),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=s[a],p=t[a];if($f(c)&&$f(p)){if(!Lc(c,p))return!1}else if(c!==p)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function $f(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(s){return s&&s._delegate?s._delegate:s}class Bo{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new yy;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Dy(t))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=vi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vi){return this.instances.has(t)}getOptions(t=vi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const p=this.instances.get(a);return p&&t(p,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ky(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=vi){return this.component?this.component.multipleInstances?t:vi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ky(s){return s===vi?void 0:s}function Dy(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Py(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ie||(Ie={}));const Ny={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},xy=Ie.INFO,Ly={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Oy=(s,t,...r)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),a=Ly[t];if(a)console[a](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bp{constructor(t){this.name=t,this._logLevel=xy,this._logHandler=Oy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ny[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...t),this._logHandler(this,Ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...t),this._logHandler(this,Ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...t),this._logHandler(this,Ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...t),this._logHandler(this,Ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...t),this._logHandler(this,Ie.ERROR,...t)}}const My=(s,t)=>t.some(r=>s instanceof r);let bf,qf;function Fy(){return bf||(bf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uy(){return qf||(qf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qp=new WeakMap,Oc=new WeakMap,Hp=new WeakMap,Sc=new WeakMap,ih=new WeakMap;function zy(s){const t=new Promise((r,o)=>{const a=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(Fr(s.result)),a()},p=()=>{o(s.error),a()};s.addEventListener("success",c),s.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&qp.set(r,s)}).catch(()=>{}),ih.set(t,s),t}function By(s){if(Oc.has(s))return;const t=new Promise((r,o)=>{const a=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),a()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});Oc.set(s,t)}let Mc={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return Oc.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Hp.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fr(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function jy(s){Mc=s(Mc)}function $y(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=s.call(Ic(this),t,...r);return Hp.set(o,t.sort?t.sort():[t]),Fr(o)}:Uy().includes(s)?function(...t){return s.apply(Ic(this),t),Fr(qp.get(this))}:function(...t){return Fr(s.apply(Ic(this),t))}}function by(s){return typeof s=="function"?$y(s):(s instanceof IDBTransaction&&By(s),My(s,Fy())?new Proxy(s,Mc):s)}function Fr(s){if(s instanceof IDBRequest)return zy(s);if(Sc.has(s))return Sc.get(s);const t=by(s);return t!==s&&(Sc.set(s,t),ih.set(t,s)),t}const Ic=s=>ih.get(s);function qy(s,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const p=indexedDB.open(s,t),g=Fr(p);return o&&p.addEventListener("upgradeneeded",v=>{o(Fr(p.result),v.oldVersion,v.newVersion,Fr(p.transaction),v)}),r&&p.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),a&&v.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Hy=["get","getKey","getAll","getAllKeys","count"],Qy=["put","add","delete","clear"],Ac=new Map;function Hf(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ac.get(t))return Ac.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Qy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Hy.includes(r)))return;const c=async function(p,...g){const v=this.transaction(p,a?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),a&&v.done]))[0]};return Ac.set(t,c),c}jy(s=>({...s,get:(t,r,o)=>Hf(t,r)||s.get(t,r,o),has:(t,r)=>!!Hf(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Wy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Wy(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fc="@firebase/app",Qf="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new bp("@firebase/app"),Gy="@firebase/app-compat",Xy="@firebase/analytics-compat",Yy="@firebase/analytics",Jy="@firebase/app-check-compat",Zy="@firebase/app-check",ev="@firebase/auth",tv="@firebase/auth-compat",nv="@firebase/database",rv="@firebase/data-connect",iv="@firebase/database-compat",sv="@firebase/functions",ov="@firebase/functions-compat",lv="@firebase/installations",av="@firebase/installations-compat",uv="@firebase/messaging",cv="@firebase/messaging-compat",hv="@firebase/performance",dv="@firebase/performance-compat",fv="@firebase/remote-config",pv="@firebase/remote-config-compat",mv="@firebase/storage",gv="@firebase/storage-compat",yv="@firebase/firestore",vv="@firebase/vertexai",_v="@firebase/firestore-compat",Ev="firebase",wv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc="[DEFAULT]",Tv={[Fc]:"fire-core",[Gy]:"fire-core-compat",[Yy]:"fire-analytics",[Xy]:"fire-analytics-compat",[Zy]:"fire-app-check",[Jy]:"fire-app-check-compat",[ev]:"fire-auth",[tv]:"fire-auth-compat",[nv]:"fire-rtdb",[rv]:"fire-data-connect",[iv]:"fire-rtdb-compat",[sv]:"fire-fn",[ov]:"fire-fn-compat",[lv]:"fire-iid",[av]:"fire-iid-compat",[uv]:"fire-fcm",[cv]:"fire-fcm-compat",[hv]:"fire-perf",[dv]:"fire-perf-compat",[fv]:"fire-rc",[pv]:"fire-rc-compat",[mv]:"fire-gcs",[gv]:"fire-gcs-compat",[yv]:"fire-fst",[_v]:"fire-fst-compat",[vv]:"fire-vertex","fire-js":"fire-js",[Ev]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Map,Sv=new Map,zc=new Map;function Kf(s,t){try{s.container.addComponent(t)}catch(r){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Aa(s){const t=s.name;if(zc.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;zc.set(t,s);for(const r of Ia.values())Kf(r,s);for(const r of Sv.values())Kf(r,s);return!0}function Iv(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new $p("app","Firebase",Av);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=wv;function Qp(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Uc,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw Ur.create("bad-app-name",{appName:String(a)});if(r||(r=jp()),!r)throw Ur.create("no-options");const c=Ia.get(a);if(c){if(Lc(r,c.options)&&Lc(o,c.config))return c;throw Ur.create("duplicate-app",{appName:a})}const p=new Vy(a);for(const v of zc.values())p.addComponent(v);const g=new Cv(r,o,p);return Ia.set(a,g),g}function Pv(s=Uc){const t=Ia.get(s);if(!t&&s===Uc&&jp())return Qp();if(!t)throw Ur.create("no-app",{appName:s});return t}function Ts(s,t,r){var o;let a=(o=Tv[s])!==null&&o!==void 0?o:s;r&&(a+=`-${r}`);const c=a.match(/\s|\//),p=t.match(/\s|\//);if(c||p){const g=[`Unable to register library "${a}" with version "${t}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(g.join(" "));return}Aa(new Bo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="firebase-heartbeat-database",Dv=1,jo="firebase-heartbeat-store";let Cc=null;function Kp(){return Cc||(Cc=qy(kv,Dv,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Ur.create("idb-open",{originalErrorMessage:s.message})})),Cc}async function Vv(s){try{const r=(await Kp()).transaction(jo),o=await r.objectStore(jo).get(Wp(s));return await r.done,o}catch(t){if(t instanceof Ns)ar.warn(t.message);else{const r=Ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ar.warn(r.message)}}}async function Wf(s,t){try{const o=(await Kp()).transaction(jo,"readwrite");await o.objectStore(jo).put(t,Wp(s)),await o.done}catch(r){if(r instanceof Ns)ar.warn(r.message);else{const o=Ur.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ar.warn(o.message)}}}function Wp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=1024,xv=30*24*60*60*1e3;class Lv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Mv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Gf();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=xv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){ar.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Gf(),{heartbeatsToSend:o,unsentEntries:a}=Ov(this._heartbeatsCache.heartbeats),c=Sa(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return ar.warn(r),""}}}function Gf(){return new Date().toISOString().substring(0,10)}function Ov(s,t=Nv){const r=[];let o=s.slice();for(const a of s){const c=r.find(p=>p.agent===a.agent);if(c){if(c.dates.push(a.date),Xf(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Xf(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Mv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ty()?Sy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Vv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Wf(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Wf(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Xf(s){return Sa(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(s){Aa(new Bo("platform-logger",t=>new Ky(t),"PRIVATE")),Aa(new Bo("heartbeat",t=>new Lv(t),"PRIVATE")),Ts(Fc,Qf,s),Ts(Fc,Qf,"esm2017"),Ts("fire-js","")}Fv("");var Uv="firebase",zv="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(Uv,zv,"app");var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,Gp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(P,D,N){for(var S=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)S[Ye-2]=arguments[Ye];return T.prototype[D].apply(P,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)P[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],D=k.g[2];var N=k.g[3],S=T+(N^I&(D^N))+P[0]+3614090360&4294967295;T=I+(S<<7&4294967295|S>>>25),S=N+(D^T&(I^D))+P[1]+3905402710&4294967295,N=T+(S<<12&4294967295|S>>>20),S=D+(I^N&(T^I))+P[2]+606105819&4294967295,D=N+(S<<17&4294967295|S>>>15),S=I+(T^D&(N^T))+P[3]+3250441966&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(N^I&(D^N))+P[4]+4118548399&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(D^T&(I^D))+P[5]+1200080426&4294967295,N=T+(S<<12&4294967295|S>>>20),S=D+(I^N&(T^I))+P[6]+2821735955&4294967295,D=N+(S<<17&4294967295|S>>>15),S=I+(T^D&(N^T))+P[7]+4249261313&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(N^I&(D^N))+P[8]+1770035416&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(D^T&(I^D))+P[9]+2336552879&4294967295,N=T+(S<<12&4294967295|S>>>20),S=D+(I^N&(T^I))+P[10]+4294925233&4294967295,D=N+(S<<17&4294967295|S>>>15),S=I+(T^D&(N^T))+P[11]+2304563134&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(N^I&(D^N))+P[12]+1804603682&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(D^T&(I^D))+P[13]+4254626195&4294967295,N=T+(S<<12&4294967295|S>>>20),S=D+(I^N&(T^I))+P[14]+2792965006&4294967295,D=N+(S<<17&4294967295|S>>>15),S=I+(T^D&(N^T))+P[15]+1236535329&4294967295,I=D+(S<<22&4294967295|S>>>10),S=T+(D^N&(I^D))+P[1]+4129170786&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^D&(T^I))+P[6]+3225465664&4294967295,N=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(N^T))+P[11]+643717713&4294967295,D=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(D^N))+P[0]+3921069994&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^N&(I^D))+P[5]+3593408605&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^D&(T^I))+P[10]+38016083&4294967295,N=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(N^T))+P[15]+3634488961&4294967295,D=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(D^N))+P[4]+3889429448&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^N&(I^D))+P[9]+568446438&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^D&(T^I))+P[14]+3275163606&4294967295,N=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(N^T))+P[3]+4107603335&4294967295,D=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(D^N))+P[8]+1163531501&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(D^N&(I^D))+P[13]+2850285829&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^D&(T^I))+P[2]+4243563512&4294967295,N=T+(S<<9&4294967295|S>>>23),S=D+(T^I&(N^T))+P[7]+1735328473&4294967295,D=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(D^N))+P[12]+2368359562&4294967295,I=D+(S<<20&4294967295|S>>>12),S=T+(I^D^N)+P[5]+4294588738&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^D)+P[8]+2272392833&4294967295,N=T+(S<<11&4294967295|S>>>21),S=D+(N^T^I)+P[11]+1839030562&4294967295,D=N+(S<<16&4294967295|S>>>16),S=I+(D^N^T)+P[14]+4259657740&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^N)+P[1]+2763975236&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^D)+P[4]+1272893353&4294967295,N=T+(S<<11&4294967295|S>>>21),S=D+(N^T^I)+P[7]+4139469664&4294967295,D=N+(S<<16&4294967295|S>>>16),S=I+(D^N^T)+P[10]+3200236656&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^N)+P[13]+681279174&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^D)+P[0]+3936430074&4294967295,N=T+(S<<11&4294967295|S>>>21),S=D+(N^T^I)+P[3]+3572445317&4294967295,D=N+(S<<16&4294967295|S>>>16),S=I+(D^N^T)+P[6]+76029189&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(I^D^N)+P[9]+3654602809&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^D)+P[12]+3873151461&4294967295,N=T+(S<<11&4294967295|S>>>21),S=D+(N^T^I)+P[15]+530742520&4294967295,D=N+(S<<16&4294967295|S>>>16),S=I+(D^N^T)+P[2]+3299628645&4294967295,I=D+(S<<23&4294967295|S>>>9),S=T+(D^(I|~N))+P[0]+4096336452&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~D))+P[7]+1126891415&4294967295,N=T+(S<<10&4294967295|S>>>22),S=D+(T^(N|~I))+P[14]+2878612391&4294967295,D=N+(S<<15&4294967295|S>>>17),S=I+(N^(D|~T))+P[5]+4237533241&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~N))+P[12]+1700485571&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~D))+P[3]+2399980690&4294967295,N=T+(S<<10&4294967295|S>>>22),S=D+(T^(N|~I))+P[10]+4293915773&4294967295,D=N+(S<<15&4294967295|S>>>17),S=I+(N^(D|~T))+P[1]+2240044497&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~N))+P[8]+1873313359&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~D))+P[15]+4264355552&4294967295,N=T+(S<<10&4294967295|S>>>22),S=D+(T^(N|~I))+P[6]+2734768916&4294967295,D=N+(S<<15&4294967295|S>>>17),S=I+(N^(D|~T))+P[13]+1309151649&4294967295,I=D+(S<<21&4294967295|S>>>11),S=T+(D^(I|~N))+P[4]+4149444226&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~D))+P[11]+3174756917&4294967295,N=T+(S<<10&4294967295|S>>>22),S=D+(T^(N|~I))+P[2]+718787259&4294967295,D=N+(S<<15&4294967295|S>>>17),S=I+(N^(D|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+N&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,P=this.B,D=this.h,N=0;N<T;){if(D==0)for(;N<=I;)a(this,k,N),N+=this.blockSize;if(typeof k=="string"){for(;N<T;)if(P[D++]=k.charCodeAt(N++),D==this.blockSize){a(this,P),D=0;break}}else for(;N<T;)if(P[D++]=k[N++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)k[I++]=this.g[T]>>>P&255;return k};function c(k,T){var I=g;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function p(k,T){this.h=T;for(var I=[],P=!0,D=k.length-1;0<=D;D--){var N=k[D]|0;P&&N==T||(I[D]=N,P=!1)}this.g=I}var g={};function v(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return M;if(0>k)return K(E(-k));for(var T=[],I=1,P=0;k>=I;P++)T[P]=k/I|0,I*=4294967296;return new p(T,0)}function C(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return K(C(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=E(Math.pow(T,8)),P=M,D=0;D<k.length;D+=8){var N=Math.min(8,k.length-D),S=parseInt(k.substring(D,D+N),T);8>N?(N=E(Math.pow(T,N)),P=P.j(N).add(E(S))):(P=P.j(I),P=P.add(E(S)))}return P}var M=v(0),z=v(1),H=v(16777216);s=p.prototype,s.m=function(){if(Z(this))return-K(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(te(this))return"0";if(Z(this))return"-"+K(this).toString(k);for(var T=E(Math.pow(k,6)),I=this,P="";;){var D=_e(I,T).g;I=Ne(I,D.j(T));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=D,te(I))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function te(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function Z(k){return k.h==-1}s.l=function(k){return k=Ne(this,k),Z(k)?-1:te(k)?0:1};function K(k){for(var T=k.g.length,I=[],P=0;P<T;P++)I[P]=~k.g[P];return new p(I,~k.h).add(z)}s.abs=function(){return Z(this)?K(this):this},s.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0,D=0;D<=T;D++){var N=P+(this.i(D)&65535)+(k.i(D)&65535),S=(N>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);P=S>>>16,N&=65535,S&=65535,I[D]=S<<16|N}return new p(I,I[I.length-1]&-2147483648?-1:0)};function Ne(k,T){return k.add(K(T))}s.j=function(k){if(te(this)||te(k))return M;if(Z(this))return Z(k)?K(this).j(K(k)):K(K(this).j(k));if(Z(k))return K(this.j(K(k)));if(0>this.l(H)&&0>k.l(H))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<k.g.length;D++){var N=this.i(P)>>>16,S=this.i(P)&65535,Ye=k.i(D)>>>16,It=k.i(D)&65535;I[2*P+2*D]+=S*It,Re(I,2*P+2*D),I[2*P+2*D+1]+=N*It,Re(I,2*P+2*D+1),I[2*P+2*D+1]+=S*Ye,Re(I,2*P+2*D+1),I[2*P+2*D+2]+=N*Ye,Re(I,2*P+2*D+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new p(I,0)};function Re(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ve(k,T){this.g=k,this.h=T}function _e(k,T){if(te(T))throw Error("division by zero");if(te(k))return new ve(M,M);if(Z(k))return T=_e(K(k),T),new ve(K(T.g),K(T.h));if(Z(T))return T=_e(k,K(T)),new ve(K(T.g),T.h);if(30<k.g.length){if(Z(k)||Z(T))throw Error("slowDivide_ only works with positive integers.");for(var I=z,P=T;0>=P.l(k);)I=Xe(I),P=Xe(P);var D=Pe(I,1),N=Pe(P,1);for(P=Pe(P,2),I=Pe(I,2);!te(P);){var S=N.add(P);0>=S.l(k)&&(D=D.add(I),N=S),P=Pe(P,1),I=Pe(I,1)}return T=Ne(k,D.j(T)),new ve(D,T)}for(D=M;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=E(I),S=N.j(T);Z(S)||0<S.l(k);)I-=P,N=E(I),S=N.j(T);te(N)&&(N=z),D=D.add(N),k=Ne(k,S)}return new ve(D,k)}s.A=function(k){return _e(this,k).h},s.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&k.i(P);return new p(I,this.h&k.h)},s.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|k.i(P);return new p(I,this.h|k.h)},s.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^k.i(P);return new p(I,this.h^k.h)};function Xe(k){for(var T=k.g.length+1,I=[],P=0;P<T;P++)I[P]=k.i(P)<<1|k.i(P-1)>>>31;return new p(I,k.h)}function Pe(k,T){var I=T>>5;T%=32;for(var P=k.g.length-I,D=[],N=0;N<P;N++)D[N]=0<T?k.i(N+I)>>>T|k.i(N+I+1)<<32-T:k.i(N+I);return new p(D,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Gp=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=C,Ei=p}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});var da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xp,xo,Yp,va,Bc,Jp,Zp,em;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof da=="object"&&da];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function a(l,d){if(d)e:{var m=o;l=l.split(".");for(var _=0;_<l.length-1;_++){var x=l[_];if(!(x in m))break e;m=m[x]}l=l[l.length-1],_=m[l],d=d(_),d!=_&&d!=null&&t(m,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var m=0,_=!1,x={next:function(){if(!_&&m<l.length){var U=m++;return{value:d(U,l[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function v(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function C(l,d,m){return l.call.apply(l.bind,arguments)}function M(l,d,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,_),l.apply(d,x)}}return function(){return l.apply(d,arguments)}}function z(l,d,m){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C:M,z.apply(null,arguments)}function H(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function te(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,x,U){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return d.prototype[x].apply(_,W)}}function Z(l){const d=l.length;if(0<d){const m=Array(d);for(let _=0;_<d;_++)m[_]=l[_];return m}return[]}function K(l,d){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const x=l.length||0,U=_.length||0;l.length=x+U;for(let W=0;W<U;W++)l[x+W]=_[W]}else l.push(_)}}class Ne{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Re(l){return/^[\s\xa0]*$/.test(l)}function ve(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function _e(l){return _e[" "](l),l}_e[" "]=function(){};var Xe=ve().indexOf("Gecko")!=-1&&!(ve().toLowerCase().indexOf("webkit")!=-1&&ve().indexOf("Edge")==-1)&&!(ve().indexOf("Trident")!=-1||ve().indexOf("MSIE")!=-1)&&ve().indexOf("Edge")==-1;function Pe(l,d,m){for(const _ in l)d.call(m,l[_],_,l)}function k(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function T(l){const d={};for(const m in l)d[m]=l[m];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let m,_;for(let x=1;x<arguments.length;x++){_=arguments[x];for(m in _)l[m]=_[m];for(let U=0;U<I.length;U++)m=I[U],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function D(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function N(l){g.setTimeout(()=>{throw l},0)}function S(){var l=le;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ye{constructor(){this.h=this.g=null}add(d,m){const _=It.get();_.set(d,m),this.h?this.h.next=_:this.g=_,this.h=_}}var It=new Ne(()=>new At,l=>l.reset());class At{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,G=!1,le=new Ye,J=()=>{const l=g.Promise.resolve(void 0);Me=()=>{l.then(V)}};var V=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){N(m)}var d=It;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}G=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,d),g.removeEventListener("test",m,d)}catch{}return l}();function ge(l,d){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Xe){e:{try{_e(d.nodeName);var x=!0;break e}catch{}x=!1}x||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:we[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ge.aa.h.call(this)}}te(ge,oe);var we={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Ue(l,d,m,_,x){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!_,this.ha=x,this.key=++Le,this.da=this.fa=!1}function dt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function qn(l){this.src=l,this.g={},this.h=0}qn.prototype.add=function(l,d,m,_,x){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var W=cr(l,d,_,x);return-1<W?(d=l[W],m||(d.fa=!1)):(d=new Ue(d,this.src,U,!!_,x),d.fa=m,l.push(d)),d};function Ci(l,d){var m=d.type;if(m in l.g){var _=l.g[m],x=Array.prototype.indexOf.call(_,d,void 0),U;(U=0<=x)&&Array.prototype.splice.call(_,x,1),U&&(dt(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function cr(l,d,m,_){for(var x=0;x<l.length;++x){var U=l[x];if(!U.da&&U.listener==d&&U.capture==!!m&&U.ha==_)return x}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Ri={};function Fs(l,d,m,_,x){if(Array.isArray(d)){for(var U=0;U<d.length;U++)Fs(l,d[U],m,_,x);return null}return m=Bs(m),l&&l[xe]?l.K(d,m,E(_)?!!_.capture:!!_,x):Us(l,d,m,!1,_,x)}function Us(l,d,m,_,x,U){if(!d)throw Error("Invalid event type");var W=E(x)?!!x.capture:!!x,Oe=ki(l);if(Oe||(l[qr]=Oe=new qn(l)),m=Oe.add(d,m,_,W,U),m.proxy)return m;if(_=Xo(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)me||(x=W),x===void 0&&(x=!1),l.addEventListener(d.toString(),_,x);else if(l.attachEvent)l.attachEvent(Qn(d.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Xo(){function l(m){return d.call(l.src,l.listener,m)}const d=zs;return l}function Pi(l,d,m,_,x){if(Array.isArray(d))for(var U=0;U<d.length;U++)Pi(l,d[U],m,_,x);else _=E(_)?!!_.capture:!!_,m=Bs(m),l&&l[xe]?(l=l.i,d=String(d).toString(),d in l.g&&(U=l.g[d],m=cr(U,m,_,x),-1<m&&(dt(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete l.g[d],l.h--)))):l&&(l=ki(l))&&(d=l.g[d.toString()],l=-1,d&&(l=cr(d,m,_,x)),(m=-1<l?d[l]:null)&&Hn(m))}function Hn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[xe])Ci(d.i,l);else{var m=l.type,_=l.proxy;d.removeEventListener?d.removeEventListener(m,_,l.capture):d.detachEvent?d.detachEvent(Qn(m),_):d.addListener&&d.removeListener&&d.removeListener(_),(m=ki(d))?(Ci(m,l),m.h==0&&(m.src=null,d[qr]=null)):dt(l)}}}function Qn(l){return l in Ri?Ri[l]:Ri[l]="on"+l}function zs(l,d){if(l.da)l=!0;else{d=new ge(d,this);var m=l.listener,_=l.ha||l.src;l.fa&&Hn(l),l=m.call(_,d)}return l}function ki(l){return l=l[qr],l instanceof qn?l:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(l){return typeof l=="function"?l:(l[Di]||(l[Di]=function(d){return l.handleEvent(d)}),l[Di])}function st(){B.call(this),this.i=new qn(this),this.M=this,this.F=null}te(st,B),st.prototype[xe]=!0,st.prototype.removeEventListener=function(l,d,m,_){Pi(this,l,d,m,_)};function ot(l,d){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=d.type||d,typeof d=="string")d=new oe(d,l);else if(d instanceof oe)d.target=d.target||l;else{var x=d;d=new oe(_,l),P(d,x)}if(x=!0,m)for(var U=m.length-1;0<=U;U--){var W=d.g=m[U];x=Kn(W,_,!0,d)&&x}if(W=d.g=l,x=Kn(W,_,!0,d)&&x,x=Kn(W,_,!1,d)&&x,m)for(U=0;U<m.length;U++)W=d.g=m[U],x=Kn(W,_,!1,d)&&x}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],_=0;_<m.length;_++)dt(m[_]);delete l.g[d],l.h--}}this.F=null},st.prototype.K=function(l,d,m,_){return this.i.add(String(l),d,!1,m,_)},st.prototype.L=function(l,d,m,_){return this.i.add(String(l),d,!0,m,_)};function Kn(l,d,m,_){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var x=!0,U=0;U<d.length;++U){var W=d[U];if(W&&!W.da&&W.capture==m){var Oe=W.listener,lt=W.ha||W.src;W.fa&&Ci(l.i,W),x=Oe.call(lt,_)!==!1&&x}}return x&&!_.defaultPrevented}function js(l,d,m){if(typeof l=="function")m&&(l=z(l,m));else if(l&&typeof l.handleEvent=="function")l=z(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:g.setTimeout(l,d||0)}function hr(l){l.g=js(()=>{l.g=null,l.i&&(l.i=!1,hr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Hr extends B{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(l){B.call(this),this.h=l,this.g={}}te(Qr,B);var $s=[];function bs(l){Pe(l.g,function(d,m){this.g.hasOwnProperty(m)&&Hn(d)},l),l.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),bs(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=g.JSON.stringify,Hs=g.JSON.parse,Qs=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function Kr(){}Kr.prototype.h=null;function Vi(l){return l.h||(l.h=l.i())}function Ni(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){oe.call(this,"d")}te(kn,oe);function xi(){oe.call(this,"c")}te(xi,oe);var Dn={},Ks=null;function Wr(){return Ks=Ks||new st}Dn.La="serverreachability";function Ws(l){oe.call(this,Dn.La,l)}te(Ws,oe);function Wn(l){const d=Wr();ot(d,new Ws(d))}Dn.STAT_EVENT="statevent";function Gs(l,d){oe.call(this,Dn.STAT_EVENT,l),this.stat=d}te(Gs,oe);function Je(l){const d=Wr();ot(d,new Gs(d,l))}Dn.Ma="timingevent";function Li(l,d){oe.call(this,Dn.Ma,l),this.size=d}te(Li,oe);function pn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},d)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function Xr(l,d,m,_,x,U){l.info(function(){if(l.g)if(U)for(var W="",Oe=U.split("&"),lt=0;lt<Oe.length;lt++){var Te=Oe[lt].split("=");if(1<Te.length){var ft=Te[0];Te=Te[1];var nt=ft.split("_");W=2<=nt.length&&nt[1]=="type"?W+(ft+"="+Te+"&"):W+(ft+"=redacted&")}}else W=null;else W=U;return"XMLHTTP REQ ("+_+") [attempt "+x+"]: "+d+`
`+m+`
`+W})}function Oi(l,d,m,_,x,U,W){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+x+"]: "+d+`
`+m+`
`+U+" "+W})}function mn(l,d,m,_){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Qa(l,m)+(_?" "+_:"")})}function Xs(l,d){l.info(function(){return"TIMEOUT: "+d})}Gr.prototype.info=function(){};function Qa(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var x=_[1];if(Array.isArray(x)&&!(1>x.length)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(var W=1;W<x.length;W++)x[W]=""}}}}return qs(m)}catch{return d}}var Mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function Yr(){}te(Yr,Kr),Yr.prototype.g=function(){return new XMLHttpRequest},Yr.prototype.i=function(){return{}},gn=new Yr;function yn(l,d,m,_){this.j=l,this.i=d,this.l=m,this.R=_||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var Ys={},Fi={};function Ui(l,d,m){l.L=1,l.v=gr(Xt(d)),l.m=m,l.P=!0,Js(l,null)}function Js(l,d){l.F=Date.now(),ze(l),l.A=Xt(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),vr(m.i,"t",_),l.C=0,m=l.j.J,l.h=new Jo,l.g=gl(l.j,m?d:null,!l.m),0<l.O&&(l.M=new Hr(z(l.Y,l,l.g),l.O)),d=l.U,m=l.g,_=l.ca;var x="readystatechange";Array.isArray(x)||(x&&($s[0]=x.toString()),x=$s);for(var U=0;U<x.length;U++){var W=Fs(m,x[U],_||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Wn(),Xr(l.i,l.u,l.A,l.l,l.R,l.m)}yn.prototype.ca=function(l){l=l.target;const d=this.M;d&&zt(l)==3?d.j():this.Y(l)},yn.prototype.Y=function(l){try{if(l==this.g)e:{const nt=zt(this.g);var d=this.g.Ba();const on=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||io(this.g)))){this.J||nt!=4||d==7||(d==8||0>=on?Wn(3):Wn(2)),Jr(this);var m=this.g.Z();this.X=m;t:if(Zo(this)){var _=io(this.g);l="";var x=_.length,U=zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),dr(this);var W="";break t}this.h.i=new g.TextDecoder}for(d=0;d<x;d++)this.h.h=!0,l+=this.h.i.decode(_[d],{stream:!(U&&d==x-1)});_.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Oi(this.i,this.u,this.A,this.l,this.R,nt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,lt=this.g;if((Oe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Re(Oe)){var Te=Oe;break t}}Te=null}if(m=Te)mn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,m);else{this.o=!1,this.s=3,Je(12),rn(this),dr(this);break e}}if(this.P){m=!0;let Jt;for(;!this.J&&this.C<W.length;)if(Jt=Ka(this,W),Jt==Fi){nt==4&&(this.s=4,Je(14),m=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Ys){this.s=4,Je(15),mn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else mn(this.i,this.l,Jt,null),Zs(this,Jt);if(Zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||W.length!=0||this.h.h||(this.s=1,Je(16),m=!1),this.o=this.o&&m,!m)mn(this.i,this.l,W,"[Invalid Chunked Response]"),rn(this),dr(this);else if(0<W.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),oo(ft),ft.M=!0,Je(11))}}else mn(this.i,this.l,W,null),Zs(this,W);nt==4&&rn(this),this.o&&!this.J&&(nt==4?Gi(this.j,this):(this.o=!1,ze(this)))}else qi(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),rn(this),dr(this)}}}catch{}finally{}};function Zo(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ka(l,d){var m=l.C,_=d.indexOf(`
`,m);return _==-1?Fi:(m=Number(d.substring(m,_)),isNaN(m)?Ys:(_+=1,_+m>d.length?Fi:(d=d.slice(_,_+m),l.C=_+m,d)))}yn.prototype.cancel=function(){this.J=!0,rn(this)};function ze(l){l.S=Date.now()+l.I,el(l,l.I)}function el(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=pn(z(l.ba,l),d)}function Jr(l){l.B&&(g.clearTimeout(l.B),l.B=null)}yn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Xs(this.i,this.A),this.L!=2&&(Wn(),Je(17)),rn(this),this.s=2,dr(this)):el(this,this.S-l)};function dr(l){l.j.G==0||l.J||Gi(l.j,l)}function rn(l){Jr(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,bs(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Zs(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||xt(m.h,l))){if(!l.K&&xt(m.h,l)&&m.G==3){try{var _=m.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var x=_;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Wi(m),Tn(m);else break e;Ki(m),Je(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=pn(z(m.Za,m),6e3));if(1>=nl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zn(m,11)}else if((l.K||m.g==l)&&Wi(m),!Re(d))for(x=m.Da.g.parse(d),d=0;d<x.length;d++){let Te=x[d];if(m.T=Te[0],Te=Te[1],m.G==2)if(Te[0]=="c"){m.K=Te[1],m.ia=Te[2];const ft=Te[3];ft!=null&&(m.la=ft,m.j.info("VER="+m.la));const nt=Te[4];nt!=null&&(m.Aa=nt,m.j.info("SVER="+m.Aa));const on=Te[5];on!=null&&typeof on=="number"&&0<on&&(_=1.5*on,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Jt=l.g;if(Jt){const si=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var U=_.h;U.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(eo(U,U.h),U.h=null))}if(_.D){const Yi=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yi&&(_.ya=Yi,Fe(_.I,_.D,Yi))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var W=l;if(_.qa=ml(_,_.J?_.ia:null,_.W),W.K){rl(_.h,W);var Oe=W,lt=_.L;lt&&(Oe.I=lt),Oe.B&&(Jr(Oe),ze(Oe)),_.g=W}else ii(_);0<m.i.length&&Ln(m)}else Te[0]!="stop"&&Te[0]!="close"||Zn(m,7);else m.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Zn(m,7):_t(m):Te[0]!="noop"&&m.l&&m.l.ta(Te),m.v=0)}}Wn(4)}catch{}}var tl=class{constructor(l,d){this.g=l,this.map=d}};function Zr(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function nl(l){return l.h?1:l.g?l.g.size:0}function xt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function eo(l,d){l.g?l.g.add(d):l.h=d}function rl(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Zr.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function il(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return Z(l.i)}function zi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(v(l)){for(var d=[],m=l.length,_=0;_<m;_++)d.push(l[_]);return d}d=[],m=0;for(_ in l)d[m++]=l[_];return d}function Bi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(v(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const _ in l)d[m++]=_;return d}}}function fr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(v(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=Bi(l),_=zi(l),x=_.length,U=0;U<x;U++)d.call(void 0,_[U],m&&m[U],l)}var ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),x=null;if(0<=_){var U=l[m].substring(0,_);x=l[m].substring(_+1)}else U=l[m];d(U,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Gn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Gn){this.h=l.h,ti(this,l.j),this.o=l.o,this.g=l.g,pr(this,l.s),this.l=l.l;var d=l.i,m=new Vn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),mr(this,m),this.m=l.m}else l&&(d=String(l).match(ei))?(this.h=!1,ti(this,d[1]||"",!0),this.o=Ee(d[2]||""),this.g=Ee(d[3]||"",!0),pr(this,d[4]),this.l=Ee(d[5]||"",!0),mr(this,d[6]||"",!0),this.m=Ee(d[7]||"")):(this.h=!1,this.i=new Vn(null,this.h))}Gn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(yr(d,ji,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(yr(d,ji,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(yr(m,m.charAt(0)=="/"?ll:ol,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",yr(m,to)),l.join("")};function Xt(l){return new Gn(l)}function ti(l,d,m){l.j=m?Ee(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function pr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function mr(l,d,m){d instanceof Vn?(l.i=d,Nn(l.i,l.h)):(m||(d=yr(d,al)),l.i=new Vn(d,l.h))}function Fe(l,d,m){l.i.set(d,m)}function gr(l){return Fe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ee(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function yr(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,sl),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ji=/[#\/\?@]/g,ol=/[#\?:]/g,ll=/[#\?]/g,al=/[#\?@]/g,to=/#/g;function Vn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function vt(l){l.g||(l.g=new Map,l.h=0,l.i&&Wa(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}s=Vn.prototype,s.add=function(l,d){vt(this),this.i=null,l=sn(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function vn(l,d){vt(l),d=sn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function _n(l,d){return vt(l),d=sn(l,d),l.g.has(d)}s.forEach=function(l,d){vt(this),this.g.forEach(function(m,_){m.forEach(function(x){l.call(d,x,_,this)},this)},this)},s.na=function(){vt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let _=0;_<d.length;_++){const x=l[_];for(let U=0;U<x.length;U++)m.push(d[_])}return m},s.V=function(l){vt(this);let d=[];if(typeof l=="string")_n(this,l)&&(d=d.concat(this.g.get(sn(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},s.set=function(l,d){return vt(this),this.i=null,l=sn(this,l),_n(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},s.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function vr(l,d,m){vn(l,d),0<m.length&&(l.i=null,l.g.set(sn(l,d),Z(m)),l.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var _=d[m];const U=encodeURIComponent(String(_)),W=this.V(_);for(_=0;_<W.length;_++){var x=U;W[_]!==""&&(x+="="+encodeURIComponent(String(W[_]))),l.push(x)}}return this.i=l.join("&")};function sn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Nn(l,d){d&&!l.j&&(vt(l),l.i=null,l.g.forEach(function(m,_){var x=_.toLowerCase();_!=x&&(vn(this,_),vr(this,x,m))},l)),l.j=d}function Ga(l,d){const m=new Gr;if(g.Image){const _=new Image;_.onload=H(Ut,m,"TestLoadImage: loaded",!0,d,_),_.onerror=H(Ut,m,"TestLoadImage: error",!1,d,_),_.onabort=H(Ut,m,"TestLoadImage: abort",!1,d,_),_.ontimeout=H(Ut,m,"TestLoadImage: timeout",!1,d,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else d(!1)}function ul(l,d){const m=new Gr,_=new AbortController,x=setTimeout(()=>{_.abort(),Ut(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:_.signal}).then(U=>{clearTimeout(x),U.ok?Ut(m,"TestPingServer: ok",!0,d):Ut(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(x),Ut(m,"TestPingServer: error",!1,d)})}function Ut(l,d,m,_,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),_(m)}catch{}}function Xa(){this.g=new Qs}function cl(l,d,m){const _=m||"";try{fr(l,function(x,U){let W=x;E(x)&&(W=qs(x)),d.push(_+U+"="+encodeURIComponent(W))})}catch(x){throw d.push(_+"type="+encodeURIComponent("_badmap")),x}}function Xn(l){this.l=l.Ub||null,this.j=l.eb||!1}te(Xn,Kr),Xn.prototype.g=function(){return new ni(this.l,this.j)},Xn.prototype.i=function(l){return function(){return l}}({});function ni(l,d){st.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}te(ni,st),s=ni.prototype,s.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,wn(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||g).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?En(this):wn(this),this.readyState==3&&hl(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,En(this))},s.Qa=function(l){this.g&&(this.response=l,En(this))},s.ga=function(){this.g&&En(this)};function En(l){l.readyState=4,l.l=null,l.j=null,l.v=null,wn(l)}s.setRequestHeader=function(l,d){this.u.append(l,d)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function wn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Yn(l){let d="";return Pe(l,function(m,_){d+=_,d+=":",d+=m,d+=`\r
`}),d}function _r(l,d,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Yn(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Fe(l,d,m))}function be(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}te(be,st);var Ya=/^https?$/i,no=["POST","PUT"];s=be.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,d,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?Vi(this.o):Vi(gn),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(U){ri(this,U);return}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var x in _)m.set(x,_[x]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const U of _.keys())m.set(U,_.get(U));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),x=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(no,d,void 0))||_||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,W]of m)this.g.setRequestHeader(U,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bi(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){ri(this,U)}};function ri(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,$i(l),Yt(l)}function $i(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ot(this,"complete"),ot(this,"abort"),Yt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),be.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},s.bb=function(){ro(this)};function ro(l){if(l.h&&typeof p<"u"&&(!l.v[1]||zt(l)!=4||l.Z()!=2)){if(l.u&&zt(l)==4)js(l.Ea,0,l);else if(ot(l,"readystatechange"),zt(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var _;if(_=W===0){var x=String(l.D).match(ei)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),_=!Ya.test(x?x.toLowerCase():"")}m=_}if(m)ot(l,"complete"),ot(l,"success");else{l.m=6;try{var U=2<zt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",$i(l)}}finally{Yt(l)}}}}function Yt(l,d){if(l.g){bi(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ot(l,"ready");try{m.onreadystatechange=_}catch{}}}function bi(l){l.I&&(g.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function zt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Hs(d)}};function io(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(l){const d={};l=(l.g&&2<=zt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(Re(l[_]))continue;var m=D(l[_]);const x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=d[x]||[];d[x]=U,U.push(m)}k(d,function(_){return _.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xn(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function so(l){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xn("baseRetryDelayMs",5e3,l),this.cb=xn("retryDelaySeedMs",1e4,l),this.Wa=xn("forwardChannelMaxRetries",2,l),this.wa=xn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Zr(l&&l.concurrentRequestLimit),this.Da=new Xa,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=so.prototype,s.la=8,s.G=1,s.connect=function(l,d,m,_){Je(0),this.W=l,this.H=d||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=ml(this,null,this.W),Ln(this)};function _t(l){if(Hi(l),l.G==3){var d=l.U++,m=Xt(l.I);if(Fe(m,"SID",l.K),Fe(m,"RID",d),Fe(m,"TYPE","terminate"),Jn(l,m),d=new yn(l,l.j,d),d.L=2,d.v=gr(Xt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=d.v,m=!0),m||(d.g=gl(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ze(d)}pl(l)}function Tn(l){l.g&&(oo(l),l.g.cancel(),l.g=null)}function Hi(l){Tn(l),l.u&&(g.clearTimeout(l.u),l.u=null),Wi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Ln(l){if(!Gt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Me||J(),G||(Me(),G=!0),le.add(d,l),l.B=0}}function Ja(l,d){return nl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=pn(z(l.Ga,l,d),fl(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const x=new yn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(x.H=U,U=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Er(this,x,d),m=Xt(this.I),Fe(m,"RID",l),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),Jn(this,m),U&&(this.O?d="headers="+encodeURIComponent(String(Yn(U)))+"&"+d:this.m&&_r(m,this.m,U)),eo(this.h,x),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",d),Fe(m,"SID","null"),x.T=!0,Ui(x,m,null)):Ui(x,m,d),this.G=2}}else this.G==3&&(l?Qi(this,l):this.i.length==0||Gt(this.h)||Qi(this))};function Qi(l,d){var m;d?m=d.l:m=l.U++;const _=Xt(l.I);Fe(_,"SID",l.K),Fe(_,"RID",m),Fe(_,"AID",l.T),Jn(l,_),l.m&&l.o&&_r(_,l.m,l.o),m=new yn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Er(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),eo(l.h,m),Ui(m,_,d)}function Jn(l,d){l.H&&Pe(l.H,function(m,_){Fe(d,_,m)}),l.l&&fr({},function(m,_){Fe(d,_,m)})}function Er(l,d,m){m=Math.min(l.i.length,m);var _=l.l?z(l.l.Na,l.l,l):null;e:{var x=l.i;let U=-1;for(;;){const W=["count="+m];U==-1?0<m?(U=x[0].g,W.push("ofs="+U)):U=0:W.push("ofs="+U);let Oe=!0;for(let lt=0;lt<m;lt++){let Te=x[lt].g;const ft=x[lt].map;if(Te-=U,0>Te)U=Math.max(0,x[lt].g-100),Oe=!1;else try{cl(ft,W,"req"+Te+"_")}catch{_&&_(ft)}}if(Oe){_=W.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,_}function ii(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Me||J(),G||(Me(),G=!0),le.add(d,l),l.v=0}}function Ki(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=pn(z(l.Fa,l),fl(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,dl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=pn(z(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Tn(this),dl(this))};function oo(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function dl(l){l.g=new yn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Xt(l.qa);Fe(d,"RID","rpc"),Fe(d,"SID",l.K),Fe(d,"AID",l.T),Fe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Fe(d,"TO",l.ja),Fe(d,"TYPE","xmlhttp"),Jn(l,d),l.m&&l.o&&_r(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=gr(Xt(d)),m.m=null,m.P=!0,Js(m,l)}s.Za=function(){this.C!=null&&(this.C=null,Tn(this),Ki(this),Je(19))};function Wi(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function Gi(l,d){var m=null;if(l.g==d){Wi(l),oo(l),l.g=null;var _=2}else if(xt(l.h,d))m=d.D,rl(l.h,d),_=1;else return;if(l.G!=0){if(d.o)if(_==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var x=l.B;_=Wr(),ot(_,new Li(_,m)),Ln(l)}else ii(l);else if(x=d.s,x==3||x==0&&0<d.X||!(_==1&&Ja(l,d)||_==2&&Ki(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),x){case 1:Zn(l,5);break;case 4:Zn(l,10);break;case 3:Zn(l,6);break;default:Zn(l,2)}}}function fl(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function Zn(l,d){if(l.j.info("Error code "+d),d==2){var m=z(l.fb,l),_=l.Xa;const x=!_;_=new Gn(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ti(_,"https"),gr(_),x?Ga(_.toString(),m):ul(_.toString(),m)}else Je(2);l.G=0,l.l&&l.l.sa(d),pl(l),Hi(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function pl(l){if(l.G=0,l.ka=[],l.l){const d=il(l.h);(d.length!=0||l.i.length!=0)&&(K(l.ka,d),K(l.ka,l.i),l.h.i.length=0,Z(l.i),l.i.length=0),l.l.ra()}}function ml(l,d,m){var _=m instanceof Gn?Xt(m):new Gn(m);if(_.g!="")d&&(_.g=d+"."+_.g),pr(_,_.s);else{var x=g.location;_=x.protocol,d=d?d+"."+x.hostname:x.hostname,x=+x.port;var U=new Gn(null);_&&ti(U,_),d&&(U.g=d),x&&pr(U,x),m&&(U.l=m),_=U}return m=l.D,d=l.ya,m&&d&&Fe(_,m,d),Fe(_,"VER",l.la),Jn(l,_),_}function gl(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new be(new Xn({eb:m})):new be(l.pa),d.Ha(l.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function lo(){}s=lo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Xi(){}Xi.prototype.g=function(l,d){return new Lt(l,d)};function Lt(l,d){st.call(this),this.g=new so(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!Re(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Re(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new On(this)}te(Lt,st),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){_t(this.g)},Lt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=qs(l),l=m);d.i.push(new tl(d.Ya++,l)),d.G==3&&Ln(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,_t(this.g),delete this.g,Lt.aa.N.call(this)};function yl(l){kn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}te(yl,kn);function vl(){xi.call(this),this.status=1}te(vl,xi);function On(l){this.g=l}te(On,lo),On.prototype.ua=function(){ot(this.g,"a")},On.prototype.ta=function(l){ot(this.g,new yl(l))},On.prototype.sa=function(l){ot(this.g,new vl)},On.prototype.ra=function(){ot(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,em=function(){return new Xi},Zp=function(){return Wr()},Jp=Dn,Bc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mi.NO_ERROR=0,Mi.TIMEOUT=8,Mi.HTTP_ERROR=6,va=Mi,Yo.COMPLETE="complete",Yp=Yo,Ni.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",st.prototype.listen=st.prototype.K,xo=Ni,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Xp=be}).apply(typeof da<"u"?da:typeof self<"u"?self:typeof window<"u"?window:{});const Jf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new bp("@firebase/firestore");function vs(){return Si.logLevel}function ee(s,...t){if(Si.logLevel<=Ie.DEBUG){const r=t.map(sh);Si.debug(`Firestore (${xs}): ${s}`,...r)}}function ur(s,...t){if(Si.logLevel<=Ie.ERROR){const r=t.map(sh);Si.error(`Firestore (${xs}): ${s}`,...r)}}function Cs(s,...t){if(Si.logLevel<=Ie.WARN){const r=t.map(sh);Si.warn(`Firestore (${xs}): ${s}`,...r)}}function sh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s="Unexpected state"){const t=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: `+s;throw ur(t),new Error(t)}function Ke(s,t){s||pe()}function Ce(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ns{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Bv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Vt.UNAUTHENTICATED))}shutdown(){}}class jv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class $v{constructor(t){this.t=t,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ke(this.o===void 0);let o=this.i;const a=v=>this.i!==o?(o=this.i,r(v)):Promise.resolve();let c=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wi,t.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const v=c;t.enqueueRetryable(async()=>{await v.promise,await a(this.currentUser)})},g=v=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wi)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ke(typeof o.accessToken=="string"),new tm(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ke(t===null||typeof t=="string"),new Vt(t)}}class bv{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qv{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new bv(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qv{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){Ke(this.o===void 0);const o=c=>{c.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,ee("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const a=c=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ke(typeof r.token=="string"),this.R=r.token,new Hv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const a=Kv(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<r&&(o+=t.charAt(a[c]%t.length))}return o}}function Ae(s,t){return s<t?-1:s>t?1:0}function Rs(s,t,r){return s.length===t.length&&s.every((o,a)=>r(o,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new Wt(r,o)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ae(this.nanoseconds,t.nanoseconds):Ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(t){return new fe(t)}static min(){return new fe(new Wt(0,0))}static max(){return new fe(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,r,o){r===void 0?r=0:r>t.length&&pe(),o===void 0?o=t.length-r:o>t.length-r&&pe(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return $o.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof $o?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let a=0;a<o;a++){const c=t.get(a),p=r.get(a);if(c<p)return-1;if(c>p)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Ge extends $o{construct(t,r,o){return new Ge(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new Ge(r)}static emptyPath(){return new Ge([])}}const Gv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends $o{construct(t,r,o){return new Ft(t,r,o)}static isValidIdentifier(t){return Gv.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(t){const r=[];let o="",a=0;const c=()=>{if(o.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=v,a+=2}else g==="`"?(p=!p,a++):g!=="."||p?(o+=g,a++):(c(),a++)}if(c(),p)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ft(r)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.path=t}static fromPath(t){return new he(Ge.fromString(t))}static fromName(t){return new he(Ge.fromString(t).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ge.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new he(new Ge(t.slice()))}}function Xv(s,t){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,a=fe.fromTimestamp(o===1e9?new Wt(r+1,0):new Wt(r,o));return new zr(a,he.empty(),t)}function Yv(s){return new zr(s.readTime,s.key,-1)}class zr{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new zr(fe.min(),he.empty(),-1)}static max(){return new zr(fe.max(),he.empty(),-1)}}function Jv(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=he.comparator(s.documentKey,t.documentKey),r!==0?r:Ae(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Zv)throw s;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new j((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof j?r:j.resolve(r)}catch(r){return j.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):j.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):j.reject(r)}static resolve(t){return new j((r,o)=>{r(t)})}static reject(t){return new j((r,o)=>{o(t)})}static waitFor(t){return new j((r,o)=>{let a=0,c=0,p=!1;t.forEach(g=>{++a,g.next(()=>{++c,p&&c===a&&r()},v=>o(v))}),p=!0,c===a&&r()})}static or(t){let r=j.resolve(!1);for(const o of t)r=r.next(a=>a?j.resolve(a):o());return r}static forEach(t,r){const o=[];return t.forEach((a,c)=>{o.push(r.call(this,a,c))}),this.waitFor(o)}static mapArray(t,r){return new j((o,a)=>{const c=t.length,p=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;r(t[E]).next(C=>{p[E]=C,++g,g===c&&o(p)},C=>a(C))}})}static doWhile(t,r){return new j((o,a)=>{const c=()=>{t()===!0?r().next(()=>{c()},a):o()};c()})}}function t_(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ls(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Oa.oe=-1;function Ma(s){return s==null}function jc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=Zf(t)),t=r_(s.get(r),t);return Zf(t)}function r_(s,t){let r=t;const o=s.length;for(let a=0;a<o;a++){const c=s.charAt(a);switch(c){case"\0":r+="";break;case"":r+="";break;default:r+=c}}return r}function Zf(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function Qo(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function i_(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,r){this.comparator=t,this.root=r||Tt.EMPTY}insert(t,r){return new tt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(t){return new tt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(t,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fa(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fa(this.root,t,this.comparator,!1)}getReverseIterator(){return new fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fa(this.root,t,this.comparator,!0)}}class fa{constructor(t,r,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tt{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??Tt.RED,this.left=a??Tt.EMPTY,this.right=c??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,a,c){return new Tt(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Tt.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const t=this.left.check();if(t!==this.right.check())throw pe();return t+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(t,r,o,a,c){return this}insert(t,r,o){return new Tt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.comparator=t,this.data=new tt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new tp(this.data.getIterator())}getIteratorFrom(t){return new tp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof ht)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ht(this.comparator);return r.data=t,r}}class tp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.fields=t,t.sort(Ft.comparator)}static empty(){return new Or([])}unionWith(t){let r=new ht(Ft.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new Or(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Rs(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nm("Invalid base64 string: "+c):c}}(t);return new St(r)}static fromUint8Array(t){const r=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(t);return new St(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}St.EMPTY_BYTE_STRING=new St("");const s_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(s){if(Ke(!!s),typeof s=="string"){let t=0;const r=s_.exec(s);if(Ke(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:et(s.seconds),nanos:et(s.nanos)}}function et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function jr(s){return typeof s=="string"?St.fromBase64String(s):St.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Fa(s){const t=s.mapValue.fields.__previous_value__;return oh(t)?Fa(t):t}function bo(s){const t=Br(s.mapValue.fields.__local_write_time__.timestampValue);return new Wt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t,r,o,a,c,p,g,v,E){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E}}class qo{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?oh(s)?4:a_(s)?9007199254740991:l_(s)?10:11:pe()}function $n(s,t){if(s===t)return!0;const r=$r(s);if(r!==$r(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return bo(s).isEqual(bo(t));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=Br(a.timestampValue),g=Br(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(a,c){return jr(a.bytesValue).isEqual(jr(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(a,c){return et(a.geoPointValue.latitude)===et(c.geoPointValue.latitude)&&et(a.geoPointValue.longitude)===et(c.geoPointValue.longitude)}(s,t);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return et(a.integerValue)===et(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=et(a.doubleValue),g=et(c.doubleValue);return p===g?jc(p)===jc(g):isNaN(p)&&isNaN(g)}return!1}(s,t);case 9:return Rs(s.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:case 11:return function(a,c){const p=a.mapValue.fields||{},g=c.mapValue.fields||{};if(ep(p)!==ep(g))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(g[v]===void 0||!$n(p[v],g[v])))return!1;return!0}(s,t);default:return pe()}}function Ho(s,t){return(s.values||[]).find(r=>$n(r,t))!==void 0}function Ps(s,t){if(s===t)return 0;const r=$r(s),o=$r(t);if(r!==o)return Ae(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ae(s.booleanValue,t.booleanValue);case 2:return function(c,p){const g=et(c.integerValue||c.doubleValue),v=et(p.integerValue||p.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,t);case 3:return np(s.timestampValue,t.timestampValue);case 4:return np(bo(s),bo(t));case 5:return Ae(s.stringValue,t.stringValue);case 6:return function(c,p){const g=jr(c),v=jr(p);return g.compareTo(v)}(s.bytesValue,t.bytesValue);case 7:return function(c,p){const g=c.split("/"),v=p.split("/");for(let E=0;E<g.length&&E<v.length;E++){const C=Ae(g[E],v[E]);if(C!==0)return C}return Ae(g.length,v.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,p){const g=Ae(et(c.latitude),et(p.latitude));return g!==0?g:Ae(et(c.longitude),et(p.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return rp(s.arrayValue,t.arrayValue);case 10:return function(c,p){var g,v,E,C;const M=c.fields||{},z=p.fields||{},H=(g=M.value)===null||g===void 0?void 0:g.arrayValue,te=(v=z.value)===null||v===void 0?void 0:v.arrayValue,Z=Ae(((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0,((C=te==null?void 0:te.values)===null||C===void 0?void 0:C.length)||0);return Z!==0?Z:rp(H,te)}(s.mapValue,t.mapValue);case 11:return function(c,p){if(c===pa.mapValue&&p===pa.mapValue)return 0;if(c===pa.mapValue)return 1;if(p===pa.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=p.fields||{},C=Object.keys(E);v.sort(),C.sort();for(let M=0;M<v.length&&M<C.length;++M){const z=Ae(v[M],C[M]);if(z!==0)return z;const H=Ps(g[v[M]],E[C[M]]);if(H!==0)return H}return Ae(v.length,C.length)}(s.mapValue,t.mapValue);default:throw pe()}}function np(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ae(s,t);const r=Br(s),o=Br(t),a=Ae(r.seconds,o.seconds);return a!==0?a:Ae(r.nanos,o.nanos)}function rp(s,t){const r=s.values||[],o=t.values||[];for(let a=0;a<r.length&&a<o.length;++a){const c=Ps(r[a],o[a]);if(c)return c}return Ae(r.length,o.length)}function ks(s){return $c(s)}function $c(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=Br(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return jr(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return he.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",a=!0;for(const c of r.values||[])a?a=!1:o+=",",o+=$c(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of o)c?c=!1:a+=",",a+=`${p}:${$c(r.fields[p])}`;return a+"}"}(s.mapValue):pe()}function _a(s){switch($r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fa(s);return t?16+_a(t):16;case 5:return 2*s.stringValue.length;case 6:return jr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((a,c)=>a+_a(c),0)}(s.arrayValue);case 10:case 11:return function(o){let a=0;return Qo(o.fields,(c,p)=>{a+=c.length+_a(p)}),a}(s.mapValue);default:throw pe()}}function bc(s){return!!s&&"integerValue"in s}function lh(s){return!!s&&"arrayValue"in s}function ip(s){return!!s&&"nullValue"in s}function sp(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Rc(s){return!!s&&"mapValue"in s}function l_(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Mo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Qo(s.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Mo(o)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Mo(s.arrayValue.values[r]);return t}return Object.assign({},s)}function a_(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!Rc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mo(r)}setAll(t){let r=Ft.emptyPath(),o={},a=[];t.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,o,a),o={},a=[],r=g.popLast()}p?o[g.lastSegment()]=Mo(p):a.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,a)}delete(t){const r=this.field(t.popLast());Rc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let a=r.mapValue.fields[t.get(o)];Rc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,o){Qo(r,(a,c)=>t[a]=c);for(const a of o)delete t[a]}clone(){return new Bn(Mo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,r,o,a,c,p,g){this.key=t,this.documentType=r,this.version=o,this.readTime=a,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(t){return new Nt(t,0,fe.min(),fe.min(),fe.min(),Bn.empty(),0)}static newFoundDocument(t,r,o,a){return new Nt(t,1,r,fe.min(),o,a,0)}static newNoDocument(t,r){return new Nt(t,2,r,fe.min(),fe.min(),Bn.empty(),0)}static newUnknownDocument(t,r){return new Nt(t,3,r,fe.min(),fe.min(),Bn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Nt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,r){this.position=t,this.inclusive=r}}function op(s,t,r){let o=0;for(let a=0;a<s.position.length;a++){const c=t[a],p=s.position[a];if(c.field.isKeyField()?o=he.comparator(he.fromName(p.referenceValue),r.key):o=Ps(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function lp(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!$n(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,r="asc"){this.field=t,this.dir=r}}function u_(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{}class ct extends rm{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new h_(t,r,o):r==="array-contains"?new p_(t,o):r==="in"?new m_(t,o):r==="not-in"?new g_(t,o):r==="array-contains-any"?new y_(t,o):new ct(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new d_(t,o):new f_(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ps(r,this.value)):r!==null&&$r(this.value)===$r(r)&&this.matchesComparison(Ps(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends rm{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new bn(t,r)}matches(t){return im(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function im(s){return s.op==="and"}function sm(s){return c_(s)&&im(s)}function c_(s){for(const t of s.filters)if(t instanceof bn)return!1;return!0}function qc(s){if(s instanceof ct)return s.field.canonicalString()+s.op.toString()+ks(s.value);if(sm(s))return s.filters.map(t=>qc(t)).join(",");{const t=s.filters.map(r=>qc(r)).join(",");return`${s.op}(${t})`}}function om(s,t){return s instanceof ct?function(o,a){return a instanceof ct&&o.op===a.op&&o.field.isEqual(a.field)&&$n(o.value,a.value)}(s,t):s instanceof bn?function(o,a){return a instanceof bn&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((c,p,g)=>c&&om(p,a.filters[g]),!0):!1}(s,t):void pe()}function lm(s){return s instanceof ct?function(r){return`${r.field.canonicalString()} ${r.op} ${ks(r.value)}`}(s):s instanceof bn?function(r){return r.op.toString()+" {"+r.getFilters().map(lm).join(" ,")+"}"}(s):"Filter"}class h_ extends ct{constructor(t,r,o){super(t,r,o),this.key=he.fromName(o.referenceValue)}matches(t){const r=he.comparator(t.key,this.key);return this.matchesComparison(r)}}class d_ extends ct{constructor(t,r){super(t,"in",r),this.keys=am("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class f_ extends ct{constructor(t,r){super(t,"not-in",r),this.keys=am("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function am(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>he.fromName(o.referenceValue))}class p_ extends ct{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return lh(r)&&Ho(r.arrayValue,this.value)}}class m_ extends ct{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Ho(this.value.arrayValue,r)}}class g_ extends ct{constructor(t,r){super(t,"not-in",r)}matches(t){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!Ho(this.value.arrayValue,r)}}class y_ extends ct{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!lh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Ho(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(t,r=null,o=[],a=[],c=null,p=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function ap(s,t=null,r=[],o=[],a=null,c=null,p=null){return new v_(s,t,r,o,a,c,p)}function ah(s){const t=Ce(s);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>qc(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Ma(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ks(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ks(o)).join(",")),t.ue=r}return t.ue}function uh(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!u_(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!om(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!lp(s.startAt,t.startAt)&&lp(s.endAt,t.endAt)}function Hc(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,r=null,o=[],a=[],c=null,p="F",g=null,v=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __(s,t,r,o,a,c,p,g){return new Ua(s,t,r,o,a,c,p,g)}function um(s){return new Ua(s)}function up(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function E_(s){return s.collectionGroup!==null}function Fo(s){const t=Ce(s);if(t.ce===null){t.ce=[];const r=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new ht(Ft.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Ra(c,o))}),r.has(Ft.keyField().canonicalString())||t.ce.push(new Ra(Ft.keyField(),o))}return t.ce}function jn(s){const t=Ce(s);return t.le||(t.le=w_(t,Fo(s))),t.le}function w_(s,t){if(s.limitType==="F")return ap(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Ra(a.field,c)});const r=s.endAt?new Ca(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Ca(s.startAt.position,s.startAt.inclusive):null;return ap(s.path,s.collectionGroup,t,s.filters,s.limit,r,o)}}function Qc(s,t,r){return new Ua(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function za(s,t){return uh(jn(s),jn(t))&&s.limitType===t.limitType}function cm(s){return`${ah(jn(s))}|lt:${s.limitType}`}function _s(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(a=>lm(a)).join(", ")}]`),Ma(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(a=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(a)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(a=>ks(a)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(a=>ks(a)).join(",")),`Target(${o})`}(jn(s))}; limitType=${s.limitType})`}function Ba(s,t){return t.isFoundDocument()&&function(o,a){const c=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):he.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,t)&&function(o,a){for(const c of Fo(o))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(s,t)&&function(o,a){for(const c of o.filters)if(!c.matches(a))return!1;return!0}(s,t)&&function(o,a){return!(o.startAt&&!function(p,g,v){const E=op(p,g,v);return p.inclusive?E<=0:E<0}(o.startAt,Fo(o),a)||o.endAt&&!function(p,g,v){const E=op(p,g,v);return p.inclusive?E>=0:E>0}(o.endAt,Fo(o),a))}(s,t)}function T_(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hm(s){return(t,r)=>{let o=!1;for(const a of Fo(s)){const c=S_(a,t,r);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function S_(s,t,r){const o=s.field.isKeyField()?he.comparator(t.key,r.key):function(c,p,g){const v=p.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Ps(v,E):pe()}(s.field,t,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),a=this.inner[o];if(a===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return void(a[c]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Qo(this.inner,(r,o)=>{for(const[a,c]of o)t(a,c)})}isEmpty(){return i_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new tt(he.comparator);function br(){return I_}const dm=new tt(he.comparator);function Lo(...s){let t=dm;for(const r of s)t=t.insert(r.key,r);return t}function A_(s){let t=dm;return s.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function _i(){return Uo()}function fm(){return Uo()}function Uo(){return new Ai(s=>s.toString(),(s,t)=>s.isEqual(t))}const C_=new ht(he.comparator);function De(...s){let t=C_;for(const r of s)t=t.add(r);return t}const R_=new ht(Ae);function P_(){return R_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function D_(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this._=void 0}}function V_(s,t,r){return s instanceof Kc?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&oh(c)&&(c=Fa(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,t):s instanceof Pa?pm(s,t):s instanceof ka?mm(s,t):function(a,c){const p=x_(a,c),g=cp(p)+cp(a.Pe);return bc(p)&&bc(a.Pe)?D_(g):k_(a.serializer,g)}(s,t)}function N_(s,t,r){return s instanceof Pa?pm(s,t):s instanceof ka?mm(s,t):r}function x_(s,t){return s instanceof Wc?function(o){return bc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(t)?t:{integerValue:0}:null}class Kc extends ja{}class Pa extends ja{constructor(t){super(),this.elements=t}}function pm(s,t){const r=gm(t);for(const o of s.elements)r.some(a=>$n(a,o))||r.push(o);return{arrayValue:{values:r}}}class ka extends ja{constructor(t){super(),this.elements=t}}function mm(s,t){let r=gm(t);for(const o of s.elements)r=r.filter(a=>!$n(a,o));return{arrayValue:{values:r}}}class Wc extends ja{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function cp(s){return et(s.integerValue||s.doubleValue)}function gm(s){return lh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function L_(s,t){return s.field.isEqual(t.field)&&function(o,a){return o instanceof Pa&&a instanceof Pa||o instanceof ka&&a instanceof ka?Rs(o.elements,a.elements,$n):o instanceof Wc&&a instanceof Wc?$n(o.Pe,a.Pe):o instanceof Kc&&a instanceof Kc}(s.transform,t.transform)}class Ti{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ea(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ch{}function ym(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new M_(s.key,Ti.none()):new hh(s.key,s.data,Ti.none());{const r=s.data,o=Bn.empty();let a=new ht(Ft.comparator);for(let c of t.fields)if(!a.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),a=a.add(c)}return new $a(s.key,o,new Or(a.toArray()),Ti.none())}}function O_(s,t,r){s instanceof hh?function(a,c,p){const g=a.value.clone(),v=dp(a.fieldTransforms,c,p.transformResults);g.setAll(v),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,t,r):s instanceof $a?function(a,c,p){if(!Ea(a.precondition,c))return void c.convertToUnknownDocument(p.version);const g=dp(a.fieldTransforms,c,p.transformResults),v=c.data;v.setAll(vm(a)),v.setAll(g),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(s,t,r):function(a,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function zo(s,t,r,o){return s instanceof hh?function(c,p,g,v){if(!Ea(c.precondition,p))return g;const E=c.value.clone(),C=fp(c.fieldTransforms,v,p);return E.setAll(C),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(s,t,r,o):s instanceof $a?function(c,p,g,v){if(!Ea(c.precondition,p))return g;const E=fp(c.fieldTransforms,v,p),C=p.data;return C.setAll(vm(c)),C.setAll(E),p.convertToFoundDocument(p.version,C).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(M=>M.field))}(s,t,r,o):function(c,p,g){return Ea(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,t,r)}function hp(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&Rs(o,a,(c,p)=>L_(c,p))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class hh extends ch{constructor(t,r,o,a=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $a extends ch{constructor(t,r,o,a,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vm(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);t.set(r,o)}}),t}function dp(s,t,r){const o=new Map;Ke(s.length===r.length);for(let a=0;a<r.length;a++){const c=s[a],p=c.transform,g=t.data.field(c.field);o.set(c.field,N_(p,g,r[a]))}return o}function fp(s,t,r){const o=new Map;for(const a of s){const c=a.transform,p=r.data.field(a.field);o.set(a.field,V_(c,p,t))}return o}class M_ extends ch{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,r,o,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(t.key)&&O_(c,t,o[a])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=zo(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=zo(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=fm();return this.mutations.forEach(a=>{const c=t.get(a.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(a.key)?null:g;const v=ym(p,g);v!==null&&o.set(a.key,v),p.isValidDocument()||p.convertToNoDocument(fe.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),De())}isEqual(t){return this.batchId===t.batchId&&Rs(this.mutations,t.mutations,(r,o)=>hp(r,o))&&Rs(this.baseMutations,t.baseMutations,(r,o)=>hp(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Se;function _m(s){if(s===void 0)return ur("GRPC error has no .code"),X.UNKNOWN;switch(s){case it.OK:return X.OK;case it.CANCELLED:return X.CANCELLED;case it.UNKNOWN:return X.UNKNOWN;case it.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case it.INTERNAL:return X.INTERNAL;case it.UNAVAILABLE:return X.UNAVAILABLE;case it.UNAUTHENTICATED:return X.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case it.NOT_FOUND:return X.NOT_FOUND;case it.ALREADY_EXISTS:return X.ALREADY_EXISTS;case it.PERMISSION_DENIED:return X.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case it.ABORTED:return X.ABORTED;case it.OUT_OF_RANGE:return X.OUT_OF_RANGE;case it.UNIMPLEMENTED:return X.UNIMPLEMENTED;case it.DATA_LOSS:return X.DATA_LOSS;default:return pe()}}(Se=it||(it={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Ei([4294967295,4294967295],0);function pp(s){const t=B_().encode(s),r=new Gp;return r.update(t),new Uint8Array(r.digest())}function mp(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),a=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ei([r,o],0),new Ei([a,c],0)]}class dh{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Oo(`Invalid padding: ${r}`);if(o<0)throw new Oo(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${o}`);if(t.length===0&&r!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*t.length-r,this.Ie=Ei.fromNumber(this.Te)}Ee(t,r,o){let a=t.add(r.multiply(Ei.fromNumber(o)));return a.compare(j_)===1&&(a=new Ei([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const r=pp(t),[o,a]=mp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,a,c);if(!this.de(p))return!1}return!0}static create(t,r,o){const a=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),p=new dh(c,a,r);return o.forEach(g=>p.insert(g)),p}insert(t){if(this.Te===0)return;const r=pp(t),[o,a]=mp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,a,c);this.Ae(p)}}Ae(t){const r=Math.floor(t/8),o=t%8;this.bitmap[r]|=1<<o}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,r,o,a,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const a=new Map;return a.set(t,Ko.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new ba(fe.min(),a,new tt(Ae),br(),De())}}class Ko{constructor(t,r,o,a,c){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new Ko(o,r,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,r,o,a){this.Re=t,this.removedTargetIds=r,this.key=o,this.Ve=a}}class Em{constructor(t,r){this.targetId=t,this.me=r}}class wm{constructor(t,r,o=St.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=a}}class gp{constructor(){this.fe=0,this.ge=yp(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=De(),r=De(),o=De();return this.ge.forEach((a,c)=>{switch(c){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:pe()}}),new Ko(this.pe,this.ye,t,r,o)}Ce(){this.we=!1,this.ge=yp()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $_{constructor(t){this.Le=t,this.Be=new Map,this.ke=br(),this.qe=ma(),this.Qe=ma(),this.Ke=new tt(Ae)}$e(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(r,t.Ve):this.We(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.We(r,t.key,t.Ve)}Ge(t){this.forEachTarget(t,r=>{const o=this.ze(r);switch(t.state){case 0:this.je(r)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.je(r)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.De(t.resumeToken));break;default:pe()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((o,a)=>{this.je(a)&&r(a)})}Je(t){const r=t.targetId,o=t.me.count,a=this.Ye(r);if(a){const c=a.target;if(Hc(c))if(o===0){const p=new he(c.path);this.We(r,p,Nt.newNoDocument(p,fe.min()))}else Ke(o===1);else{const p=this.Ze(r);if(p!==o){const g=this.Xe(t),v=g?this.et(g,t,p):1;if(v!==0){this.He(r);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,E)}}}}}Xe(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:c=0}=r;let p,g;try{p=jr(o).toUint8Array()}catch(v){if(v instanceof nm)return Cs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new dh(p,a,c)}catch(v){return Cs(v instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Te===0?null:g}et(t,r,o){return r.me.count===o-this.rt(t,r.targetId)?0:2}rt(t,r){const o=this.Le.getRemoteKeysForTarget(r);let a=0;return o.forEach(c=>{const p=this.Le.nt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.We(r,c,null),a++)}),a}it(t){const r=new Map;this.Be.forEach((c,p)=>{const g=this.Ye(p);if(g){if(c.current&&Hc(g.target)){const v=new he(g.target.path);this.st(v).has(p)||this.ot(p,v)||this.We(p,v,Nt.newNoDocument(v,t))}c.be&&(r.set(p,c.ve()),c.Ce())}});let o=De();this.Qe.forEach((c,p)=>{let g=!0;p.forEachWhile(v=>{const E=this.Ye(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ke.forEach((c,p)=>p.setReadTime(t));const a=new ba(t,r,this.Ke,this.ke,o);return this.ke=br(),this.qe=ma(),this.Qe=ma(),this.Ke=new tt(Ae),a}Ue(t,r){if(!this.je(t))return;const o=this.ot(t,r.key)?2:0;this.ze(t).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(t))}We(t,r,o){if(!this.je(t))return;const a=this.ze(t);this.ot(t,r)?a.Fe(r,1):a.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(t)),this.Qe=this.Qe.insert(r,this._t(r).add(t)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(t){this.Be.delete(t)}Ze(t){const r=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let r=this.Be.get(t);return r||(r=new gp,this.Be.set(t,r)),r}_t(t){let r=this.Qe.get(t);return r||(r=new ht(Ae),this.Qe=this.Qe.insert(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new ht(Ae),this.qe=this.qe.insert(t,r)),r}je(t){const r=this.Ye(t)!==null;return r||ee("WatchChangeAggregator","Detected inactive target",t),r}Ye(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new gp),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.We(t,r,null)})}ot(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function ma(){return new tt(he.comparator)}function yp(){return new tt(he.comparator)}const b_={asc:"ASCENDING",desc:"DESCENDING"},q_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H_={and:"AND",or:"OR"};class Q_{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Gc(s,t){return s.useProto3Json||Ma(t)?t:{value:t}}function K_(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function W_(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Ss(s){return Ke(!!s),fe.fromTimestamp(function(r){const o=Br(r);return new Wt(o.seconds,o.nanos)}(s))}function G_(s,t){return Xc(s,t).canonicalString()}function Xc(s,t){const r=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(s).child("documents");return t===void 0?r:r.child(t)}function Tm(s){const t=Ge.fromString(s);return Ke(Rm(t)),t}function Pc(s,t){const r=Tm(t);if(r.get(1)!==s.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new he(Im(r))}function Sm(s,t){return G_(s.databaseId,t)}function X_(s){const t=Tm(s);return t.length===4?Ge.emptyPath():Im(t)}function vp(s){return new Ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Im(s){return Ke(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Y_(s,t){let r;if("targetChange"in t){t.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:pe()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],c=function(E,C){return E.useProto3Json?(Ke(C===void 0||typeof C=="string"),St.fromBase64String(C||"")):(Ke(C===void 0||C instanceof Buffer||C instanceof Uint8Array),St.fromUint8Array(C||new Uint8Array))}(s,t.targetChange.resumeToken),p=t.targetChange.cause,g=p&&function(E){const C=E.code===void 0?X.UNKNOWN:_m(E.code);return new ce(C,E.message||"")}(p);r=new wm(o,a,c,g||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const a=Pc(s,o.document.name),c=Ss(o.document.updateTime),p=o.document.createTime?Ss(o.document.createTime):fe.min(),g=new Bn({mapValue:{fields:o.document.fields}}),v=Nt.newFoundDocument(a,c,p,g),E=o.targetIds||[],C=o.removedTargetIds||[];r=new wa(E,C,v.key,v)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const a=Pc(s,o.document),c=o.readTime?Ss(o.readTime):fe.min(),p=Nt.newNoDocument(a,c),g=o.removedTargetIds||[];r=new wa([],g,p.key,p)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const a=Pc(s,o.document),c=o.removedTargetIds||[];r=new wa([],c,a,null)}else{if(!("filter"in t))return pe();{t.filter;const o=t.filter;o.targetId;const{count:a=0,unchangedNames:c}=o,p=new z_(a,c),g=o.targetId;r=new Em(g,p)}}return r}function J_(s,t){return{documents:[Sm(s,t.path)]}}function Z_(s,t){const r={structuredQuery:{}},o=t.path;let a;t.collectionGroup!==null?(a=o,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Sm(s,a);const c=function(E){if(E.length!==0)return Cm(bn.create(E,"and"))}(t.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(C=>function(z){return{field:Es(z.field),direction:n0(z.dir)}}(C))}(t.orderBy);p&&(r.structuredQuery.orderBy=p);const g=Gc(s,t.limit);return g!==null&&(r.structuredQuery.limit=g),t.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{ct:r,parent:a}}function e0(s){let t=X_(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Ke(o===1);const C=r.from[0];C.allDescendants?a=C.collectionId:t=t.child(C.collectionId)}let c=[];r.where&&(c=function(M){const z=Am(M);return z instanceof bn&&sm(z)?z.getFilters():[z]}(r.where));let p=[];r.orderBy&&(p=function(M){return M.map(z=>function(te){return new Ra(ws(te.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction))}(z))}(r.orderBy));let g=null;r.limit&&(g=function(M){let z;return z=typeof M=="object"?M.value:M,Ma(z)?null:z}(r.limit));let v=null;r.startAt&&(v=function(M){const z=!!M.before,H=M.values||[];return new Ca(H,z)}(r.startAt));let E=null;return r.endAt&&(E=function(M){const z=!M.before,H=M.values||[];return new Ca(H,z)}(r.endAt)),__(t,a,p,c,g,"F",v,E)}function t0(s,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Am(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=ws(r.unaryFilter.field);return ct.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=ws(r.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ws(r.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=ws(r.unaryFilter.field);return ct.create(p,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(s):s.fieldFilter!==void 0?function(r){return ct.create(ws(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return bn.create(r.compositeFilter.filters.map(o=>Am(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pe()}}(r.compositeFilter.op))}(s):pe()}function n0(s){return b_[s]}function r0(s){return q_[s]}function i0(s){return H_[s]}function Es(s){return{fieldPath:s.canonicalString()}}function ws(s){return Ft.fromServerFormat(s.fieldPath)}function Cm(s){return s instanceof ct?function(r){if(r.op==="=="){if(sp(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NAN"}};if(ip(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(sp(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NOT_NAN"}};if(ip(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(r.field),op:r0(r.op),value:r.value}}}(s):s instanceof bn?function(r){const o=r.getFilters().map(a=>Cm(a));return o.length===1?o[0]:{compositeFilter:{op:i0(r.op),filters:o}}}(s):pe()}function Rm(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,r,o,a,c=fe.min(),p=fe.min(),g=St.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Mr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t){this.ht=t}}function o0(s){const t=e0({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.ln=new a0}addToCollectionParentIndex(t,r){return this.ln.add(r),j.resolve()}getCollectionParents(t,r){return j.resolve(this.ln.getEntries(r))}addFieldIndex(t,r){return j.resolve()}deleteFieldIndex(t,r){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,r){return j.resolve()}getDocumentsMatchingTarget(t,r){return j.resolve(null)}getIndexType(t,r){return j.resolve(0)}getFieldIndexes(t,r){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,r){return j.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,r){return j.resolve(zr.min())}updateCollectionGroup(t,r,o){return j.resolve()}updateIndexEntries(t,r){return j.resolve()}}class a0{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r]||new ht(Ge.comparator),c=!a.has(o);return this.index[r]=a.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(t){return(this.index[t]||new ht(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qt{static withCacheSize(t){return new Qt(t,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Ds(0)}static Qn(){return new Ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep([s,t],[r,o]){const a=Ae(s,r);return a===0?Ae(t,o):a}class u0{constructor(t){this.Gn=t,this.buffer=new ht(Ep),this.zn=0}jn(){return++this.zn}Hn(t){const r=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Ep(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class c0{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){ee("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ls(r)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await La(r)}await this.Yn(3e5)})}}class h0{constructor(t,r){this.Zn=t,this.params=r}calculateTargetCount(t,r){return this.Zn.Xn(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(r===0)return j.resolve(Oa.oe);const o=new u0(r);return this.Zn.forEachTarget(t,a=>o.Hn(a.sequenceNumber)).next(()=>this.Zn.er(t,a=>o.Hn(a))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.Zn.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Zn.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(_p)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_p):this.tr(t,r))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,r){let o,a,c,p,g,v,E;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,p=Date.now(),this.nthSequenceNumber(t,a))).next(M=>(o=M,g=Date.now(),this.removeTargets(t,o,r))).next(M=>(c=M,v=Date.now(),this.removeOrphanedDocuments(t,o))).next(M=>(E=Date.now(),vs()<=Ie.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-C}ms
	Determined least recently used ${a} in `+(g-p)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${M} documents in `+(E-v)+`ms
Total Duration: ${E-C}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:M})))}}function d0(s,t){return new h0(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.changes=new Ai(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Nt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?j.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,r,o,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(o!==null&&zo(o.mutation,a,Or.empty(),Wt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,De()).next(()=>o))}getLocalViewOfDocuments(t,r,o=De()){const a=_i();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,o).next(c=>{let p=Lo();return c.forEach((g,v)=>{p=p.insert(g,v.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const o=_i();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,De()))}populateOverlays(t,r,o){const a=[];return o.forEach(c=>{r.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(t,a).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(t,r,o,a){let c=br();const p=Uo(),g=function(){return Uo()}();return r.forEach((v,E)=>{const C=o.get(E.key);a.has(E.key)&&(C===void 0||C.mutation instanceof $a)?c=c.insert(E.key,E):C!==void 0?(p.set(E.key,C.mutation.getFieldMask()),zo(C.mutation,E,C.mutation.getFieldMask(),Wt.now())):p.set(E.key,Or.empty())}),this.recalculateAndSaveOverlays(t,c).next(v=>(v.forEach((E,C)=>p.set(E,C)),r.forEach((E,C)=>{var M;return g.set(E,new p0(C,(M=p.get(E))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(t,r){const o=Uo();let a=new tt((p,g)=>p-g),c=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const g of p)g.keys().forEach(v=>{const E=r.get(v);if(E===null)return;let C=o.get(v)||Or.empty();C=g.applyToLocalView(E,C),o.set(v,C);const M=(a.get(g.batchId)||De()).add(v);a=a.insert(g.batchId,M)})}).next(()=>{const p=[],g=a.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,C=v.value,M=fm();C.forEach(z=>{if(!c.has(z)){const H=ym(r.get(z),o.get(z));H!==null&&M.set(z,H),c=c.add(z)}}),p.push(this.documentOverlayCache.saveOverlays(t,E,M))}return j.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,a){return function(p){return he.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):E_(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,a):this.getDocumentsMatchingCollectionQuery(t,r,o,a)}getNextDocuments(t,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,a-c.size):j.resolve(_i());let g=-1,v=c;return p.next(E=>j.forEach(E,(C,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),c.get(C)?j.resolve():this.remoteDocumentCache.getEntry(t,C).next(z=>{v=v.insert(C,z)}))).next(()=>this.populateOverlays(t,E,c)).next(()=>this.computeViews(t,v,E,De())).next(C=>({batchId:g,changes:A_(C)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new he(r)).next(o=>{let a=Lo();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,o,a){const c=r.collectionGroup;let p=Lo();return this.indexManager.getCollectionParents(t,c).next(g=>j.forEach(g,v=>{const E=function(M,z){return new Ua(z,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(r,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,E,o,a).next(C=>{C.forEach((M,z)=>{p=p.insert(M,z)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,r,o,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,a))).next(p=>{c.forEach((v,E)=>{const C=E.getKey();p.get(C)===null&&(p=p.insert(C,Nt.newInvalidDocument(C)))});let g=Lo();return p.forEach((v,E)=>{const C=c.get(v);C!==void 0&&zo(C.mutation,E,Or.empty(),Wt.now()),Ba(r,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,r){return j.resolve(this.Tr.get(r))}saveBundleMetadata(t,r){return this.Tr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Ss(a.createTime)}}(r)),j.resolve()}getNamedQuery(t,r){return j.resolve(this.Ir.get(r))}saveNamedQuery(t,r){return this.Ir.set(r.name,function(a){return{name:a.name,query:o0(a.bundledQuery),readTime:Ss(a.readTime)}}(r)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.overlays=new tt(he.comparator),this.Er=new Map}getOverlay(t,r){return j.resolve(this.overlays.get(r))}getOverlays(t,r){const o=_i();return j.forEach(r,a=>this.getOverlay(t,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((a,c)=>{this.Tt(t,r,c)}),j.resolve()}removeOverlaysForBatchId(t,r,o){const a=this.Er.get(o);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(o)),j.resolve()}getOverlaysForCollection(t,r,o){const a=_i(),c=r.length+1,p=new he(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>o&&a.set(v.getKey(),v)}return j.resolve(a)}getOverlaysForCollectionGroup(t,r,o,a){let c=new tt((E,C)=>E-C);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let C=c.get(E.largestBatchId);C===null&&(C=_i(),c=c.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const g=_i(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,C)=>g.set(E,C)),!(g.size()>=a)););return j.resolve(g)}Tt(t,r,o){const a=this.overlays.get(o.key);if(a!==null){const p=this.Er.get(a.largestBatchId).delete(o.key);this.Er.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new U_(r,o));let c=this.Er.get(r);c===void 0&&(c=De(),this.Er.set(r,c)),this.Er.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this.dr=new ht(yt.Ar),this.Rr=new ht(yt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,r){const o=new yt(t,r);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.gr(new yt(t,r))}pr(t,r){t.forEach(o=>this.removeReference(o,r))}yr(t){const r=new he(new Ge([])),o=new yt(r,t),a=new yt(r,t+1),c=[];return this.Rr.forEachInRange([o,a],p=>{this.gr(p),c.push(p.key)}),c}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const r=new he(new Ge([])),o=new yt(r,t),a=new yt(r,t+1);let c=De();return this.Rr.forEachInRange([o,a],p=>{c=c.add(p.key)}),c}containsKey(t){const r=new yt(t,0),o=this.dr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class yt{constructor(t,r){this.key=t,this.br=r}static Ar(t,r){return he.comparator(t.key,r.key)||Ae(t.br,r.br)}static Vr(t,r){return Ae(t.br,r.br)||he.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new ht(yt.Ar)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new F_(c,r,o,a);this.mutationQueue.push(p);for(const g of a)this.vr=this.vr.add(new yt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return j.resolve(p)}lookupMutationBatch(t,r){return j.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,a=this.Fr(o),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new yt(r,0),a=new yt(r,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([o,a],p=>{const g=this.Cr(p.br);c.push(g)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new ht(Ae);return r.forEach(a=>{const c=new yt(a,0),p=new yt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,p],g=>{o=o.add(g.br)})}),j.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,a=o.length+1;let c=o;he.isDocumentKey(c)||(c=c.child(""));const p=new yt(new he(c),0);let g=new ht(Ae);return this.vr.forEachWhile(v=>{const E=v.key.path;return!!o.isPrefixOf(E)&&(E.length===a&&(g=g.add(v.br)),!0)},p),j.resolve(this.Mr(g))}Mr(t){const r=[];return t.forEach(o=>{const a=this.Cr(o);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Ke(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return j.forEach(r.mutations,a=>{const c=new yt(a.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.vr=o})}Ln(t){}containsKey(t,r){const o=new yt(r,0),a=this.vr.firstAfterOrEqual(o);return j.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Or(t,r){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const r=this.Fr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t){this.Nr=t,this.docs=function(){return new tt(he.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,a=this.docs.get(o),c=a?a.size:0,p=this.Nr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return j.resolve(o?o.document.mutableCopy():Nt.newInvalidDocument(r))}getEntries(t,r){let o=br();return r.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():Nt.newInvalidDocument(a))}),j.resolve(o)}getDocumentsMatchingQuery(t,r,o,a){let c=br();const p=r.path,g=new he(p.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:C}}=v.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||Jv(Yv(C),o)<=0||(a.has(C.key)||Ba(r,C))&&(c=c.insert(C.key,C.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(t,r,o,a){pe()}Lr(t,r){return j.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new w0(this)}getSize(t){return j.resolve(this.size)}}class w0 extends f0{constructor(t){super(),this.hr=t}applyChanges(t){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.hr.addEntry(t,a)):this.hr.removeEntry(o)}),j.waitFor(r)}getFromCache(t,r){return this.hr.getEntry(t,r)}getAllFromCache(t,r){return this.hr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t){this.persistence=t,this.Br=new Ai(r=>ah(r),uh),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.kr=0,this.qr=new fh,this.targetCount=0,this.Qr=Ds.qn()}forEachTarget(t,r){return this.Br.forEach((o,a)=>r(a)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.kr&&(this.kr=r),j.resolve()}Un(t){this.Br.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Qr=new Ds(r),this.highestTargetId=r),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,r){return this.Un(r),this.targetCount+=1,j.resolve()}updateTargetData(t,r){return this.Un(r),j.resolve()}removeTargetData(t,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,r,o){let a=0;const c=[];return this.Br.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Br.delete(p),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,r){const o=this.Br.get(r)||null;return j.resolve(o)}addMatchingKeys(t,r,o){return this.qr.mr(r,o),j.resolve()}removeMatchingKeys(t,r,o){this.qr.pr(r,o);const a=this.persistence.referenceDelegate,c=[];return a&&r.forEach(p=>{c.push(a.markPotentiallyOrphaned(t,p))}),j.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.qr.yr(r),j.resolve()}getMatchingKeysForTargetId(t,r){const o=this.qr.Sr(r);return j.resolve(o)}containsKey(t,r){return j.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,r){this.Kr={},this.overlays={},this.$r=new Oa(0),this.Ur=!1,this.Ur=!0,this.Wr=new v0,this.referenceDelegate=t(this),this.Gr=new T0(this),this.indexManager=new l0,this.remoteDocumentCache=function(a){return new E0(a)}(o=>this.referenceDelegate.zr(o)),this.serializer=new s0(r),this.jr=new g0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new y0,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.Kr[t.toKey()];return o||(o=new _0(r,this.referenceDelegate),this.Kr[t.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,r,o){ee("MemoryPersistence","Starting transaction:",t);const a=new S0(this.$r.next());return this.referenceDelegate.Hr(),o(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(t,r){return j.or(Object.values(this.Kr).map(o=>()=>o.containsKey(t,r)))}}class S0 extends e_{constructor(t){super(),this.currentSequenceNumber=t}}class ph{constructor(t){this.persistence=t,this.Zr=new fh,this.Xr=null}static ei(t){return new ph(t)}get ti(){if(this.Xr)return this.Xr;throw pe()}addReference(t,r,o){return this.Zr.addReference(o,r),this.ti.delete(o.toString()),j.resolve()}removeReference(t,r,o){return this.Zr.removeReference(o,r),this.ti.add(o.toString()),j.resolve()}markPotentiallyOrphaned(t,r){return this.ti.add(r.toString()),j.resolve()}removeTarget(t,r){this.Zr.yr(r.targetId).forEach(a=>this.ti.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}Hr(){this.Xr=new Set}Jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,o=>{const a=he.fromPath(o);return this.ni(t,a).next(c=>{c||r.removeEntry(a,fe.min())})}).next(()=>(this.Xr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ni(t,r).next(o=>{o?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(t){return 0}ni(t,r){return j.or([()=>j.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Yr(t,r)])}}class Da{constructor(t,r){this.persistence=t,this.ri=new Ai(o=>n_(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=d0(this,r)}static ei(t,r){return new Da(t,r)}Hr(){}Jr(t){return j.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}Xn(t){const r=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(o=>r.next(a=>o+a))}nr(t){let r=0;return this.er(t,o=>{r++}).next(()=>r)}er(t,r){return j.forEach(this.ri,(o,a)=>this.ir(t,o,a).next(c=>c?j.resolve():r(a)))}removeTargets(t,r,o){return this.persistence.getTargetCache().removeTargets(t,r,o)}removeOrphanedDocuments(t,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(t,p=>this.ir(t,p,r).next(g=>{g||(o++,c.removeEntry(p,fe.min()))})).next(()=>c.apply(t)).next(()=>o)}markPotentiallyOrphaned(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}removeReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}zr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=_a(t.data.value)),r}ir(t,r,o){return j.or([()=>this.persistence.Yr(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.ri.get(r);return j.resolve(a!==void 0&&a>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,r,o,a){this.targetId=t,this.fromCache=r,this.Wi=o,this.Gi=a}static zi(t,r){let o=De(),a=De();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new mh(t,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return wy()?8:t_(_y())>0?6:4}()}initialize(t,r){this.Zi=t,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(t,r,o,a){const c={result:null};return this.Xi(t,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.es(t,r,a,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new I0;return this.ts(t,r,p).next(g=>{if(c.result=g,this.Hi)return this.ns(t,r,p,g.size)})}).next(()=>c.result)}ns(t,r,o,a){return o.documentReadCount<this.Ji?(vs()<=Ie.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",_s(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(vs()<=Ie.DEBUG&&ee("QueryEngine","Query:",_s(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.Yi*a?(vs()<=Ie.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",_s(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jn(r))):j.resolve())}Xi(t,r){if(up(r))return j.resolve(null);let o=jn(r);return this.indexManager.getIndexType(t,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Qc(r,null,"F"),o=jn(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const p=De(...c);return this.Zi.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,o).next(v=>{const E=this.rs(r,g);return this.ss(r,E,p,v.readTime)?this.Xi(t,Qc(r,null,"F")):this.os(t,E,r,v)}))})))}es(t,r,o,a){return up(r)||a.isEqual(fe.min())?j.resolve(null):this.Zi.getDocuments(t,o).next(c=>{const p=this.rs(r,c);return this.ss(r,p,o,a)?j.resolve(null):(vs()<=Ie.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_s(r)),this.os(t,p,r,Xv(a,-1)).next(g=>g))})}rs(t,r){let o=new ht(hm(t));return r.forEach((a,c)=>{Ba(t,c)&&(o=o.add(c))}),o}ss(t,r,o,a){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(t,r,o){return vs()<=Ie.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",_s(r)),this.Zi.getDocumentsMatchingQuery(t,r,zr.min(),o)}os(t,r,o,a){return this.Zi.getDocumentsMatchingQuery(t,o,a).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,r,o,a){this.persistence=t,this._s=r,this.serializer=a,this.us=new tt(Ae),this.cs=new Ai(c=>ah(c),uh),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(o)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new m0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.us))}}function R0(s,t,r,o){return new C0(s,t,r,o)}async function km(s,t){const r=Ce(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(c=>(a=c,r.Ps(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let v=De();for(const E of a){p.push(E.batchId);for(const C of E.mutations)v=v.add(C.key)}for(const E of c){g.push(E.batchId);for(const C of E.mutations)v=v.add(C.key)}return r.localDocuments.getDocuments(o,v).next(E=>({Ts:E,removedBatchIds:p,addedBatchIds:g}))})})}function Dm(s){const t=Ce(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Gr.getLastRemoteSnapshotVersion(r))}function P0(s,t){const r=Ce(s),o=t.snapshotVersion;let a=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.hs.newChangeBuffer({trackRemovals:!0});a=r.us;const g=[];t.targetChanges.forEach((C,M)=>{const z=a.get(M);if(!z)return;g.push(r.Gr.removeMatchingKeys(c,C.removedDocuments,M).next(()=>r.Gr.addMatchingKeys(c,C.addedDocuments,M)));let H=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(M)!==null?H=H.withResumeToken(St.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):C.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(C.resumeToken,o)),a=a.insert(M,H),function(Z,K,Ne){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8?!0:Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0}(z,H,C)&&g.push(r.Gr.updateTargetData(c,H))});let v=br(),E=De();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,C))}),g.push(k0(c,p,t.documentUpdates).next(C=>{v=C.Is,E=C.Es})),!o.isEqual(fe.min())){const C=r.Gr.getLastRemoteSnapshotVersion(c).next(M=>r.Gr.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(C)}return j.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(r.us=a,c))}function k0(s,t,r){let o=De(),a=De();return r.forEach(c=>o=o.add(c)),t.getEntries(s,o).next(c=>{let p=br();return r.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(g)),v.isNoDocument()&&v.version.isEqual(fe.min())?(t.removeEntry(g,v.readTime),p=p.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(v),p=p.insert(g,v)):ee("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{Is:p,Es:a}})}function D0(s,t){const r=Ce(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.Gr.getTargetData(o,t).next(c=>c?(a=c,j.resolve(a)):r.Gr.allocateTargetId(o).next(p=>(a=new Mr(t,p,"TargetPurposeListen",o.currentSequenceNumber),r.Gr.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.us.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.us=r.us.insert(o.targetId,o),r.cs.set(t,o.targetId)),o})}async function Yc(s,t,r){const o=Ce(s),a=o.us.get(t),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,a))}catch(p){if(!Ls(p))throw p;ee("LocalStore",`Failed to update sequence numbers for target ${t}: ${p}`)}o.us=o.us.remove(t),o.cs.delete(a.target)}function wp(s,t,r){const o=Ce(s);let a=fe.min(),c=De();return o.persistence.runTransaction("Execute query","readwrite",p=>function(v,E,C){const M=Ce(v),z=M.cs.get(C);return z!==void 0?j.resolve(M.us.get(z)):M.Gr.getTargetData(E,C)}(o,p,jn(t)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(p,g.targetId).next(v=>{c=v})}).next(()=>o._s.getDocumentsMatchingQuery(p,t,r?a:fe.min(),r?c:De())).next(g=>(V0(o,T_(t),g),{documents:g,ds:c})))}function V0(s,t,r){let o=s.ls.get(t)||fe.min();r.forEach((a,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.ls.set(t,o)}class Tp{constructor(){this.activeTargetIds=P_()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class N0{constructor(){this._o=new Tp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,r,o){this.ao[t]=r}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new Tp,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga=null;function kc(){return ga===null?ga=function(){return 268435456+Math.round(2147483648*Math.random())}():ga++,"0x"+ga.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class M0 extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+r.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(r,o,a,c,p){const g=kc(),v=this.No(r,o.toUriEncodedString());ee("RestConnection",`Sending RPC '${r}' ${g}:`,v,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,p),this.Bo(r,v,E,a).then(C=>(ee("RestConnection",`Received RPC '${r}' ${g}: `,C),C),C=>{throw Cs("RestConnection",`RPC '${r}' ${g} failed with error: `,C,"url: ",v,"request:",a),C})}ko(r,o,a,c,p,g){return this.Oo(r,o,a,c,p)}Lo(r,o,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),a&&a.headers.forEach((c,p)=>r[p]=c)}No(r,o){const a=L0[r];return`${this.Fo}/v1/${o}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,r,o,a){const c=kc();return new Promise((p,g)=>{const v=new Xp;v.setWithCredentials(!0),v.listenOnce(Yp.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case va.NO_ERROR:const C=v.getResponseJson();ee(Dt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(C)),p(C);break;case va.TIMEOUT:ee(Dt,`RPC '${t}' ${c} timed out`),g(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case va.HTTP_ERROR:const M=v.getStatus();if(ee(Dt,`RPC '${t}' ${c} failed with status:`,M,"response text:",v.getResponseText()),M>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const H=z==null?void 0:z.error;if(H&&H.status&&H.message){const te=function(K){const Ne=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ne)>=0?Ne:X.UNKNOWN}(H.status);g(new ce(te,H.message))}else g(new ce(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ce(X.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ee(Dt,`RPC '${t}' ${c} completed.`)}});const E=JSON.stringify(a);ee(Dt,`RPC '${t}' ${c} sending request:`,a),v.send(r,"POST",E,o,15)})}qo(t,r,o){const a=kc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=em(),g=Zp(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Lo(v.initMessageHeaders,r,o),v.encodeInitMessageHeaders=!0;const C=c.join("");ee(Dt,`Creating RPC '${t}' stream ${a}: ${C}`,v);const M=p.createWebChannel(C,v);let z=!1,H=!1;const te=new O0({Eo:K=>{H?ee(Dt,`Not sending because RPC '${t}' stream ${a} is closed:`,K):(z||(ee(Dt,`Opening RPC '${t}' stream ${a} transport.`),M.open(),z=!0),ee(Dt,`RPC '${t}' stream ${a} sending:`,K),M.send(K))},Ao:()=>M.close()}),Z=(K,Ne,Re)=>{K.listen(Ne,ve=>{try{Re(ve)}catch(_e){setTimeout(()=>{throw _e},0)}})};return Z(M,xo.EventType.OPEN,()=>{H||(ee(Dt,`RPC '${t}' stream ${a} transport opened.`),te.So())}),Z(M,xo.EventType.CLOSE,()=>{H||(H=!0,ee(Dt,`RPC '${t}' stream ${a} transport closed`),te.Do())}),Z(M,xo.EventType.ERROR,K=>{H||(H=!0,Cs(Dt,`RPC '${t}' stream ${a} transport errored:`,K),te.Do(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),Z(M,xo.EventType.MESSAGE,K=>{var Ne;if(!H){const Re=K.data[0];Ke(!!Re);const ve=Re,_e=(ve==null?void 0:ve.error)||((Ne=ve[0])===null||Ne===void 0?void 0:Ne.error);if(_e){ee(Dt,`RPC '${t}' stream ${a} received error:`,_e);const Xe=_e.status;let Pe=function(I){const P=it[I];if(P!==void 0)return _m(P)}(Xe),k=_e.message;Pe===void 0&&(Pe=X.INTERNAL,k="Unknown error status: "+Xe+" with message "+_e.message),H=!0,te.Do(new ce(Pe,k)),M.close()}else ee(Dt,`RPC '${t}' stream ${a} received:`,Re),te.vo(Re)}}),Z(g,Jp.STAT_EVENT,K=>{K.stat===Bc.PROXY?ee(Dt,`RPC '${t}' stream ${a} detected buffering proxy`):K.stat===Bc.NOPROXY&&ee(Dt,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{te.bo()},0),te}}function Dc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(s){return new Q_(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,r,o=1e3,a=1.5,c=6e4){this.li=t,this.timerId=r,this.Qo=o,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const r=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),a=Math.max(0,r-o);a>0&&ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,r,o,a,c,p,g,v){this.li=t,this.Yo=o,this.Zo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Nm(t,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(ur(r.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(r)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Xo===r&&this.I_(o,a)},o=>{t(()=>{const a=new ce(X.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(a)})})}I_(t,r){const o=this.T_(this.Xo);this.stream=this.d_(t,r),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{o(()=>this.E_(a))}),this.stream.onMessage(a=>{o(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return ee("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return r=>{this.li.enqueueAndForget(()=>this.Xo===t?r():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U0 extends F0{constructor(t,r,o,a,c,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,p),this.serializer=c}d_(t,r){return this.connection.qo("Listen",t,r)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const r=Y_(this.serializer,t),o=function(c){if(!("targetChange"in c))return fe.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?fe.min():p.readTime?Ss(p.readTime):fe.min()}(t);return this.listener.R_(r,o)}V_(t){const r={};r.database=vp(this.serializer),r.addTarget=function(c,p){let g;const v=p.target;if(g=Hc(v)?{documents:J_(c,v)}:{query:Z_(c,v).ct},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=W_(c,p.resumeToken);const E=Gc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(fe.min())>0){g.readTime=K_(c,p.snapshotVersion.toTimestamp());const E=Gc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,t);const o=t0(this.serializer,t);o&&(r.labels=o),this.c_(r)}m_(t){const r={};r.database=vp(this.serializer),r.removeTarget=t,this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends class{}{constructor(t,r,o,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Oo(t,Xc(r,o),a,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(X.UNKNOWN,c.toString())})}ko(t,r,o,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.ko(t,Xc(r,o),a,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ce(X.UNKNOWN,p.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class B0{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ur(r),this.C_=!1):ee("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,r,o,a,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(p=>{o.enqueueAndForget(async()=>{Go(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(v){const E=Ce(v);E.k_.add(4),await Wo(E),E.K_.set("Unknown"),E.k_.delete(4),await qa(E)}(this))})}),this.K_=new B0(o,a)}}async function qa(s){if(Go(s))for(const t of s.q_)await t(!0)}async function Wo(s){for(const t of s.q_)await t(!1)}function xm(s,t){const r=Ce(s);r.B_.has(t.targetId)||(r.B_.set(t.targetId,t),_h(r)?vh(r):Os(r).s_()&&yh(r,t))}function gh(s,t){const r=Ce(s),o=Os(r);r.B_.delete(t),o.s_()&&Lm(r,t),r.B_.size===0&&(o.s_()?o.a_():Go(r)&&r.K_.set("Unknown"))}function yh(s,t){if(s.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fe.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Os(s).V_(t)}function Lm(s,t){s.U_.xe(t),Os(s).m_(t)}function vh(s){s.U_=new $_({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>s.B_.get(t)||null,nt:()=>s.datastore.serializer.databaseId}),Os(s).start(),s.K_.F_()}function _h(s){return Go(s)&&!Os(s).i_()&&s.B_.size>0}function Go(s){return Ce(s).k_.size===0}function Om(s){s.U_=void 0}async function $0(s){s.K_.set("Online")}async function b0(s){s.B_.forEach((t,r)=>{yh(s,t)})}async function q0(s,t){Om(s),_h(s)?(s.K_.O_(t),vh(s)):s.K_.set("Unknown")}async function H0(s,t,r){if(s.K_.set("Online"),t instanceof wm&&t.state===2&&t.cause)try{await async function(a,c){const p=c.cause;for(const g of c.targetIds)a.B_.has(g)&&(await a.remoteSyncer.rejectListen(g,p),a.B_.delete(g),a.U_.removeTarget(g))}(s,t)}catch(o){ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await Ip(s,o)}else if(t instanceof wa?s.U_.$e(t):t instanceof Em?s.U_.Je(t):s.U_.Ge(t),!r.isEqual(fe.min()))try{const o=await Dm(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.U_.it(p);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const C=c.B_.get(E);C&&c.B_.set(E,C.withResumeToken(v.resumeToken,p))}}),g.targetMismatches.forEach((v,E)=>{const C=c.B_.get(v);if(!C)return;c.B_.set(v,C.withResumeToken(St.EMPTY_BYTE_STRING,C.snapshotVersion)),Lm(c,v);const M=new Mr(C.target,v,E,C.sequenceNumber);yh(c,M)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){ee("RemoteStore","Failed to raise snapshot:",o),await Ip(s,o)}}async function Ip(s,t,r){if(!Ls(t))throw t;s.k_.add(1),await Wo(s),s.K_.set("Offline"),r||(r=()=>Dm(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await r(),s.k_.delete(1),await qa(s)})}async function Ap(s,t){const r=Ce(s);r.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const o=Go(r);r.k_.add(3),await Wo(r),o&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.k_.delete(3),await qa(r)}async function Q0(s,t){const r=Ce(s);t?(r.k_.delete(2),await qa(r)):t||(r.k_.add(2),await Wo(r),r.K_.set("Unknown"))}function Os(s){return s.W_||(s.W_=function(r,o,a){const c=Ce(r);return c.b_(),new U0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(s.datastore,s.asyncQueue,{Ro:$0.bind(null,s),mo:b0.bind(null,s),po:q0.bind(null,s),R_:H0.bind(null,s)}),s.q_.push(async t=>{t?(s.W_.__(),_h(s)?vh(s):s.K_.set("Unknown")):(await s.W_.stop(),Om(s))})),s.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,r,o,a,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,a,c){const p=Date.now()+o,g=new Eh(t,r,p,a,c);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(s,t){if(ur("AsyncQueue",`${t}: ${s}`),Ls(s))return new ce(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(t){return new Is(t.comparator)}constructor(t){this.comparator=t?(r,o)=>t(r,o)||he.comparator(r.key,o.key):(r,o)=>he.comparator(r.key,o.key),this.keyedMap=Lo(),this.sortedSet=new tt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Is)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const o=new Is;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.z_=new tt(he.comparator)}track(t){const r=t.doc.key,o=this.z_.get(r);o?t.type!==0&&o.type===3?this.z_=this.z_.insert(r,t):t.type===3&&o.type!==1?this.z_=this.z_.insert(r,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.z_=this.z_.insert(r,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.z_=this.z_.remove(r):t.type===1&&o.type===2?this.z_=this.z_.insert(r,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):pe():this.z_=this.z_.insert(r,t)}j_(){const t=[];return this.z_.inorderTraversal((r,o)=>{t.push(o)}),t}}class Vs{constructor(t,r,o,a,c,p,g,v,E){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(t,r,o,a,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Vs(t,r,Is.emptySet(r),p,o,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&za(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class W0{constructor(){this.queries=Rp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,o){const a=Ce(r),c=a.queries;a.queries=Rp(),c.forEach((p,g)=>{for(const v of g.J_)v.onError(o)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function Rp(){return new Ai(s=>cm(s),za)}async function G0(s,t){const r=Ce(s);let o=3;const a=t.query;let c=r.queries.get(a);c?!c.Y_()&&t.Z_()&&(o=2):(c=new K0,o=t.Z_()?0:1);try{switch(o){case 0:c.H_=await r.onListen(a,!0);break;case 1:c.H_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(p){const g=Mm(p,`Initialization of query '${_s(t.query)}' failed`);return void t.onError(g)}r.queries.set(a,c),c.J_.push(t),t.ea(r.onlineState),c.H_&&t.ta(c.H_)&&wh(r)}async function X0(s,t){const r=Ce(s),o=t.query;let a=3;const c=r.queries.get(o);if(c){const p=c.J_.indexOf(t);p>=0&&(c.J_.splice(p,1),c.J_.length===0?a=t.Z_()?0:1:!c.Y_()&&t.Z_()&&(a=2))}switch(a){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function Y0(s,t){const r=Ce(s);let o=!1;for(const a of t){const c=a.query,p=r.queries.get(c);if(p){for(const g of p.J_)g.ta(a)&&(o=!0);p.H_=a}}o&&wh(r)}function J0(s,t,r){const o=Ce(s),a=o.queries.get(t);if(a)for(const c of a.J_)c.onError(r);o.queries.delete(t)}function wh(s){s.X_.forEach(t=>{t.next()})}var Jc,Pp;(Pp=Jc||(Jc={})).na="default",Pp.Cache="cache";class Z0{constructor(t,r,o){this.query=t,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(t){if(!this.options.includeMetadataChanges){const o=[];for(const a of t.docChanges)a.type!==3&&o.push(a);t=new Vs(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ia?this.oa(t)&&(this.ra.next(t),r=!0):this._a(t,this.onlineState)&&(this.aa(t),r=!0),this.sa=t,r}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),r=!0),r}_a(t,r){if(!t.fromCache||!this.Z_())return!0;const o=r!=="Offline";return(!this.options.ua||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(t){t=Vs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Jc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this.key=t}}class Um{constructor(t){this.key=t}}class eE{constructor(t,r){this.query=t,this.da=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=De(),this.mutatedKeys=De(),this.Va=hm(t),this.ma=new Is(this.Va)}get fa(){return this.da}ga(t,r){const o=r?r.pa:new Cp,a=r?r.ma:this.ma;let c=r?r.mutatedKeys:this.mutatedKeys,p=a,g=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((C,M)=>{const z=a.get(C),H=Ba(this.query,M)?M:null,te=!!z&&this.mutatedKeys.has(z.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;z&&H?z.data.isEqual(H.data)?te!==Z&&(o.track({type:3,doc:H}),K=!0):this.ya(z,H)||(o.track({type:2,doc:H}),K=!0,(v&&this.Va(H,v)>0||E&&this.Va(H,E)<0)&&(g=!0)):!z&&H?(o.track({type:0,doc:H}),K=!0):z&&!H&&(o.track({type:1,doc:z}),K=!0,(v||E)&&(g=!0)),K&&(H?(p=p.add(H),c=Z?c.add(C):c.delete(C)):(p=p.delete(C),c=c.delete(C)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const C=this.query.limitType==="F"?p.last():p.first();p=p.delete(C.key),c=c.delete(C.key),o.track({type:1,doc:C})}return{ma:p,pa:o,ss:g,mutatedKeys:c}}ya(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o,a){const c=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const p=t.pa.j_();p.sort((C,M)=>function(H,te){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return Z(H)-Z(te)}(C.type,M.type)||this.Va(C.doc,M.doc)),this.wa(o),a=a!=null&&a;const g=r&&!a?this.Sa():[],v=this.Ra.size===0&&this.current&&!a?1:0,E=v!==this.Aa;return this.Aa=v,p.length!==0||E?{snapshot:new Vs(this.query,t.ma,c,p,t.mutatedKeys,v===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Cp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(r=>this.da=this.da.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.da=this.da.delete(r)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=De(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const r=[];return t.forEach(o=>{this.Ra.has(o)||r.push(new Um(o))}),this.Ra.forEach(o=>{t.has(o)||r.push(new Fm(o))}),r}va(t){this.da=t.ds,this.Ra=De();const r=this.ga(t.documents);return this.applyChanges(r,!0)}Ca(){return Vs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class tE{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class nE{constructor(t){this.key=t,this.Fa=!1}}class rE{constructor(t,r,o,a,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ma={},this.xa=new Ai(g=>cm(g),za),this.Oa=new Map,this.Na=new Set,this.La=new tt(he.comparator),this.Ba=new Map,this.ka=new fh,this.qa={},this.Qa=new Map,this.Ka=Ds.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function iE(s,t,r=!0){const o=bm(s);let a;const c=o.xa.get(t);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await zm(o,t,r,!0),a}async function sE(s,t){const r=bm(s);await zm(r,t,!0,!1)}async function zm(s,t,r,o){const a=await D0(s.localStore,jn(t)),c=a.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await oE(s,t,c,p==="current",a.resumeToken)),s.isPrimaryClient&&r&&xm(s.remoteStore,a),g}async function oE(s,t,r,o,a){s.Ua=(M,z,H)=>async function(Z,K,Ne,Re){let ve=K.view.ga(Ne);ve.ss&&(ve=await wp(Z.localStore,K.query,!1).then(({documents:k})=>K.view.ga(k,ve)));const _e=Re&&Re.targetChanges.get(K.targetId),Xe=Re&&Re.targetMismatches.get(K.targetId)!=null,Pe=K.view.applyChanges(ve,Z.isPrimaryClient,_e,Xe);return Dp(Z,K.targetId,Pe.ba),Pe.snapshot}(s,M,z,H);const c=await wp(s.localStore,t,!0),p=new eE(t,c.ds),g=p.ga(c.documents),v=Ko.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",a),E=p.applyChanges(g,s.isPrimaryClient,v);Dp(s,r,E.ba);const C=new tE(t,r,p);return s.xa.set(t,C),s.Oa.has(r)?s.Oa.get(r).push(t):s.Oa.set(r,[t]),E.snapshot}async function lE(s,t,r){const o=Ce(s),a=o.xa.get(t),c=o.Oa.get(a.targetId);if(c.length>1)return o.Oa.set(a.targetId,c.filter(p=>!za(p,t))),void o.xa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await Yc(o.localStore,a.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(a.targetId),r&&gh(o.remoteStore,a.targetId),Zc(o,a.targetId)}).catch(La)):(Zc(o,a.targetId),await Yc(o.localStore,a.targetId,!0))}async function aE(s,t){const r=Ce(s),o=r.xa.get(t),a=r.Oa.get(o.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),gh(r.remoteStore,o.targetId))}async function Bm(s,t){const r=Ce(s);try{const o=await P0(r.localStore,t);t.targetChanges.forEach((a,c)=>{const p=r.Ba.get(c);p&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Fa=!0:a.modifiedDocuments.size>0?Ke(p.Fa):a.removedDocuments.size>0&&(Ke(p.Fa),p.Fa=!1))}),await $m(r,o,t)}catch(o){await La(o)}}function kp(s,t,r){const o=Ce(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.xa.forEach((c,p)=>{const g=p.view.ea(t);g.snapshot&&a.push(g.snapshot)}),function(p,g){const v=Ce(p);v.onlineState=g;let E=!1;v.queries.forEach((C,M)=>{for(const z of M.J_)z.ea(g)&&(E=!0)}),E&&wh(v)}(o.eventManager,t),a.length&&o.Ma.R_(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function uE(s,t,r){const o=Ce(s);o.sharedClientState.updateQueryState(t,"rejected",r);const a=o.Ba.get(t),c=a&&a.key;if(c){let p=new tt(he.comparator);p=p.insert(c,Nt.newNoDocument(c,fe.min()));const g=De().add(c),v=new ba(fe.min(),new Map,new tt(Ae),p,g);await Bm(o,v),o.La=o.La.remove(c),o.Ba.delete(t),Th(o)}else await Yc(o.localStore,t,!1).then(()=>Zc(o,t,r)).catch(La)}function Zc(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const o of s.Oa.get(t))s.xa.delete(o),r&&s.Ma.Wa(o,r);s.Oa.delete(t),s.isPrimaryClient&&s.ka.yr(t).forEach(o=>{s.ka.containsKey(o)||jm(s,o)})}function jm(s,t){s.Na.delete(t.path.canonicalString());const r=s.La.get(t);r!==null&&(gh(s.remoteStore,r),s.La=s.La.remove(t),s.Ba.delete(r),Th(s))}function Dp(s,t,r){for(const o of r)o instanceof Fm?(s.ka.addReference(o.key,t),cE(s,o)):o instanceof Um?(ee("SyncEngine","Document no longer in limbo: "+o.key),s.ka.removeReference(o.key,t),s.ka.containsKey(o.key)||jm(s,o.key)):pe()}function cE(s,t){const r=t.key,o=r.path.canonicalString();s.La.get(r)||s.Na.has(o)||(ee("SyncEngine","New document in limbo: "+r),s.Na.add(o),Th(s))}function Th(s){for(;s.Na.size>0&&s.La.size<s.maxConcurrentLimboResolutions;){const t=s.Na.values().next().value;s.Na.delete(t);const r=new he(Ge.fromString(t)),o=s.Ka.next();s.Ba.set(o,new nE(r)),s.La=s.La.insert(r,o),xm(s.remoteStore,new Mr(jn(um(r.path)),o,"TargetPurposeLimboResolution",Oa.oe))}}async function $m(s,t,r){const o=Ce(s),a=[],c=[],p=[];o.xa.isEmpty()||(o.xa.forEach((g,v)=>{p.push(o.Ua(v,t,r).then(E=>{var C;if((E||r)&&o.isPrimaryClient){const M=E?!E.fromCache:(C=r==null?void 0:r.targetChanges.get(v.targetId))===null||C===void 0?void 0:C.current;o.sharedClientState.updateQueryState(v.targetId,M?"current":"not-current")}if(E){a.push(E);const M=mh.zi(v.targetId,E);c.push(M)}}))}),await Promise.all(p),o.Ma.R_(a),await async function(v,E){const C=Ce(v);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>j.forEach(E,z=>j.forEach(z.Wi,H=>C.persistence.referenceDelegate.addReference(M,z.targetId,H)).next(()=>j.forEach(z.Gi,H=>C.persistence.referenceDelegate.removeReference(M,z.targetId,H)))))}catch(M){if(!Ls(M))throw M;ee("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const z=M.targetId;if(!M.fromCache){const H=C.us.get(z),te=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(te);C.us=C.us.insert(z,Z)}}}(o.localStore,c))}async function hE(s,t){const r=Ce(s);if(!r.currentUser.isEqual(t)){ee("SyncEngine","User change. New user:",t.toKey());const o=await km(r.localStore,t);r.currentUser=t,function(c,p){c.Qa.forEach(g=>{g.forEach(v=>{v.reject(new ce(X.CANCELLED,p))})}),c.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await $m(r,o.Ts)}}function dE(s,t){const r=Ce(s),o=r.Ba.get(t);if(o&&o.Fa)return De().add(o.key);{let a=De();const c=r.Oa.get(t);if(!c)return a;for(const p of c){const g=r.xa.get(p);a=a.unionWith(g.view.fa)}return a}}function bm(s){const t=Ce(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uE.bind(null,t),t.Ma.R_=Y0.bind(null,t.eventManager),t.Ma.Wa=J0.bind(null,t.eventManager),t}class Va{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vm(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return R0(this.persistence,new A0,t.initialUser,this.serializer)}ja(t){return new Pm(ph.ei,this.serializer)}za(t){return new N0}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Va.provider={build:()=>new Va};class fE extends Va{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,r){Ke(this.persistence.referenceDelegate instanceof Da);const o=this.persistence.referenceDelegate.garbageCollector;return new c0(o,t.asyncQueue,r)}ja(t){const r=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new Pm(o=>Da.ei(o,r),this.serializer)}}class eh{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>kp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=hE.bind(null,this.syncEngine),await Q0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new W0}()}createDatastore(t){const r=Vm(t.databaseInfo.databaseId),o=function(c){return new M0(c)}(t.databaseInfo);return function(c,p,g,v){return new z0(c,p,g,v)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,a,c,p,g){return new j0(o,a,c,p,g)}(this.localStore,this.datastore,t.asyncQueue,r=>kp(this.syncEngine,r,0),function(){return Sp.p()?new Sp:new x0}())}createSyncEngine(t,r){return function(a,c,p,g,v,E,C){const M=new rE(a,c,p,g,v,E);return C&&(M.$a=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const c=Ce(a);ee("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await Wo(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}eh.provider={build:()=>new eh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,r,o,a,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Vt.UNAUTHENTICATED,this.clientId=Wv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{ee("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(ee("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Mm(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function Vc(s,t){s.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async a=>{o.isEqual(a)||(await km(t.localStore,a),o=a)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Vp(s,t){s.asyncQueue.verifyOperationInProgress();const r=await gE(s);ee("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(o=>Ap(t.remoteStore,o)),s.setAppCheckTokenChangeListener((o,a)=>Ap(t.remoteStore,a)),s._onlineComponents=t}async function gE(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vc(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Cs("Error using user provided cache. Falling back to memory cache: "+r),await Vc(s,new Va)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Vc(s,new fE(void 0));return s._offlineComponents}async function yE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Vp(s,s._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Vp(s,new eh))),s._onlineComponents}async function vE(s){const t=await yE(s),r=t.eventManager;return r.onListen=iE.bind(null,t.syncEngine),r.onUnlisten=lE.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=sE.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=aE.bind(null,t.syncEngine),r}function _E(s,t,r={}){const o=new wi;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,v,E){const C=new pE({next:z=>{C.eu(),p.enqueueAndForget(()=>X0(c,M)),z.fromCache&&v.source==="server"?E.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(z)},error:z=>E.reject(z)}),M=new Z0(g,C,{includeMetadataChanges:!0,ua:!0});return G0(c,M)}(await vE(s),s.asyncQueue,t,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new Map;function EE(s,t,r,o){if(t===!0&&o===!0)throw new ce(X.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function xp(s){if(he.isDocumentKey(s))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function wE(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pe()}function th(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=wE(s);throw new ce(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qm((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,r,o,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lp(t),t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new Bv;switch(o.type){case"firstParty":return new qv(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Np.get(r);o&&(ee("ComponentProvider","Removing Datastore"),Np.delete(r),o.terminate())}(this),Promise.resolve()}}function TE(s,t,r,o={}){var a;const c=(s=th(s,Sh))._getSettings(),p=`${t}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,v;if(typeof o.mockUserToken=="string")g=o.mockUserToken,v=Vt.MOCK_USER;else{g=vy(o.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Vt(E)}s._authCredentials=new jv(new tm(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Ha(this.firestore,t,this._query)}}class Ms{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ms(this.firestore,t,this._key)}}class As extends Ha{constructor(t,r,o){super(t,r,um(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ms(this.firestore,null,new he(t))}withConverter(t){return new As(this.firestore,t,this._path)}}function SE(s,t,...r){if(s=Ry(s),s instanceof Sh){const o=Ge.fromString(t,...r);return xp(o),new As(s,null,o)}{if(!(s instanceof Ms||s instanceof As))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ge.fromString(t,...r));return xp(o),new As(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Nm(this,"async_queue_retry"),this.fu=()=>{const o=Dc();o&&ee("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=t;const r=Dc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const r=Dc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new wi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Ls(t))throw t;ee("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const r=this.gu.then(()=>(this.Ru=!0,t().catch(o=>{this.Au=o,this.Ru=!1;const a=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw ur("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Ru=!1,o))));return this.gu=r,r}enqueueAfterDelay(t,r,o){this.pu(),this.mu.indexOf(t)>-1&&(r=0);const a=Eh.createAndSchedule(this,t,r,o,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&pe()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const r of this.du)if(r.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const r=this.du.indexOf(t);this.du.splice(r,1)}}class Hm extends Sh{constructor(t,r,o,a){super(t,r,o,a),this.type="firestore",this._queue=new Op,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Op(t),this._firestoreClient=void 0,await t}}}function IE(s,t){const r=typeof s=="object"?s:Pv(),o=typeof s=="string"?s:"(default)",a=Iv(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=gy("firestore");c&&TE(a,...c)}return a}function AE(s){if(s._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||CE(s),s._firestoreClient}function CE(s){var t,r,o;const a=s._freezeSettings(),c=function(g,v,E,C){return new o_(g,v,E,C.host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,qm(C.experimentalLongPollingOptions),C.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new mE(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Na(St.fromBase64String(t))}catch(r){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Na(St.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ae(this._lat,t._lat)||Ae(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0}(this._values,t._values)}}const kE=new RegExp("[~\\*/\\[\\]]");function DE(s,t,r){if(t.search(kE)>=0)throw Mp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new Qm(...t.split("."))._internalPath}catch{throw Mp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Mp(s,t,r,o,a){let c=`Function ${t}() called with invalid data`;c+=". ";let p="";return new ce(X.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,r,o,a,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Wm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class VE extends Km{data(){return super.data()}}function Wm(s,t){return typeof t=="string"?DE(s,t):t instanceof Qm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xE{convertValue(t,r="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw pe()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return Qo(t,(a,c)=>{o[a]=this.convertValue(c,r)}),o}convertVectorValue(t){var r,o,a;const c=(a=(o=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||a===void 0?void 0:a.map(p=>et(p.doubleValue));return new PE(c)}convertGeoPoint(t){return new RE(et(t.latitude),et(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=Fa(t);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(bo(t));default:return null}}convertTimestamp(t){const r=Br(t);return new Wt(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=Ge.fromString(t);Ke(Rm(o));const a=new qo(o.get(1),o.get(3)),c=new he(o.popFirst(5));return a.isEqual(r)||ur(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class LE extends Km{constructor(t,r,o,a,c,p){super(t,r,o,a,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(Wm("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Ta extends LE{data(t={}){return super.data(t)}}class OE{constructor(t,r,o,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new ya(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new Ta(this._firestore,this._userDataWriter,o.key,o,new ya(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(g=>{const v=new Ta(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ya(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new Ta(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ya(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,C=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),C=p.indexOf(g.doc.key)),{type:ME(g.type),doc:v,oldIndex:E,newIndex:C}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function ME(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class FE extends xE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Na(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ms(this.firestore,null,r)}}function UE(s){s=th(s,Ha);const t=th(s.firestore,Hm),r=AE(t),o=new FE(t);return NE(s._query),_E(r,s._query).then(a=>new OE(t,o,s,a))}(function(t,r=!0){(function(a){xs=a})(Rv),Aa(new Bo("firestore",(o,{instanceIdentifier:a,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Hm(new $v(o.getProvider("auth-internal")),new Qv(o.getProvider("app-check-internal")),function(E,C){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(E.options.projectId,C)}(p,a),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ts(Jf,"4.7.5",t),Ts(Jf,"4.7.5","esm2017")})();const zE={apiKey:"AIzaSyDQy-dO_jnRBJ4zXaW3eFmbvPUGxJWq7f0",authDomain:"yasminmonth2025.firebaseapp.com",projectId:"yasminmonth2025",storageBucket:"yasminmonth2025.firebasestorage.app",messagingSenderId:"641160622036",appId:"1:641160622036:web:9e773420b01b033c9b3041",measurementId:"G-N6LQRK25H7"},BE=Qp(zE),jE=IE(BE);let fn=0,Nc=document.getElementById("statementArea"),xc=document.getElementById("date");function $E(){return Up.useEffect(()=>{QE()},[]),Kt.jsxs("div",{children:[Kt.jsxs("div",{className:"message-box",children:[Kt.jsx("h3",{id:"date"}),Kt.jsx("p",{id:"statementArea"})]}),Kt.jsxs("div",{className:"holdButtons",children:[Kt.jsx("button",{id:"backButton",onClick:HE,children:"Past Day"}),Kt.jsx("button",{id:"nextButton",onClick:qE,children:"Next Day"})]})]})}function bE(){console.log(new Date().toDateString())}function Gm(){const s=document.getElementById("backButton"),t=document.getElementById("nextButton");xa[fn]>new Date&&(console.log("This date is in the future"),console.log(xa[fn]),console.log(new Date)),fn<=0?(s.disabled=!0,s.style.backgroundColor="grey",t.disabled=!1,t.style.backgroundColor="pink"):fn>=Ii.length-1?(t.disabled=!0,t.style.backgroundColor="grey",s.disabled=!1,s.style.backgroundColor="pink"):(s.disabled=!1,t.disabled=!1,s.style.backgroundColor="pink",t.style.backgroundColor="pink")}function qE(){if(fn++,Gm(),fn>=Ii.length){fn=Ii.length-1;return}Ih()}function HE(){if(fn--,Gm(),fn<0){fn=0;return}Ih()}function Ih(){Nc=document.getElementById("statementArea"),Nc&&(Nc.innerHTML=Ii[fn].message),xc=document.getElementById("date"),xc&&(xc.innerHTML=Ii[fn].date),bE()}let Ii=[],xa=[],Fp=!1;const QE=async()=>{if(console.log("Fetching documents..."),Fp)return;Fp=!0,Ii=[],xa=[],(await UE(SE(jE,"statements"))).forEach(t=>{const r=t.data(),o={id:t.id,date:r.date.toDate().toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"short",year:"numeric"}).toString(),message:r.message};Ii.push(o),xa.push(r.date.toDate())}),Ih()};function KE(){return Kt.jsx(Kt.Fragment,{children:Kt.jsxs("div",{className:"hold-all",children:[Kt.jsx("h1",{children:"Yasmin Month!!!"}),Kt.jsx($E,{})]})})}oy.createRoot(document.getElementById("root")).render(Kt.jsx(Up.StrictMode,{children:Kt.jsx(KE,{})}));
